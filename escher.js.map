{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/underscore/modules/_setup.js","webpack:///./node_modules/d3-selection/src/create.js","webpack:///./node_modules/d3-selection/src/local.js","webpack:///./node_modules/d3-selection/src/selectAll.js","webpack:///./node_modules/d3-selection/src/touches.js","webpack:///./src/utils.js","webpack:///./node_modules/underscore/modules/restArguments.js","webpack:///./node_modules/underscore/modules/isObject.js","webpack:///./node_modules/underscore/modules/isNull.js","webpack:///./node_modules/underscore/modules/isUndefined.js","webpack:///./node_modules/underscore/modules/isBoolean.js","webpack:///./node_modules/underscore/modules/isElement.js","webpack:///./node_modules/underscore/modules/_tagTester.js","webpack:///./node_modules/underscore/modules/isString.js","webpack:///./node_modules/underscore/modules/isNumber.js","webpack:///./node_modules/underscore/modules/isDate.js","webpack:///./node_modules/underscore/modules/isRegExp.js","webpack:///./node_modules/underscore/modules/isError.js","webpack:///./node_modules/underscore/modules/isSymbol.js","webpack:///./node_modules/underscore/modules/isArrayBuffer.js","webpack:///./node_modules/underscore/modules/isFunction.js","webpack:///./node_modules/underscore/modules/_hasObjectTag.js","webpack:///./node_modules/underscore/modules/_stringTagBug.js","webpack:///./node_modules/underscore/modules/isDataView.js","webpack:///./node_modules/underscore/modules/isArray.js","webpack:///./node_modules/underscore/modules/_has.js","webpack:///./node_modules/underscore/modules/isArguments.js","webpack:///./node_modules/underscore/modules/isFinite.js","webpack:///./node_modules/underscore/modules/isNaN.js","webpack:///./node_modules/underscore/modules/constant.js","webpack:///./node_modules/underscore/modules/_createSizePropertyCheck.js","webpack:///./node_modules/underscore/modules/_shallowProperty.js","webpack:///./node_modules/underscore/modules/_getByteLength.js","webpack:///./node_modules/underscore/modules/_isBufferLike.js","webpack:///./node_modules/underscore/modules/isTypedArray.js","webpack:///./node_modules/underscore/modules/_getLength.js","webpack:///./node_modules/underscore/modules/_collectNonEnumProps.js","webpack:///./node_modules/underscore/modules/keys.js","webpack:///./node_modules/underscore/modules/isEmpty.js","webpack:///./node_modules/underscore/modules/isMatch.js","webpack:///./node_modules/underscore/modules/underscore.js","webpack:///./node_modules/underscore/modules/_toBufferView.js","webpack:///./node_modules/underscore/modules/isEqual.js","webpack:///./node_modules/underscore/modules/allKeys.js","webpack:///./node_modules/underscore/modules/_methodFingerprint.js","webpack:///./node_modules/underscore/modules/isMap.js","webpack:///./node_modules/underscore/modules/isWeakMap.js","webpack:///./node_modules/underscore/modules/isSet.js","webpack:///./node_modules/underscore/modules/isWeakSet.js","webpack:///./node_modules/underscore/modules/values.js","webpack:///./node_modules/underscore/modules/pairs.js","webpack:///./node_modules/underscore/modules/invert.js","webpack:///./node_modules/underscore/modules/functions.js","webpack:///./node_modules/underscore/modules/_createAssigner.js","webpack:///./node_modules/underscore/modules/extend.js","webpack:///./node_modules/underscore/modules/extendOwn.js","webpack:///./node_modules/underscore/modules/defaults.js","webpack:///./node_modules/underscore/modules/_baseCreate.js","webpack:///./node_modules/underscore/modules/create.js","webpack:///./node_modules/underscore/modules/clone.js","webpack:///./node_modules/underscore/modules/tap.js","webpack:///./node_modules/underscore/modules/toPath.js","webpack:///./node_modules/underscore/modules/_toPath.js","webpack:///./node_modules/underscore/modules/_deepGet.js","webpack:///./node_modules/underscore/modules/get.js","webpack:///./node_modules/underscore/modules/has.js","webpack:///./node_modules/underscore/modules/identity.js","webpack:///./node_modules/underscore/modules/matcher.js","webpack:///./node_modules/underscore/modules/property.js","webpack:///./node_modules/underscore/modules/_optimizeCb.js","webpack:///./node_modules/underscore/modules/_baseIteratee.js","webpack:///./node_modules/underscore/modules/iteratee.js","webpack:///./node_modules/underscore/modules/_cb.js","webpack:///./node_modules/underscore/modules/mapObject.js","webpack:///./node_modules/underscore/modules/noop.js","webpack:///./node_modules/underscore/modules/propertyOf.js","webpack:///./node_modules/underscore/modules/times.js","webpack:///./node_modules/underscore/modules/random.js","webpack:///./node_modules/underscore/modules/now.js","webpack:///./node_modules/underscore/modules/_createEscaper.js","webpack:///./node_modules/underscore/modules/_escapeMap.js","webpack:///./node_modules/underscore/modules/escape.js","webpack:///./node_modules/underscore/modules/unescape.js","webpack:///./node_modules/underscore/modules/_unescapeMap.js","webpack:///./node_modules/underscore/modules/templateSettings.js","webpack:///./node_modules/underscore/modules/template.js","webpack:///./node_modules/underscore/modules/result.js","webpack:///./node_modules/underscore/modules/uniqueId.js","webpack:///./node_modules/underscore/modules/chain.js","webpack:///./node_modules/underscore/modules/_executeBound.js","webpack:///./node_modules/underscore/modules/partial.js","webpack:///./node_modules/underscore/modules/bind.js","webpack:///./node_modules/underscore/modules/_isArrayLike.js","webpack:///./node_modules/underscore/modules/_flatten.js","webpack:///./node_modules/underscore/modules/bindAll.js","webpack:///./node_modules/underscore/modules/memoize.js","webpack:///./node_modules/underscore/modules/delay.js","webpack:///./node_modules/underscore/modules/defer.js","webpack:///./node_modules/underscore/modules/throttle.js","webpack:///./node_modules/underscore/modules/debounce.js","webpack:///./node_modules/underscore/modules/wrap.js","webpack:///./node_modules/underscore/modules/negate.js","webpack:///./node_modules/underscore/modules/compose.js","webpack:///./node_modules/underscore/modules/after.js","webpack:///./node_modules/underscore/modules/before.js","webpack:///./node_modules/underscore/modules/once.js","webpack:///./node_modules/underscore/modules/findKey.js","webpack:///./node_modules/underscore/modules/_createPredicateIndexFinder.js","webpack:///./node_modules/underscore/modules/findIndex.js","webpack:///./node_modules/underscore/modules/findLastIndex.js","webpack:///./node_modules/underscore/modules/sortedIndex.js","webpack:///./node_modules/underscore/modules/_createIndexFinder.js","webpack:///./node_modules/underscore/modules/indexOf.js","webpack:///./node_modules/underscore/modules/lastIndexOf.js","webpack:///./node_modules/underscore/modules/find.js","webpack:///./node_modules/underscore/modules/findWhere.js","webpack:///./node_modules/underscore/modules/each.js","webpack:///./node_modules/underscore/modules/map.js","webpack:///./node_modules/underscore/modules/_createReduce.js","webpack:///./node_modules/underscore/modules/reduce.js","webpack:///./node_modules/underscore/modules/reduceRight.js","webpack:///./node_modules/underscore/modules/filter.js","webpack:///./node_modules/underscore/modules/reject.js","webpack:///./node_modules/underscore/modules/every.js","webpack:///./node_modules/underscore/modules/some.js","webpack:///./node_modules/underscore/modules/contains.js","webpack:///./node_modules/underscore/modules/invoke.js","webpack:///./node_modules/underscore/modules/pluck.js","webpack:///./node_modules/underscore/modules/where.js","webpack:///./node_modules/underscore/modules/max.js","webpack:///./node_modules/underscore/modules/min.js","webpack:///./node_modules/underscore/modules/toArray.js","webpack:///./node_modules/underscore/modules/sample.js","webpack:///./node_modules/underscore/modules/shuffle.js","webpack:///./node_modules/underscore/modules/sortBy.js","webpack:///./node_modules/underscore/modules/_group.js","webpack:///./node_modules/underscore/modules/groupBy.js","webpack:///./node_modules/underscore/modules/indexBy.js","webpack:///./node_modules/underscore/modules/countBy.js","webpack:///./node_modules/underscore/modules/partition.js","webpack:///./node_modules/underscore/modules/size.js","webpack:///./node_modules/underscore/modules/_keyInObj.js","webpack:///./node_modules/underscore/modules/pick.js","webpack:///./node_modules/underscore/modules/omit.js","webpack:///./node_modules/underscore/modules/initial.js","webpack:///./node_modules/underscore/modules/first.js","webpack:///./node_modules/underscore/modules/rest.js","webpack:///./node_modules/underscore/modules/last.js","webpack:///./node_modules/underscore/modules/compact.js","webpack:///./node_modules/underscore/modules/flatten.js","webpack:///./node_modules/underscore/modules/difference.js","webpack:///./node_modules/underscore/modules/without.js","webpack:///./node_modules/underscore/modules/uniq.js","webpack:///./node_modules/underscore/modules/union.js","webpack:///./node_modules/underscore/modules/intersection.js","webpack:///./node_modules/underscore/modules/unzip.js","webpack:///./node_modules/underscore/modules/zip.js","webpack:///./node_modules/underscore/modules/object.js","webpack:///./node_modules/underscore/modules/range.js","webpack:///./node_modules/underscore/modules/chunk.js","webpack:///./node_modules/underscore/modules/_chainResult.js","webpack:///./node_modules/underscore/modules/mixin.js","webpack:///./node_modules/underscore/modules/underscore-array-methods.js","webpack:///./node_modules/underscore/modules/index-default.js","webpack:///./node_modules/preact/dist/preact.mjs","webpack:///./node_modules/d3-interpolate/src/number.js","webpack:///./node_modules/d3-drag/src/noevent.js","webpack:///./node_modules/d3-selection/src/selection/on.js","webpack:///./node_modules/d3-format/src/exponent.js","webpack:///./node_modules/d3-selection/src/selection/sparse.js","webpack:///./node_modules/d3-selection/src/selection/enter.js","webpack:///./node_modules/d3-selection/src/constant.js","webpack:///./node_modules/d3-selection/src/selection/data.js","webpack:///./node_modules/d3-selection/src/selection/sort.js","webpack:///./node_modules/d3-selection/src/selection/call.js","webpack:///./node_modules/d3-selection/src/selection/attr.js","webpack:///./node_modules/d3-selection/src/selection/classed.js","webpack:///./node_modules/d3-selection/src/selection/text.js","webpack:///./node_modules/d3-selection/src/selection/html.js","webpack:///./node_modules/d3-selection/src/selection/raise.js","webpack:///./node_modules/d3-selection/src/selection/lower.js","webpack:///./node_modules/d3-selection/src/selection/insert.js","webpack:///./node_modules/d3-selection/src/selection/remove.js","webpack:///./node_modules/d3-selection/src/selection/clone.js","webpack:///./node_modules/d3-selection/src/selection/dispatch.js","webpack:///./node_modules/d3-selection/src/selection/index.js","webpack:///./node_modules/d3-selection/src/selection/select.js","webpack:///./node_modules/d3-selection/src/selection/selectAll.js","webpack:///./node_modules/d3-selection/src/selection/filter.js","webpack:///./node_modules/d3-selection/src/selection/exit.js","webpack:///./node_modules/d3-selection/src/selection/join.js","webpack:///./node_modules/d3-selection/src/selection/merge.js","webpack:///./node_modules/d3-selection/src/selection/order.js","webpack:///./node_modules/d3-selection/src/selection/nodes.js","webpack:///./node_modules/d3-selection/src/selection/node.js","webpack:///./node_modules/d3-selection/src/selection/size.js","webpack:///./node_modules/d3-selection/src/selection/empty.js","webpack:///./node_modules/d3-selection/src/selection/each.js","webpack:///./node_modules/d3-selection/src/selection/property.js","webpack:///./node_modules/d3-selection/src/selection/append.js","webpack:///./node_modules/d3-selection/src/selection/datum.js","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/d3-format/src/formatDecimal.js","webpack:///./node_modules/d3-interpolate/src/color.js","webpack:///./node_modules/d3-interpolate/node_modules/d3-color/src/define.js","webpack:///./node_modules/d3-interpolate/node_modules/d3-color/src/color.js","webpack:///./node_modules/d3-dsv/src/csv.js","webpack:///./node_modules/d3-dsv/src/tsv.js","webpack:///./node_modules/d3-selection/src/creator.js","webpack:///./node_modules/d3-selection/src/point.js","webpack:///./node_modules/d3-selection/src/namespaces.js","webpack:///./src/dataStyles.js","webpack:///./src/CallbackManager.js","webpack:///./node_modules/d3-timer/src/timer.js","webpack:///./node_modules/d3-transition/src/transition/schedule.js","webpack:///./node_modules/d3-timer/src/timeout.js","webpack:///./node_modules/d3-interpolate/src/transform/decompose.js","webpack:///./node_modules/d3-transition/src/interrupt.js","webpack:///./node_modules/d3-interpolate/src/transform/parse.js","webpack:///./node_modules/d3-interpolate/src/transform/index.js","webpack:///./node_modules/d3-transition/src/transition/tween.js","webpack:///./node_modules/d3-transition/node_modules/d3-color/src/define.js","webpack:///./node_modules/d3-transition/node_modules/d3-color/src/color.js","webpack:///./node_modules/d3-transition/src/transition/interpolate.js","webpack:///./node_modules/d3-transition/src/transition/attrTween.js","webpack:///./node_modules/d3-transition/src/transition/ease.js","webpack:///./node_modules/d3-transition/src/transition/remove.js","webpack:///./node_modules/d3-transition/src/transition/selection.js","webpack:///./node_modules/d3-transition/src/transition/style.js","webpack:///./node_modules/d3-transition/src/transition/styleTween.js","webpack:///./node_modules/d3-transition/src/transition/textTween.js","webpack:///./node_modules/d3-transition/src/transition/index.js","webpack:///./node_modules/d3-transition/src/transition/select.js","webpack:///./node_modules/d3-transition/src/transition/selectAll.js","webpack:///./node_modules/d3-transition/src/transition/filter.js","webpack:///./node_modules/d3-transition/src/transition/merge.js","webpack:///./node_modules/d3-transition/src/transition/transition.js","webpack:///./node_modules/d3-transition/src/transition/on.js","webpack:///./node_modules/d3-transition/src/transition/attr.js","webpack:///./node_modules/d3-transition/src/transition/text.js","webpack:///./node_modules/d3-transition/src/transition/delay.js","webpack:///./node_modules/d3-transition/src/transition/duration.js","webpack:///./node_modules/d3-transition/src/transition/end.js","webpack:///./node_modules/d3-transition/src/selection/transition.js","webpack:///./node_modules/d3-ease/src/cubic.js","webpack:///./node_modules/d3-transition/src/selection/index.js","webpack:///./node_modules/d3-transition/src/selection/interrupt.js","webpack:///./node_modules/d3-drag/src/constant.js","webpack:///./node_modules/d3-drag/src/event.js","webpack:///./node_modules/d3-drag/src/drag.js","webpack:///./node_modules/d3-dsv/src/dsv.js","webpack:///./node_modules/d3-selection/src/selector.js","webpack:///./node_modules/d3-selection/src/namespace.js","webpack:///./node_modules/d3-selection/src/window.js","webpack:///./node_modules/d3-drag/src/nodrag.js","webpack:///./node_modules/d3-format/src/formatSpecifier.js","webpack:///./node_modules/d3-selection/src/select.js","webpack:///./node_modules/d3-selection/src/sourceEvent.js","webpack:///./node_modules/d3-interpolate/src/constant.js","webpack:///./node_modules/d3-format/src/index.js","webpack:///./node_modules/d3-collection/src/map.js","webpack:///./node_modules/d3-collection/src/set.js","webpack:///./node_modules/d3-format/src/defaultLocale.js","webpack:///./node_modules/d3-request/src/request.js","webpack:///./node_modules/d3-request/src/type.js","webpack:///./node_modules/d3-request/src/dsv.js","webpack:///./node_modules/d3-request/src/html.js","webpack:///./node_modules/d3-request/src/json.js","webpack:///./node_modules/d3-request/src/text.js","webpack:///./node_modules/d3-request/src/xml.js","webpack:///./node_modules/d3-request/src/csv.js","webpack:///./node_modules/d3-request/src/tsv.js","webpack:///./node_modules/d3-selection/src/selectorAll.js","webpack:///./node_modules/d3-selection/src/matcher.js","webpack:///./node_modules/d3-selection/src/selection/style.js","webpack:///./node_modules/d3-format/src/formatRounded.js","webpack:///./node_modules/d3-format/src/identity.js","webpack:///./node_modules/d3-format/src/formatPrefixAuto.js","webpack:///./node_modules/d3-format/src/formatTypes.js","webpack:///./node_modules/d3-format/src/locale.js","webpack:///./node_modules/d3-format/src/formatNumerals.js","webpack:///./node_modules/d3-format/src/formatGroup.js","webpack:///./node_modules/d3-format/src/formatTrim.js","webpack:///./src/PlacedDiv.js","webpack:///./src/CobraModel.js","webpack:///./node_modules/baconjs/dist/Bacon.js","webpack:///./node_modules/d3-dsv/src/autoType.js","webpack:///./node_modules/d3-interpolate/src/basis.js","webpack:///./node_modules/d3-interpolate/src/rgb.js","webpack:///./node_modules/d3-interpolate/src/basisClosed.js","webpack:///./src/Builder.jsx","webpack:///./node_modules/vkbeautify/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/d3-selection/src/mouse.js","webpack:///./node_modules/d3-selection/src/touch.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/d3-format/src/precisionFixed.js","webpack:///./node_modules/d3-format/src/precisionPrefix.js","webpack:///./node_modules/d3-format/src/precisionRound.js","webpack:///./src/ZoomContainer.js","webpack:///./src/Map.js","webpack:///./src/Behavior.js","webpack:///./src/build.js","webpack:///./src/scalePresets.js","webpack:///./src/UndoStack.js","webpack:///./src/KeyManager.js","webpack:///./node_modules/mousetrap/mousetrap.js","webpack:///./src/SearchIndex.js","webpack:///./src/Settings.js","webpack:///./src/renderWrapper.jsx","webpack:///./node_modules/d3-color/src/define.js","webpack:///./node_modules/d3-color/src/color.js","webpack:///./node_modules/d3-color/src/math.js","webpack:///./node_modules/d3-color/src/lab.js","webpack:///./node_modules/d3-color/src/cubehelix.js","webpack:///./node_modules/d3-interpolate/src/string.js","webpack:///./dev-server/index.js","webpack:///./src/main.js","webpack:///./node_modules/file-saver/FileSaver.js","webpack:///./src/BuildInput.js","webpack:///./src/completely.js","webpack:///./src/DirectionArrow.js","webpack:///./src/Draw.js","webpack:///./src/Scale.js","webpack:///./src/Canvas.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/Brush.js","webpack:///./src/TextEditInput.js","webpack:///./src/SettingsMenu.jsx","webpack:///./src/ScaleSelector.jsx","webpack:///./src/ScaleSlider.jsx","webpack:///./src/Picker.jsx","webpack:///./src/Picker.css?6884","webpack:///./src/Picker.css","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./node_modules/immutability-helper/index.js","webpack:///./node_modules/invariant/browser.js","webpack:///./src/ScaleSlider.css?d405","webpack:///./src/ScaleSlider.css","webpack:///./src/ScaleSelection.jsx","webpack:///./src/SettingsMenu.css?aa44","webpack:///./src/SettingsMenu.css","webpack:///./src/MenuBar.jsx","webpack:///./src/Dropdown.jsx","webpack:///./src/Dropdown.css?b4e3","webpack:///./src/Dropdown.css","webpack:///./src/MenuButton.jsx","webpack:///./src/SearchBar.jsx","webpack:///./src/SearchBar.css?53b8","webpack:///./src/SearchBar.css","webpack:///./src/ButtonPanel.jsx","webpack:///./src/ButtonPanel.css?ee09","webpack:///./src/ButtonPanel.css","webpack:///./src/TooltipContainer.jsx","webpack:///./src/DefaultTooltip.jsx","webpack:///./src/DefaultTooltip.css?da0e","webpack:///./src/DefaultTooltip.css","webpack:///./icons/css/fontello.css?1754","webpack:///./icons/css/fontello.css","webpack:///./node_modules/css-loader/dist/runtime/getUrl.js","webpack:///./icons/font/fontello.eot","webpack:///./icons/font/fontello.woff2","webpack:///./icons/font/fontello.woff","webpack:///./icons/font/fontello.ttf","webpack:///./icons/font/fontello.svg","webpack:///./src/Builder.css?35a9","webpack:///./src/Builder.css","webpack:///./src/Builder-embed.css","webpack:///./src/DataMenu.js","webpack:///./src/widget.js","webpack:///external \"@jupyter-widgets/base\"","webpack:///./node_modules/d3-array/src/ascending.js","webpack:///./node_modules/d3-array/src/bisector.js","webpack:///./node_modules/d3-array/src/bisect.js","webpack:///./node_modules/d3-array/src/cross.js","webpack:///./node_modules/d3-array/src/number.js","webpack:///./node_modules/d3-array/src/array.js","webpack:///./node_modules/d3-array/src/range.js","webpack:///./node_modules/d3-array/src/ticks.js","webpack:///./node_modules/d3-array/src/threshold/sturges.js","webpack:///./node_modules/d3-array/src/quantile.js","webpack:///./node_modules/d3-array/src/zip.js","webpack:///./node_modules/d3-scale/src/array.js","webpack:///./node_modules/d3-scale/src/ordinal.js","webpack:///./node_modules/d3-scale/src/band.js","webpack:///./node_modules/d3-interpolate/src/round.js","webpack:///./node_modules/d3-scale/src/constant.js","webpack:///./node_modules/d3-scale/src/number.js","webpack:///./node_modules/d3-scale/src/continuous.js","webpack:///./node_modules/d3-scale/src/tickFormat.js","webpack:///./node_modules/d3-scale/src/linear.js","webpack:///./node_modules/d3-scale/src/identity.js","webpack:///./node_modules/d3-scale/src/nice.js","webpack:///./node_modules/d3-scale/src/log.js","webpack:///./node_modules/d3-scale/src/pow.js","webpack:///./node_modules/d3-scale/src/quantile.js","webpack:///./node_modules/d3-scale/src/quantize.js","webpack:///./node_modules/d3-scale/src/threshold.js","webpack:///./node_modules/d3-time/src/interval.js","webpack:///./node_modules/d3-time/src/year.js","webpack:///./node_modules/d3-time/src/month.js","webpack:///./node_modules/d3-time/src/week.js","webpack:///./node_modules/d3-time/src/duration.js","webpack:///./node_modules/d3-time/src/day.js","webpack:///./node_modules/d3-time/src/hour.js","webpack:///./node_modules/d3-time/src/minute.js","webpack:///./node_modules/d3-time/src/second.js","webpack:///./node_modules/d3-time/src/millisecond.js","webpack:///./node_modules/d3-time/src/utcWeek.js","webpack:///./node_modules/d3-time/src/utcDay.js","webpack:///./node_modules/d3-time/src/utcYear.js","webpack:///./node_modules/d3-time-format/src/locale.js","webpack:///./node_modules/d3-scale/src/time.js","webpack:///./node_modules/d3-time-format/src/defaultLocale.js","webpack:///./node_modules/d3-scale/src/colors.js","webpack:///./node_modules/d3-scale/node_modules/d3-color/src/define.js","webpack:///./node_modules/d3-time/src/utcMonth.js","webpack:///./node_modules/d3-time/src/utcHour.js","webpack:///./node_modules/d3-time/src/utcMinute.js","webpack:///./node_modules/d3-scale/src/utcTime.js","webpack:///./node_modules/d3-scale/src/category10.js","webpack:///./node_modules/d3-scale/src/category20b.js","webpack:///./node_modules/d3-scale/src/category20c.js","webpack:///./node_modules/d3-scale/src/category20.js","webpack:///./node_modules/d3-scale/node_modules/d3-color/src/color.js","webpack:///./node_modules/d3-scale/node_modules/d3-color/src/math.js","webpack:///./node_modules/d3-scale/node_modules/d3-color/src/cubehelix.js","webpack:///./node_modules/d3-interpolate/node_modules/d3-color/src/math.js","webpack:///./node_modules/d3-interpolate/node_modules/d3-color/src/cubehelix.js","webpack:///./node_modules/d3-interpolate/src/cubehelix.js","webpack:///./node_modules/d3-scale/src/cubehelix.js","webpack:///./node_modules/d3-scale/src/rainbow.js","webpack:///./node_modules/d3-scale/src/viridis.js","webpack:///./node_modules/d3-scale/src/sequential.js","webpack:///./node_modules/d3-interpolate/src/zoom.js","webpack:///./node_modules/d3-zoom/src/constant.js","webpack:///./node_modules/d3-zoom/src/event.js","webpack:///./node_modules/d3-zoom/src/transform.js","webpack:///./node_modules/d3-zoom/src/noevent.js","webpack:///./node_modules/d3-zoom/src/zoom.js","webpack:///./node_modules/d3-brush/src/constant.js","webpack:///./node_modules/d3-brush/src/event.js","webpack:///./node_modules/d3-brush/src/noevent.js","webpack:///./node_modules/d3-brush/src/brush.js","webpack:///./node_modules/d3-dispatch/src/dispatch.js","webpack:///./node_modules/d3-interpolate/src/numberArray.js","webpack:///./node_modules/d3-interpolate/src/array.js","webpack:///./node_modules/d3-interpolate/src/date.js","webpack:///./node_modules/d3-interpolate/src/value.js","webpack:///./node_modules/d3-interpolate/src/object.js"],"names":["installedModules","__webpack_require__","moduleId","module","i","l","exports","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","VERSION","root","self","global","Function","ArrayProto","Array","ObjProto","SymbolProto","push","slice","toString","supportsArrayBuffer","ArrayBuffer","supportsDataView","DataView","nativeIsArray","isArray","nativeKeys","keys","nativeCreate","nativeIsView","isView","_isNaN","isNaN","_isFinite","isFinite","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","MAX_ARRAY_INDEX","Math","pow","creator","document","documentElement","nextId","local","Local","this","_","constructor","node","id","parentNode","set","remove","selector","querySelectorAll","touches","sourceEvent","length","points","point","vkbeautify","require","d3_json","json","d3_text","text","d3_csvParseRows","csvParseRows","d3_selection","selection","saveAs","e","console","warn","_check_filesaver","Blob","alert","_ends_with","str","suffix","indexOf","load_the_file","file","callback","make_array_ref","obj","id_key","array","it","clone","map","isObject","mapObject","k","rotate_coords","angle","center","x","cos","sin","y","angleNorm","radians","PI","floor","to_radians","degrees","median","sort","a","b","half","random_characters","num","possible","charAt","random","get_document","ownerDocument","set_options","options","defaults","must_be_float","out","has_key","val","parseFloat","remove_child_nodes","hasChildNodes","removeChild","lastChild","load_css","css_path","error","load_files","files_to_load","final_callback","remaining","make_class","is_internal","args","instance","arguments","init","apply","class_with_optional_new","AClass","Proxy","Target","thisArg","setup_defs","svg","style","select","defs","append","insertBefore","firstChild","attr","draw_an_object","container_sel","parent_node_selector","children_selector","create_function","update_function","exit_function","draw_object","undefined","sel","selectAll","data","update_sel","enter","merge","exit","draw_a_nested_object","object_data_key","make_array","compare_arrays","a1","a2","arrayToObject","arr","column","nk","j","extend","obj1","obj2","overwrite","attrname","Error","uniqueConcat","arrays","newArray","forEach","unique_strings_array","debounce","func","wait","immediate","timeout","context","callNow","clearTimeout","setTimeout","object_slice_for_ids","ids","subset","object_slice_for_ids_ref","c_plus_c","coords1","coords2","c_minus_c","c_times_scalar","coords","scalar","download_json","JSON","stringify","blob","type","load_json","f","pre_fn","failure_fn","window","File","FileReader","FileList","reader","onload","event","result","target","parse","onabort","onerror","readAsText","load_json_or_csv","csv_converter","debug_event","onload_function","errors","downloadSvg","svg_sel","do_beautify","xml","XMLSerializer","serializeToString","downloadPng","canvas","createElement","getContext","svg_size","getBBox","svg_width","width","svg_height","height","base_image","Image","src","btoa","fillStyle","fillRect","drawImage","toBlob","rotate_coords_recursive","coords_array","get_angle","denominator","numerator","atan","to_degrees","to_radians_norm","angle_for_event","displacement","gamma","atan2","distance","start","end","sqrt","check_undefined","names","compartmentalize","bigg_id","compartment_id","decompartmentalize","exec","mean","reduce","quartiles","generate_map_id","check_for_parent_tag","el","tag","tagName","toLowerCase","name_to_url","download_url","replace","join","get_window","defaultView","d3_transform_catch","transform_attr","translate_res","tn","isNull","tx","Number","ty","rotate_res","scale_res","translate","rotate","scale","restArguments","startIndex","max","rest","index","isUndefined","isBoolean","isElement","nodeType","tagTester","isFunction","nodelist","childNodes","Int8Array","hasDataViewBug","test","String","isIE11","Map","isDataView","getInt8","isArrayBuffer","buffer","has","isArguments","isSymbol","isNumber","constant","createSizePropertyCheck","getSizeProperty","collection","sizeProperty","shallowProperty","typedArrayPattern","collectNonEnumProps","hash","contains","nonEnumIdx","proto","prop","isEmpty","isString","isMatch","attrs","_keys","_wrapped","toBufferView","bufferSource","Uint8Array","byteOffset","valueOf","toJSON","tagDataView","eq","aStack","bStack","deepEq","className","areArrays","byteLength","aCtor","bCtor","pop","isEqual","allKeys","ie11fingerprint","methods","weakMapMethods","forEachName","commonInit","mapTail","mapMethods","concat","setMethods","values","pairs","invert","functions","createAssigner","keysFunc","source","baseCreate","Ctor","props","extendOwn","tap","interceptor","toPath","path","deepGet","defaultValue","identity","optimizeCb","argCount","accumulator","baseIteratee","Infinity","cb","iteratee","results","currentKey","noop","propertyOf","times","accum","min","Date","getTime","createEscaper","escaper","match","testRegexp","RegExp","replaceRegexp","string","templateSettings","evaluate","interpolate","escape","noMatch","escapes","escapeRegExp","escapeChar","bareIdentifier","settings","oldSettings","render","matcher","argument","offset","variable","template","fallback","idCounter","uniqueId","prefix","chain","_chain","executeBound","sourceFunc","boundFunc","callingContext","partial","boundArgs","bound","position","placeholder","callArgs","TypeError","flatten","input","depth","strict","output","idx","len","hasher","memoize","cache","address","delay","throttle","later","previous","leading","now","throttled","_now","trailing","cancel","passed","debounced","_args","wrap","wrapper","negate","predicate","compose","after","before","memo","findKey","createPredicateIndexFinder","dir","low","high","mid","createIndexFinder","predicateFind","sortedIndex","item","findIndex","findLastIndex","find","findWhere","each","createReduce","initial","filter","list","reject","every","some","fromIndex","guard","contextPath","method","pluck","where","computed","lastComputed","v","reStrSymbol","toArray","sample","last","rand","temp","shuffle","sortBy","criteria","left","right","group","behavior","partition","pass","size","keyInObj","pick","first","compact","Boolean","otherArrays","difference","uniq","isSorted","seen","intersection","argsLength","unzip","range","stop","step","ceil","chunk","count","chainResult","mixin","VNode","stack","EMPTY_CHILDREN","h","nodeName","attributes","lastSimple","child","simple","children","vnode","applyRef","ref","current","defer","Promise","resolve","then","cloneElement","IS_NON_DIMENSIONAL","items","enqueueRender","component","_dirty","debounceRendering","rerender","renderComponent","isNamedNode","normalizedNodeName","getNodeProps","defaultProps","removeNode","setAccessor","old","isSvg","cssText","innerHTML","__html","useCapture","substring","addEventListener","eventProxy","removeEventListener","_listeners","removeAttribute","removeAttributeNS","setAttributeNS","setAttribute","mounts","diffLevel","isSvgMode","hydrating","flushMounts","shift","afterMount","componentDidMount","diff","dom","mountAll","parent","componentRoot","ownerSVGElement","ret","idiff","appendChild","prevSvgMode","splitText","_component","nodeValue","createTextNode","replaceChild","recollectNodeTree","vnodeName","buildComponentFromVNode","originalComponent","oldDom","isDirectOwner","_componentConstructor","isOwner","_parentComponent","setComponentProps","base","unmountComponent","createComponent","nextBase","createElementNS","fc","vchildren","nextSibling","innerDiffNode","vchild","isHydrating","dangerouslySetInnerHTML","originalChildren","keyed","keyedLen","childrenLen","vlen","_child","__key","trim","diffAttributes","unmountOnly","removeChildren","next","previousSibling","recyclerComponents","inst","Component","doRender","splice","state","renderMode","_disable","__ref","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","previousProps","previousState","prevState","previousContext","isUpdate","initialBase","initialChildComponent","skip","snapshot","shouldComponentUpdate","componentWillUpdate","rendered","getChildContext","getSnapshotBeforeUpdate","toUnmount","childComponent","childProps","cbase","baseParent","componentRef","componentDidUpdate","afterUpdate","_renderCallbacks","beforeUnmount","inner","componentWillUnmount","createRef","setState","forceUpdate","nopropagation","stopImmediatePropagation","preventDefault","filterEvents","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","__data__","onRemove","typename","on","__on","capture","onAdd","customEvent","that","mouseenter","mouseleave","typenames","split","abs","NaN","update","EnterNode","datum","namespaceURI","_next","_parent","querySelector","keyPrefix","bindIndex","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","ascending","classArray","classList","ClassList","_node","_names","getAttribute","classedAdd","add","classedRemove","textRemove","textContent","htmlRemove","raise","lower","constantNull","selection_cloneShallow","cloneNode","selection_cloneDeep","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","Selection","groups","parents","_groups","_parents","subgroups","subnode","subgroup","selectorAll","enterGroup","updateGroup","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","order","groups0","groups1","m0","m1","merges","group0","group1","compareNode","compare","sortgroups","sortgroup","nodes","empty","fullname","namespace","getAttributeNS","space","classed","html","insert","deep","dispatch","useSourceMap","content","cssMapping","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","sourceURLs","sources","sourceRoot","mediaQuery","dedupe","alreadyImportedModules","_i","fn","stylesInDom","isOldIE","all","atob","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","parts","addStyle","listToStyles","newStyles","part","css","media","insertStyleElement","insertInto","lastStyleElementInsertedAtTop","insertAt","removeStyleElement","createStyleElement","nonce","addAttrs","link","transform","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","rel","autoFixUrls","convertToAbsoluteUrls","oldSrc","href","styleSheet","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","cssNode","formatDecimalParts","coefficient","toExponential","round","toLocaleString","linear","hue","nogamma","definition","factory","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","parseInt","rgbn","Rgb","rgba","hsla","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","m2","copy","channels","assign","displayable","formatHsl","csv","csvParse","parseRows","csvFormat","csvFormatBody","formatBody","csvFormatRows","formatRows","csvFormatRow","formatRow","csvFormatValue","formatValue","tsv","tsvParse","tsvParseRows","tsvFormat","tsvFormatBody","tsvFormatRows","tsvFormatRow","tsvFormatValue","uri","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","top","clientTop","xhtml","xlink","xmlns","importAndCheck","allReactions","utils","reactions","firstGeneId","reactionId","aligned","nullVal","biggId","reaction","thisGeneData","genes","gene","kind","existingD","pnt","floatForData","reverse_flux_for_data","gene_string_for_data","text_for_data","csv_rows","converted","row","genes_for_gene_reaction_rule","rule","AND_OR","ALL_PARENS","evaluate_gene_reaction_rule","replace_gene_in_rule","apply_reaction_data_to_reactions","compare_style","segment_id","segment","reaction_id","data_string","reverse_flux","gene_string","segments","apply_metabolite_data_to_nodes","compareStyle","nodeId","apply_gene_data_to_reactions","gene_data_obj","identifiers_on_map","and_method_in_gene_reaction_rule","null_val","gene_id","gene_values","gene_reaction_rule","r_data","RETURN_ARG","ESCAPE_REG","EMPTY_LINES","TRAILING_NEWLINE","EXCESS_PARENS","OR","AND","OR_EXPRESSION","AND_EXPRESSION","parseFloatOrNull","checkFinite","takeAbs","fs","fold","log","out_text","no_data","genes_found","g_obj","new_str","null_or_d","any","curr_val","all_null","new_curr_val","p1","p2","p3","nums","escaped","callbacks","run","passArgs","aName","taskHead","taskTail","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","time","restart","wake","t0","t2","t1","sleep","poke","clearInterval","setInterval","tween","schedules","__transition","elapsed","SCHEDULED","STARTED","RUNNING","ENDED","tick","STARTING","duration","ease","ENDING","emptyOn","emptyTween","timing","CREATED","schedule","scaleX","scaleY","skewX","translateX","translateY","cssRoot","cssView","svgNode","active","interpolateTransform","pxComma","pxParen","degParen","q","xa","ya","xb","yb","number","interpolateTransformCss","getComputedStyle","getPropertyValue","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","tweenValue","transition","_id","define","attrTweenNS","_value","attrTween","styleRemove","removeProperty","styleTween","priority","setProperty","textTween","Transition","_name","selection_prototype","inherit","id0","id1","on0","on1","sit","string00","string10","interpolate0","string0","string1","value1","listener0","tween0","tween1","interrupt","defaultTiming","DragEvent","subject","dx","dy","identifier","defaultFilter","ctrlKey","button","defaultContainer","defaultSubject","defaultTouchable","navigator","maxTouchPoints","mousedownx","mousedowny","mousemoving","touchending","container","touchable","gestures","listeners","clickDistance2","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mouse","view","mousemoved","mouseupped","nodrag","noevent","changedTouches","touch","sublisteners","p0","clickDistance","EOL","EOF","objectConverter","columns","inferColumns","rows","columnSet","pad","formatDate","date","year","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","milliseconds","getUTCMilliseconds","getUTCFullYear","getUTCMonth","getUTCDate","reFormat","delimiter","DELIMITER","charCodeAt","N","I","eof","eol","token","preformatBody","convert","none","yesdrag","noclick","MozUserSelect","__noselect","re","formatSpecifier","specifier","FormatSpecifier","fill","align","sign","symbol","zero","comma","precision","clear","entries","Set","locale","formatPrefix","defaultLocale","decimal","thousands","grouping","currency","minus","request","mimeType","response","responseType","headers","xhr","XMLHttpRequest","user","password","respond","status","responseText","XDomainRequest","url","ontimeout","onreadystatechange","readyState","onprogress","header","send","post","open","setRequestHeader","overrideMimeType","abort","defaultMimeType","createRange","createContextualFragment","responseXML","dsv","matches","styleValue","formatDecimal","exponent","prefixExponent","toFixed","toPrecision","formatRounded","toUpperCase","prefixes","reverse","currencyPrefix","currencySuffix","numerals","percent","nan","newFormat","formatTypes","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","padding","PlacedDiv","div","shouldReposition","visible","hide","is_visible","place","window_translate","zoomContainer","windowTranslate","window_scale","windowScale","map_size","get_size","dataStyles","CobraModel","from_cobra_json","model_data","metabolites","the_id","model","reversibility","lower_bound","upper_bound","met_id","met","build_reaction_string","stoichiometries","is_reversible","the_metabolite","reactant_bits","product_bits","reaction_string","apply_reaction_data","reaction_data","apply_metabolite_data","metabolite_data","apply_gene_data","nop","former","assertObservableIsProperty","_isObservable","_isProperty","Exception","ctor","hasProp","rootEvent","waiterObs","waiters","aftersStack","aftersStackHeight","flushed","flushWaiters","flushDepsOf","_slice","Bacon","assert","message","condition","assertFunction","xs","isObservable","indexWhere","always","tail","filtered","without","seed","flatMap","ys","cached","None","_isNone","me","recursionDepth","UpdateBarrier","deps","obs","obsId","obsWaiters","internalDeps","dep","whenDoneWith","hasWaiters","inTransaction","processAfters","currentEventId","wrappedSubscribe","sink","unsub","unsubd","doUnsub","shouldUnsub","dispatcher","subscribe","afterTransaction","noMore","ensureStackHeight","stackIndexForThisObs","containsObs","aftersList","stackSizeAtStart","topOfStack","topAfters","_topAfters$index","callSuccess","Source","sync","lazy","queue","ConsumingSource","BufferingSource","Desc","_isSource","markEnded","ended","consume","mayHave","hasAtLeast","isTrigger","_isEventStream","fromObservable","_isDesc","findDeps","convertArgsToFunction","sampled","sampledBy","_ref","_ref2","makeFunction","toCombinator","isFieldKey","toFieldKey","describe","_len","_key","withDesc","desc","withMethodCallSupport","wrapped","methodName","_len2","_key2","makeFunctionArgs","makeFunction_","partiallyApplied","applied","_len3","_key3","toSimpleExtractor","fieldValue","partFuncs","_len4","_key4","Some","_isSome","getOrElse","isDefined","inspect","toOption","eventIdCounter","more","Event","Next","valueF","eager","_isNext","valueInternal","Initial","End","_isEvent","isEvent","isEnd","isInitial","isNext","isError","hasValue","fmap","_isInitial","toNext","initialEvent","toEvent","nextEvent","endEvent","registerObs","Observable","initialDesc","CompositeUnsubscribe","ss","unsubscribe","unsubscribed","subscriptions","starting","Dispatcher","_subscribe","_handleEvent","handleEvent","pushing","prevError","unsubSrc","EventStream","handler","subscribeInternal","onValue","onValues","onError","onEnd","withDescription","subscription","_this2","iterable","hasSubscribers","removeSub","pushIt","pushToSubscriptions","tmp","sub","unsubscribeFromSource","_this","toProperty","initValue_","initValue","disp","Property","sendInit","initSent","reply","subbed","toEventStream","withHandler","never","when","needsBarrier","resultStream","pats","patterns","patSources","pat","constantToFunction","ixs","triggerFound","ix","containsDuplicateDeps","cannotSync","cannotMatch","nonFlattened","trigger","unsubAll","flushLater","flush","flushWhileTriggers","triggers","events","i2","ends","observables","checkObservable","PropertyDispatcher","currentValueRootId","propertyEnded","groupSimultaneous","_len5","streams","_key5","_len6","_key6","maybeSubSource","dispatchingId","valId","_this3","changes","_this4","_this5","fromBinder","binder","eventTransformer","unbind","unbound","unbinder","shouldUnbind","_len7","_key7","_len8","_key8","argumentsToObservablesAndFunction","argumentsToObservables","equals","addPropertyInitValueToStream","combineAsArray","stream","_len9","_key9","combineWith","_argumentsToObservablesAndFunction","combine","other","combinator","withStateMachine","initState","fromF","newState","outputs","skipDuplicates","prev","awaiting","not","and","or","scheduler","bufferWithTime","bufferWithTimeOrCount","MAX_VALUE","bufferWithCount","flushOrSchedule","delayMs","onInput","onFlush","scheduled","valuesToPush","_this6","_this7","_len10","_key10","once","unsubRight","unsubLeft","concatAll","justInitValue","makeSpawner","flatMap_","flatMapFirst","makeObservable","firstOnly","limit","rootDep","childDeps","composite","spawn","unsubMe","checkQueue","checkEnd","__","unsubRoot","Bus","subscribeAll","guardedSink","flatMapWithConcurrencyLimit","_len11","_key11","flatMapConcat","bufferingThrottle","minimumInterval","newSink","subscribeInput","_this8","unsubscribeInput","plug","_this9","rootPush","pushQueue","liftCallback","_len12","_key12","fromCallback","_len13","_key13","fromNodeCallback","_len14","_key14","combineTemplate","setValue","ctxStack","mkContext","containsObservables","compile","funcs","newContext","compileTemplate","resultProperty","rootContext","mapEnd","skipErrors","takeUntil","stopper","endMarker","_event$value","flatMapLatest","delayChanges","debounceImmediate","decode","cases","scan","_this10","acc","initHandled","prevTuple","tuple","doAction","doEnd","doError","doLog","_len15","_key15","endOnError","_len16","_key16","take","mapError","flatMapError","err","flatScan","updated","sampler","thisSource","samplerSource","_len17","_key17","eventMethods","valueAndEnd","fromEventTarget","eventName","_findHandlerMethods","pair","methodPair","addListener","fromEvent","fromPoll","poll","fromPromise","promise","done","groupBy","keyF","limitF","similar","limited","fromArray","assertArray","pushNeeded","holdWhen","valve","onHold","bufferedValues","srcIsEnded","endIfBothEnded","subscribed","toSend","$","asEventStream","_this11","off","jQuery","Zepto","lastEvent","_len18","_key18","assertEventStream","mergeAll","sinks","unsubBoth","repeatedly","repeat","generator","flag","subscribeNext","retry","retries","retriesDone","isRetryable","finished","valueStream","pause","sequentially","skipUntil","starter","started","skipWhile","ok","_len19","_key19","slidingWindow","minValues","spies","running","spy","ESObservable","observable","startWith","takeWhile","_len20","_key20","firstToPromise","PromiseCtr","_this12","toPromise","_len21","_key21","_len22","_key22","zipAsArray","_len23","_key23","zipWith","_len24","_key24","_len25","_key25","observablesAndFunction","zip","observerOrOnNext","onComplete","observer","complete","closed","toESObservable","fromESObservable","_observable","autoType","fixtz","getHours","basis","v0","v1","v2","v3","t3","rgbGamma","rgbSpline","spline","colors","mapData","modelData","embeddedCss","d3Selection","builderEmbed","map_data","menu_div","button_div","search_bar_div","searchBarRef","semanticOptions","__builder__","has_custom_reaction_styles","reaction_styles","optionsWithDefaults","menu","scroll_behavior","use_3d_transform","enable_editing","enable_keys","enable_search","fill_screen","zoom_to_element","full_screen_button","ignore_bootstrap","disabled_buttons","semantic_zoom","starting_reaction","never_ask_before_quit","unique_map_id","primary_metabolite_radius","secondary_metabolite_radius","marker_radius","gene_font_size","hide_secondary_metabolites","show_gene_reaction_rules","hide_all_labels","canvas_size_and_loc","reaction_compare_style","reaction_scale","reaction_scale_preset","reaction_no_data_color","reaction_no_data_size","gene_data","metabolite_styles","metabolite_compare_style","metabolite_scale","metabolite_scale_preset","metabolite_no_data_color","metabolite_no_data_size","highlight_missing","allow_building_duplicate_reactions","cofactors","tooltip_component","DefaultTooltip","enable_tooltips","enable_keys_with_tooltip","first_load_callback","Settings","isFullScreen","savedFullScreenSettings","savedFullScreenParent","clearFullScreenEscape","callback_manager","CallbackManager","firstLoadCallback","zoom_container","ZoomContainer","callbackManager","optionObject","didChange","zoomLevel","_updateData","setUse3dTransform","setScrollBehavior","_updateTooltipSetting","mapToolsContainer","_createStatus","load_model","load_map","messageFn","_reactionCheckAddAbs","statusBus","newBehavior","draw_all_nodes","draw_all_reactions","select_none","shouldUpdateData","cobra_model","tempSemanticOptions","level","option","zoomedSel","key_manager","toggle","from_data","_setupStatus","set_status","build_input","BuildInput","text_edit_input","TextEditInput","brush","Brush","setUpSettingsMenu","setUpButtonPanel","newDisabledButtons","setUpMenuBar","setUpSearchBar","tooltip_container","TooltipContainer","assignedKeys","getKeys","inputList","settingsMenuRef","elementId","zoom_to_reaction","zoom_to_node","zoom_extent_canvas","startCoords","new_reaction_from_scratch","zoom_extent_nodes","r_id","subsystems","subsystem","subsList","subCols","col","originX","originY","rCol","zoom_mode","view_mode","_setupConfirmBeforeExit","draw_everything","passPropsSettingsMenu","SettingsMenu","passProps","display","passPropsMenuBar","menuBarRef","MenuBar","saveMap","save","loadMap","assignKeyLoadMap","save_svg","save_png","clear_map","loadModel","assignKeyLoadModel","clearModel","updateRules","convert_map","setReactionData","set_reaction_data","clearReactionData","setGeneData","set_gene_data","clearGeneData","setMetaboliteData","set_metabolite_data","clearMetaboliteData","setMode","_setMode","deleteSelected","delete_selected","undo","undo_stack","redo","align_vertical","align_horizontal","togglePrimary","toggle_selected_node_primary","cyclePrimary","cycle_primary_node","select_all","selectNone","invertSelection","invert_selection","zoom_in","zoom_out","zoomExtentNodes","zoomExtentCanvas","full_screen","search","passPropsSearchBar","toggleBeziers","toggle_beziers","renderSettingsMenu","SearchBar","searchIndex","search_index","passPropsButtonPanel","ButtonPanel","buildInput","direction_arrow","togglePanDrag","toggleResize","toggleSelectableDrag","toggleRotationMode","toggleSelectableClick","toggleLabelDrag","toggleTextLabelEdit","toggleBezierDrag","deselect_text_labels","build_mode","brush_mode","rotate_mode","text_mode","currStyle","_options","disabledButtons","buttonName","geneButtonName","clearGeneReactionRules","_makeGeneDataObject","geneData","cobraModel","clearMapData","updateModel","updateMap","shouldDraw","updateReactionData","updateMetaboliteData","metaboliteDataObject","reactionDataObject","geneDataObject","apply_metabolite_data_to_map","apply_reaction_data_to_map","apply_gene_data_to_map","update_model_timer","status_bar","setting","toggleLabelMouseover","includes","toggleObjectMouseover","zoom_in_ctrl","ignoreWithInput","zoom_out_ctrl","extent_nodes_ctrl","extent_nodes","extent_canvas_ctrl","extent_canvas","show_settings_ctrl","show_settings","requires","delete_ctrl","delete","delete_del","toggle_primary","cycle_primary","direction_arrow_right","direction_arrow_down","down","direction_arrow_left","direction_arrow_up","up","search_ctrl","onbeforeunload","bodyNode","fullScreenSettings","fullScreenButton","currentSetting","addEscapeListener","createShiftArr","ar","inComment","sql","tab","ar_by_quote","parenthesisLevel","xmlmin","preserveComments","jsonmin","cssmin","sqlmin","__webpack_amd_options__","scrollBehavior","use3dTransform","userAgent","stopPropagation","css3TransformContainer","_scrollBehavior","_use3dTransform","_panDragOn","_zoomBehavior","_zoomTimeout","_svgScale","_svgTranslate","_3dTransform","_requestedFrame","_updateScroll","onOff","wheelFn","_goToCallback","getDirectionalDisp","wheelDelta","delta","ev","newTranslate","returnValue","wheelDeltaX","deltaX","wheelDeltaY","deltaY","goTo","newZoom","d3ZoomIdentity","_goTo3d","_goToSvg","_goTo3dFrame","svgScale","svgTranslate","nScale","nTranslate","_clear3d","_goToSvgFrame","zoomBy","amount","translateOffScreen","build","_on_array","map_name","map_id","map_description","Canvas","setup_containers","largest_ids","text_labels","UndoStack","Behavior","draw","Draw","KeyManager","ctrlEqualsCmd","SearchIndex","beziers_enabled","has_data_on_reactions","has_data_on_nodes","imported_reaction_data","imported_metabolite_data","imported_gene_data","beziers","Scale","connectToSettings","get_data_statistics","rotation_on","n_id","connected_segments","fillColor","strokeColor","node_type","node_id","g_id","s_id","segments_to_delete","midpoint","from_node_id","to_node_id","from_node","to_node","from_node_coefficient","to_node_coefficient","b1","b2","label_id","label","text_label_id","newBeziersForReactions","get_largest_id","largest_segment_id","current_largest","reset_containers","_status_timer","has_cobra_model","draw_all_text_labels","draw_beziers","clear_deleted","reaction_ids","draw_these_reactions","draw_all_beziers","clear_deleted_reactions","reaction_subset","update_fn","update_reaction","create_reaction","bezier_ids","bezierIdsForReactionIds","draw_these_beziers","update_selection","clear_deleted_beziers","node_ids","draw_these_nodes","clear_deleted_nodes","node_subset","create_fn","create_node","update_node","selectableMousedown","selectableClick","nodeMouseover","nodeMouseout","selectableDrag","nodeLabelDrag","draw_these_text_labels","clear_deleted_text_labels","text_label_ids","text_label_subset","create_text_label","update_text_label","bezier_id","bezier_subset","update_bezier","bezierDrag","bezierMouseover","bezierMouseout","create_bezier","show_beziers","hide_beziers","on_off","hasData","calc_data_stats","has_data","data_statistics","vals","wasNull","same","new_val","get_coords_for_node","get_selected_node_ids","selected_node_ids","getSelectedNodes","selected_nodes","get_selected_text_label_ids","selected_text_label_ids","get_selected_text_labels","selected_text_labels","select_metabolite_with_id","selected_node","selected","select_selectable","shift_key_on","classable_selection","classable_node","node_count","select_single_node","deselect_nodes","select_text_label","_align","isHorizontal","_moveNodes","disps","bezDisps","reactionIds","moveNodeAndDependents","segmentId","bez","bezierId","markersAndPrimary","node_is_primary","alignByPrimary","toAlign","keysToAlign","displacements","bezierDisplacements","movedSecondaryNodes","segmentLink","connected","isToNode","otherNodeId","otherNode","bezierIdForSegmentId","do","delete_selectable","should_draw","segments_and_reactions_for_nodes","segment_objs_w_segments","saved_nodes","saved_segment_objs_w_segments","saved_reactions","saved_text_labels","delete_and_draw","segment_objs","delete_node_data","delete_segment_data","delete_reaction_data","delete_text_label_data","changed_r_scale","changed_m_scale","extend_nodes","extend_reactions","scale_changed","reaction_ids_to_draw","segment_obj","seg_id","seg_o","newBeziersForSegments","nodeIds","so","bez_id","_extend_and_draw_metabolite","new_nodes","selected_node_id","direction","cobra_reaction","reactant_ids","coeff","metaboliteId","metabolite","label_d","getMetLabelLoc","label_x","label_y","new_reaction_for_metabolite","reaction_redo","reaction_undo","new_reactions","_extend_and_draw_reaction","new_beziers","node_keys","new_coords","reaction_bigg_id","apply_undo_redo","undo_fn","saved_beziers","redo_fn","newReaction","reactions_to_draw","connected_anchor_ids","segment_info","connected_anchor_id","related_node_ids","conn_met_id","a_selected_node_id","last_segment","nodes_to_draw","last_node","last_is_primary","last_coords","last_segment_info","primary_node_id","last_i","last_bezier","old_connected_segments","related_node_id","this_is_primary","these_coords","this_segment_info","this_segment","this_bezier","new_connected_segments","go","reaction_ids_to_draw_o","these_reactions","segment_ids_for_reactions","segment_obj_w_segment","these_ids","add_label_to_search_index","new_text_label","newTextLabel","edit_text_label","new_value","is_new","edit_and_draw","record_id","found","saved_label","margin","_zoom_extent","new_zoom","new_pos","zoom_to_text_label","text_label","highlight_reaction","highlight","highlight_node","highlight_text_label","map_for_export","t_id","homepage","schema","sizeAndLocation","new_reaction","new_segment","new_node","canvas_el","new_canvas_el","callbackBefore","callbackAfter","mapType","canvasSizeAndLoc","mouseNodeSizeAndTrans","w","mouseNode","hidden_sel","reactions_not_found","reaction_attrs","met_nodes_not_found","metabolite_attrs","model_reaction_id","modelReaction","metId","looksReversed","modelCoeff","mapMet","mapCoeff","model_metabolite_id","model_metabolite","n_reactions_not_found","n_met_nodes_not_found","d3Select","d3Mouse","undoStack","emptyBehavior","rotationModeEnabled","rotationDrag","textLabelMousedown","textLabelClick","nodeLabelMouseover","nodeLabelTouch","nodeLabelMouseout","reactionLabelMouseover","reactionLabelTouch","reactionLabelMouseout","geneLabelMouseover","geneLabelTouch","geneLabelMouseout","nodeObjectMouseover","nodeObjectMouseout","reactionObjectMouseover","reactionObjectMouseout","reactionLabelDrag","dragging","averageLocation","showCenter","enterSel","updateSel","cur","newLoc","hideCenter","selectedNodes","selectedNodeIds","selectionNode","selectionBackground","getGenericAngularDrag","totalAngle","rotateNodes","theseNodes","rotatenodes","defaultPrevented","shiftKey","colorPrompt","currentFillColor","isToggled","colorName","colorValue","darkerColor","textEditMousedown","coordsA","getSelectableDrag","getBezierDrag","labelDrag","getReactionLabelDrag","getNodeLabelDrag","getMouseover","mouseout","newD","mouseEvent","xPos","yPos","toggleObjectTouch","labelTouch","objectTouch","turnOffDrag","combineNodesAndDraw","fixedNodeId","draggedNodeId","draggedNode","fixedNode","updatedSegmentObjs","segmentObj","moveLabel","textLabelId","textLabel","setDragging","theTimeout","totalDisplacement","nodeIdsToDrag","textLabelIdsToDrag","nodeGroup","grabbed","selectedTextLabelIds","nodeToCombineArray","savedDraggedNode","segmentObjsMovedToCombine","savedDisplacement","savedNodeIds","savedTextLabelIds","savedReactionIds","updatedReactions","moveBezier","getGenericDrag","bezier","startFn","dragFn","endFn","undoFn","redoFn","relativeToSelection","location","savedD","savedLocation","getCenter","savedAngle","savedCenter","cobraReaction","cobraMetabolites","selectedNodeId","selectedNode","largestIds","metBiggId","newReactionId","selectedNodeCoords","mainAxis","labelD","reactantRanks","productRanks","reactantCount","productCount","reactionIsReversed","formula","newMetabolite","carbons","maxRank","primaryReactantIndex","primaryProductIndex","is_primary","newAnchors","anchorIds","dis","newId","generalNodeType","fromId","toId","newSegmentId","unconnectedSeg","unconnected_segment_with_arrow","newNodes","newNodeId","primaryIndex","fromNodeId","metLoc","isReversed","numSlots","ds","drawAtIndex","reactionAxis","circle","metSecondaryDisp","metIndexDisp","metLabelD","metabolitesArray","newReactions","newBeziers","moveNodeAndLabels","tbez","newLabel","bezierIds","angleRaw","isPrimary","leftRight","rotateAround","coord","updatedNodeIds","updatedReactionIds","bezId","secondaryW","secondaryDis","segBez","these","GaBuGeRd","GaBuRd","RdYlBu","GeGaRd","WhYlRd","incr","oldest","newest","endOfStack","addCmd","newAr","keyAr","mousetrap","Mousetrap","stopCallback","escapeQueue","removeEscapeListener","enabled","reset","keyId","assignedKey","keyToBind","inputBlocking","thisInputVal","thisInput","addEnterListener","oneTime","addKeyListener","_tryDropEscapeListener","keyName","_REVERSE_MAP","_MAP","8","9","13","16","17","18","20","27","32","33","34","35","36","37","38","39","40","45","46","91","93","224","_KEYCODE_MAP","106","107","109","110","111","186","187","188","189","190","191","192","219","220","221","222","_SHIFT_MAP","_SPECIAL_ALIASES","platform","action","_bindMultiple","_directMap","_callbacks","element","initialEventTarget","_belongsTo","ancestor","composedPath","isContentEditable","handleKey","_handleKey","addKeycodes","documentMousetrap","_addEvent","attachEvent","_characterFromEvent","character","fromCharCode","which","_isModifier","_pickBestAction","modifiers","_getKeyInfo","combination","targetElement","_resetTimer","_sequenceLevels","_ignoreNextKeyup","_ignoreNextKeypress","_nextExpectedAction","_resetSequences","doNotReset","activeSequences","_getMatches","sequenceName","deleteCombo","deleteSequence","seq","metaKey","modifiers1","modifiers2","combo","_fireCallback","sequence","srcElement","cancelBubble","_handleKeyEvent","keyCode","altKey","_bindSequence","_increaseSequence","nextAction","_callbackAndReset","wrappedCallback","_bindSingle","info","maxLevel","processedSequenceCallback","ignoreThisKeypress","combinations","record","checkRecord","recordId","conditionalOptions","bacon","isConditional","createSetting","bus","acceptedStream","busses","acceptedStreams","initialValue","statusStream","savedValue","currentValue","lastStatus","newStatus","set_conditional","get_option","holdChanges","abandonChanges","acceptChanges","Wrapper","connectSetStateFn","setDisplay","refPassthrough","divNode","clampa","clampi","hsl","clamph","clampt","formatHex8","clamp","Xn","Yn","Zn","labConvert","z","Lab","Hcl","hcl2lab","xyz2lab","rgb2lrgb","lab","lab2xyz","lrgb2rgb","hclConvert","lch","hcl","C","D","E","ED","EB","BC_DA","cubehelix","Cubehelix","bl","cosh","sinh","reA","reB","am","bm","bs","bi","lastIndex","builder","Builder","libs","d3_select","EscherMapView","EscherMapModel","version","ESCHER_VERSION","underscore","preact","baconjs","get_URL","save_link","can_use_save_link","is_safari","is_chrome_ios","throw_outside","arbitrary_revoke_timeout","revoke","auto_bom","FileSaver","FS_proto","doc","webkitURL","HTMLElement","safari","ex","setImmediate","no_auto_bom","object_url","filesaver","force","dispatch_all","event_types","INIT","download","MouseEvent","DONE","onloadend","readAsDataURL","msSaveOrOpenBlob","WRITING","onwritestart","onwrite","onwriteend","newSel","placed_div","completely","backgroundColor","hideDropdown","DirectionArrow","setRotation","setUpMapCallbacks","setUpZoomCallbacks","target_coords","is_active","reload","showDropdown","hideTarget","toggleStartReactionListener","hasModelAndSelection","reloadAtSelected","show","clear_escape","blur","repaint","setText","focus","hideDropDown","setLocation","alreadyDrawn","drawnId","startingFromScratch","mets","showNames","allowDuplicates","cobraReactions","hasDataOnReactions","selectedMetName","reactionSuggestions","reactionName","showReactionName","showMetNames","showGeneNames","reactionString","onEnter","onChange","getRotation","start_reaction_listener","showTarget","config","thisDocument","thisWindow","txtInput","fontSize","fontFamily","promptInnerHTML","hintColor","dropDownBorderColor","dropDownZIndex","dropDownOnHoverBackgroundColor","txtHint","spellcheck","outline","border","disabled","borderColor","boxShadow","verticalAlign","prompt","overflow","background","body","elem","oldIndex","current_row","spacer","leftSide","dropDown","visibility","marginLeft","dropDownController","textAlign","zIndex","cursor","borderStyle","borderWidth","overflowX","whiteSpace","overflowY","refresh","vph","innerHeight","clientHeight","distanceToTop","distanceToBottom","bottom","divRow","onmouseover","onMouseOver","onmouseout","onMouseOut","onmousedown","ondblclick","onDblClick","__hint","rs","display_limit","divRow2","maxHeight","move","onmouseselection","get_current_row","registerOnTextChangeOldValue","get_hint","onArrowDown","onArrowUp","onTab","startFrom","hint","getText","optionsLength","fontWeight","txt","hasTextChanged","arrowContainer","arrow","_setupDrag","isVisible","rotation","displaceRotation","dRotation","dAngle","d3_format","create_membrane","enter_selection","update_membrane","create_reaction_label","drawn_nodes","update_reaction_label","create_segment","update_segment","tool","add_gene_height","reaction_data_styles","all_genes_g","show_gene_string","show_gene_reaction_rule","sd","td","gene_g","gene_update","get_arrow_size","should_size","no_data_size","reaction_size","get_disp","arrow_size","arrow_height","primary_r","secondary_r","should_color","no_data_color","objectMouseover","objectMouseout","arrowheads","curve","displacedCoords","reaction_color","loc","show_arrowhead_flux","stoichiometry_labels","labels","drag_behavior","mouseover","drawn_reactions","seg_data","segment_d","mousedown_fn","click_fn","mouseover_fn","mouseout_fn","label_drag_behavior","marker_r","metabolite_data_styles","no_data_style","labelMouseover","labelMouseout","startsWithAny","startsWith","ionsPrefixes","energyPrefixes","inorgPrefixes","node_label","hideNode","metabolite_size","metabolite_color","mousedown","click","reactionArrowDisplacement","displace","hyp","scaleLinear","x_size","y_size","getDataStatistics","preset","presetVal","scaleVal","scalePresets","setScale","changed","sortScale","stats","sorted","domain","color_range","size_range","setReactionScale","setMetaboliteScale","resizeEnabled","setup","transformString","currentTransform","dragLeft","oldX","dragbarWidth","dragRight","dragX","dragTop","oldY","dragBottom","dragY","webpackPolyfill","deprecate","paths","isEnabled","insertAfter","brushSel","insertBeforeNode","brushIsEnabled","setupSelectionBrush","turnOffCrosshair","selectableSelection","clearingFlag","extent","shiftKeyOn","sx","sy","placedDiv","isNew","activeTarget","_acceptChanges","_addAndEdit","clearEscape","clearEnter","textLabelIds","saveChanges","handleStyle","enableTooltips","dataStatistics","onClick","aria-hidden","title","checked","marginTop","newEnableTooltips","noDataColor","noDataSize","onNoDataColorChange","onNoDataSizeChange","ScaleSelector","setWrapperRef","handleClickOutside","wrapperRef","listItem","ScaleSlider","placePickers","curMin","curMax","absoluteMin","absoluteMax","pickerLocations","scaleChange","parameter","newScale","$set","$unset","$merge","addColorStop","$push","layerX","clientWidth","makeGradient","sortedScale","removeColorStop","$splice","pickers","trackWidth","focusedPicker","showTrash","Picker","setUpDrag","newValue","newLimValue","newVal","onFocus","locals","baseUrl","currentDir","protocol","host","pathname","fullMatch","origUrl","unquotedOrigUrl","$1","newUrl","invariant","getAllKeys","getOwnPropertySymbols","getPrototypeOf","commands","defaultCommands","directive","isEquals","spec","$apply","nextObject","nextValueForKey","nextObjectValue","objectWasNextObject","invariantPushAndUnshift","$unshift","originalObject","invariantSplice","$toggle","targets","invariantSpecArray","nextObjectCopy","$add","invariantMapOrSet","$remove","specValue","original","contextForExport","command","typeOfTarget","argIndex","framesToPop","ScaleSelection","dropdownVisible","enableKeys","beziersEnabled","fullScreenButtonEnabled","assignKey","rightMenu","disabledEditing","checkMark","Dropdown","nextProps","tabindex","MenuButton","assignKeyForInput","handleFileInput","files","searchItem","counter","close","clearNext","clearPrevious","inputRef","handleInput","dropDuplicates","compKeys","menuSetting","enableEditing","for","TooltipComponent","tooltipRef","cancelHideTooltip","delay_hide_timeout","currentTooltip","disableTooltips","delayHide","tooltipSize","mapSize","startPosX","startPosY","rightEdge","bottomEdge","delayHideTimeout","openBigg","decompartmentalizeCheck","pref","capitalizeFirstLetter","biggButtonText","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_URL_IMPORT_4___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","___CSS_LOADER_URL_REPLACEMENT_4___","___CSS_LOADER_URL_REPLACEMENT_5___","needQuotes","getdatafiles","datafiles","update_callback","select_sel","load_with_files","load_datafile","this_file","NO_DRAW_OPTIONS","WITH_API_FUNCTIONS","EscherMapModelRef","DOMWidgetView","setHeight","getMapData","getModelData","save_changes","EscherMapViewRef","DOMWidgetModel","_model_name","_view_name","_model_module","_view_module","_model_module_version","_view_module_version","@jupyter","widgets","code","lo","hi","ascendingBisect","bisector","bisectRight","bisect","e10","e5","e2","ticks","tickIncrement","power","LN10","tickStep","step0","step1","value0","valueof","implicit","ordinal","unknown","band","bandwidth","ordinalRange","paddingInner","paddingOuter","rescale","rangeRound","pointish","unit","deinterpolateLinear","bimap","deinterpolate","reinterpolate","d0","d1","r0","r1","polymap","continuous","piecewise","precisionPrefix","precisionRound","precisionFixed","linearish","tickFormat","nice","x0","x1","pow10","powp","exp","logp","log10","log2","reflect","logs","pows","u","thresholds","invertExtent","quantiles","quantize","newInterval","floori","offseti","field","setTime","setMonth","setHours","setFullYear","getFullYear","setDate","getMonth","weekday","getDate","getDay","getTimezoneOffset","sunday","monday","tuesday","wednesday","thursday","friday","saturday","getMilliseconds","getSeconds","getMinutes","utcWeekday","setUTCDate","getUTCDay","setUTCHours","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcDay","utcYear","setUTCMonth","setUTCFullYear","localDate","H","M","S","L","utcDate","UTC","newDate","formatLocale","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatDayOfMonth","formatMicroseconds","formatYearISO","formatFullYearISO","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCYearISO","formatUTCFullYearISO","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseSpecifier","parseDayOfMonth","parseMicroseconds","parseYear","parseFullYear","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseQuarter","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseZone","parseLiteralPercent","pads","newParse","Z","week","day","Q","V","W","U","X","utcFormat","utcParse","numberRe","percentRe","requoteRe","requote","dISO","dow","UTCdISO","timeFormat","durationMonth","durationYear","calendar","month","hour","minute","second","millisecond","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","tickIntervals","tickInterval","utcMonth","utcHour","setUTCMinutes","utcMinute","setUTCSeconds","deg2rad","rad2deg","cubehelixGamma","cubehelixLong","warm","cool","rainbow","ts","ramp","magma","inferno","plasma","sequential","interpolator","rho","SQRT2","rho2","rho4","epsilon2","ux0","uy0","w0","ux1","w1","d2","b0","coshr0","ZoomEvent","Transform","applyX","applyY","invertX","invertY","rescaleX","rescaleY","__zoom","defaultExtent","SVGElement","hasAttribute","viewBox","defaultTransform","defaultWheelDelta","deltaMode","defaultConstrain","translateExtent","dx0","dx1","dy0","dy1","touchstarting","constrain","scaleExtent","touchDelay","wheelDelay","zoom","wheeled","dblclicked","centroid","clean","__zooming","Gesture","taps","wheel","y0","moved","k1","touch0","touch1","l0","l1","dp","dl","scaleBy","scaleTo","translateBy","translateTo","emit","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","handles","xy","Y","XY","cursors","overlay","nw","ne","se","sw","flipX","flipY","signsX","signsY","__brush","brushSelection","dim","brushX","brushY","handleSize","initialize","handle","redraw","emitter","Emitter","signX","signY","n0","n1","e0","e1","s0","s1","moving","shifting","lockX","lockY","point0","point1","selection0","selection1","Dispatch","types","T","isNumberArray","genericArray","nb","na","numberArray"],"mappings":"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","file":"escher.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 74);\n","// Current version.\nexport var VERSION = '1.13.7';\n\n// Establish the root object, `window` (`self`) in the browser, `global`\n// on the server, or `this` in some virtual machines. We use `self`\n// instead of `window` for `WebWorker` support.\nexport var root = (typeof self == 'object' && self.self === self && self) ||\n          (typeof global == 'object' && global.global === global && global) ||\n          Function('return this')() ||\n          {};\n\n// Save bytes in the minified (but not gzipped) version:\nexport var ArrayProto = Array.prototype, ObjProto = Object.prototype;\nexport var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n// Create quick reference variables for speed access to core prototypes.\nexport var push = ArrayProto.push,\n    slice = ArrayProto.slice,\n    toString = ObjProto.toString,\n    hasOwnProperty = ObjProto.hasOwnProperty;\n\n// Modern feature detection.\nexport var supportsArrayBuffer = typeof ArrayBuffer !== 'undefined',\n    supportsDataView = typeof DataView !== 'undefined';\n\n// All **ECMAScript 5+** native function implementations that we hope to use\n// are declared here.\nexport var nativeIsArray = Array.isArray,\n    nativeKeys = Object.keys,\n    nativeCreate = Object.create,\n    nativeIsView = supportsArrayBuffer && ArrayBuffer.isView;\n\n// Create references to these builtin functions because we override them.\nexport var _isNaN = isNaN,\n    _isFinite = isFinite;\n\n// Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\nexport var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\nexport var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n  'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n// The largest integer that can be represented exactly.\nexport var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","/* global Blob, XMLSerializer, Image, btoa */\n\nvar vkbeautify = require('vkbeautify')\nvar _ = require('underscore')\nvar d3_json = require('d3-request').json\nvar d3_text = require('d3-request').text\nvar d3_csvParseRows = require('d3-dsv').csvParseRows\nvar d3_selection = require('d3-selection').selection\n\ntry {\n  var saveAs = require('file-saver').saveAs\n} catch (e) {\n  console.warn('Not a browser, so FileSaver.js not available.')\n}\n\nmodule.exports = {\n  set_options: set_options,\n  remove_child_nodes: remove_child_nodes,\n  load_css: load_css,\n  load_files: load_files,\n  load_the_file: load_the_file,\n  make_class: make_class,\n  class_with_optional_new: class_with_optional_new,\n  setup_defs: setup_defs,\n  draw_an_object: draw_an_object,\n  draw_a_nested_object: draw_a_nested_object,\n  make_array: make_array,\n  make_array_ref: make_array_ref,\n  compare_arrays: compare_arrays,\n  arrayToObject: arrayToObject,\n  clone: clone,\n  extend: extend,\n  uniqueConcat: uniqueConcat,\n  unique_strings_array: unique_strings_array,\n  debounce: debounce,\n  object_slice_for_ids: object_slice_for_ids,\n  object_slice_for_ids_ref: object_slice_for_ids_ref,\n  c_plus_c: c_plus_c,\n  c_minus_c: c_minus_c,\n  c_times_scalar: c_times_scalar,\n  download_json: download_json,\n  load_json: load_json,\n  load_json_or_csv: load_json_or_csv,\n  downloadSvg: downloadSvg,\n  downloadPng: downloadPng,\n  rotate_coords_recursive: rotate_coords_recursive,\n  rotate_coords: rotate_coords,\n  get_angle: get_angle,\n  to_degrees: to_degrees,\n  angleNorm: angleNorm,\n  to_radians: to_radians,\n  to_radians_norm: to_radians_norm,\n  angle_for_event: angle_for_event,\n  distance: distance,\n  check_undefined: check_undefined,\n  compartmentalize: compartmentalize,\n  decompartmentalize: decompartmentalize,\n  mean: mean,\n  median: median,\n  quartiles: quartiles,\n  random_characters: random_characters,\n  generate_map_id: generate_map_id,\n  check_for_parent_tag: check_for_parent_tag,\n  name_to_url: name_to_url,\n  get_document: get_document,\n  get_window: get_window,\n  d3_transform_catch: d3_transform_catch\n  // check_browser: check_browser\n}\n\n/**\n * Check if Blob is available, and alert if it is not.\n */\nfunction _check_filesaver() {\n  try {\n    var isFileSaverSupported = !!new Blob()\n  } catch (e) {\n    alert('Blob not supported')\n  }\n}\n\nfunction set_options(options, defaults, must_be_float) {\n  if (options === undefined || options === null) {\n    return defaults\n  }\n  var i = -1\n  var out = {}\n  for (var key in defaults) {\n    var has_key = ((key in options) &&\n                   (options[key] !== null) &&\n                   (options[key] !== undefined))\n    var val = (has_key ? options[key] : defaults[key])\n    if (must_be_float && key in must_be_float) {\n      val = parseFloat(val)\n      if (isNaN(val)) {\n        if (has_key) {\n          console.warn('Bad float for option ' + key)\n          val = parseFloat(defaults[key])\n          if (isNaN(val)) {\n            console.warn('Bad float for default ' + key)\n            val = null\n          }\n        } else {\n          console.warn('Bad float for default ' + key)\n          val = null\n        }\n      }\n    }\n    out[key] = val\n  }\n  return out\n}\n\n\nfunction remove_child_nodes(selection) {\n  /** Removes all child nodes from a d3 selection\n\n   */\n  var node = selection.node()\n  while (node.hasChildNodes()) {\n    node.removeChild(node.lastChild)\n  }\n}\n\n\nfunction load_css(css_path, callback) {\n  var css = \"\"\n  if (css_path) {\n    d3_text(css_path, function(error, text) {\n      if (error) {\n        console.warn(error)\n      }\n      css = text\n      callback(css)\n    })\n  }\n  return false\n}\n\n\nfunction _ends_with (str, suffix) {\n  return str.indexOf(suffix, str.length - suffix.length) !== -1\n}\n\n/**\n * Load a file.\n * @param {} t - this context for callback. Should be an object.\n * @param {} files_to_load - A filename to load. Must be JSON or CSS.\n * @param {} callback - Function to run after the file is loaded. Takes the\n * arguments error and data.\n * @param {} value - If the value is specified, just assign it and do not\n * execute the ajax query.\n */\nfunction load_the_file (t, file, callback, value) {\n  if (value) {\n    if (file) console.warn('File ' + file + ' overridden by value.')\n    callback.call(t, null, value)\n    return\n  }\n  if (!file) {\n    callback.call(t, 'No filename', null)\n    return\n  }\n  if (_ends_with(file, 'json')) {\n    d3_json(file, function(e, d) { callback.call(t, e, d) })\n  } else if (_ends_with(file, 'css')) {\n    d3_text(file, function(e, d) { callback.call(t, e, d) })\n  } else {\n    callback.call(t, 'Unrecognized file type', null)\n  }\n  return\n}\n\n\nfunction load_files (t, files_to_load, final_callback) {\n  /** Load multiple files asynchronously by calling utils.load_the_file.\n\n      t: this context for callback. Should be an object.\n\n      files_to_load: A list of objects with the attributes:\n\n      { file: a_filename.json, callback: a_callback_fn }\n\n      File must be JSON or CSS.\n\n      final_callback: Function that runs after all files have loaded.\n\n  */\n  if (files_to_load.length === 0) final_callback.call(t)\n  var i = -1,\n  remaining = files_to_load.length\n  while (++i < files_to_load.length) {\n    load_the_file(\n      t,\n      files_to_load[i].file,\n      function(e, d) {\n        this.call(t, e, d)\n        if (!--remaining) final_callback.call(t)\n      }.bind(files_to_load[i].callback),\n      files_to_load[i].value\n    )\n  }\n}\n\n\n/**\n * Create a constructor that returns a new object with our without the 'new'\n * keyword.\n *\n * Adapted from Hubert Kauker (MIT Licensed), John Resig (MIT Licensed).\n * http://stackoverflow.com/questions/7892884/simple-class-instantiation\n */\nfunction make_class () {\n  var is_internal\n  var constructor = function (args) {\n    if (this instanceof constructor) {\n      if (typeof this.init === 'function') {\n        this.init.apply(this, is_internal ? args : arguments)\n      }\n    } else {\n      is_internal = true\n      var instance = new constructor(arguments)\n      is_internal = false\n      return instance\n    }\n  }\n  return constructor\n}\n\n/**\n * Return a class that can be instantiated without the new keyword.\n * @param {Class} AClass - Any ES6 class.\n */\nfunction class_with_optional_new (AClass) {\n  return new Proxy(AClass, {\n    apply (Target, thisArg, args) {\n      return new Target(...args)\n    }\n  })\n}\n\nfunction setup_defs(svg, style) {\n  // add stylesheet\n  svg.select(\"defs\").remove()\n  var defs = svg.append(\"defs\")\n  // make sure the defs is the first node\n  var node = defs.node()\n  node.parentNode.insertBefore(node, node.parentNode.firstChild)\n  defs.append(\"style\")\n    .attr(\"type\", \"text/css\")\n      .text(style)\n  return defs\n}\n\n/**\n * Run through the d3 data binding steps for an object. Also checks to make sure\n * none of the values in the *object* are undefined, and ignores those.\n *\n * The create_function, update_function, and exit_function CAN modify the input\n * data object.\n *\n * @param {} container_sel - A d3 selection containing all objects.\n *\n * @param {} parent_node_selector - A selector string for a subselection of\n * container_sel.\n *\n * @param {} children_selector - A selector string for each DOM element to bind.\n *\n * @param {} object - An object to bind to the selection.\n *\n * @param {} id_key - The key that will be used to store object IDs in the bound\n * data points.\n *\n * @param {} create_function - A function for enter selection. Create function\n * must return a selection of the new nodes.\n *\n * @param {} update_function - A function for update selection.\n *\n * @param {} exit_function - A function for exit selection.\n */\nfunction draw_an_object (container_sel, parent_node_selector, children_selector,\n                         object, id_key, create_function, update_function,\n                         exit_function) {\n  var draw_object = {}\n\n  for (var id in object) {\n    if (object[id] === undefined) {\n      console.warn('Undefined value for id ' + id + ' in object. Ignoring.')\n    } else {\n      draw_object[id] = object[id]\n    }\n  }\n\n  var sel = container_sel.select(parent_node_selector)\n      .selectAll(children_selector)\n      .data(make_array_ref(draw_object, id_key),\n            function (d) { return d[id_key] })\n\n  // enter: generate and place reaction\n  var update_sel = create_function\n      ? create_function(sel.enter()).merge(sel)\n      : sel\n\n  // update: update when necessary\n  if (update_function) {\n    update_sel.call(update_function)\n  }\n\n  // exit\n  if (exit_function) {\n    sel.exit().call(exit_function)\n  }\n}\n\n/**\n * Run through the d3 data binding steps for an object that is nested within\n * another element with D3 data.\n *\n * The create_function, update_function, and exit_function CAN modify the input\n * data object.\n *\n * @param {} container_sel - A d3 selection containing all objects.\n *\n * @param {} children_selector - A selector string for each DOM element to bind.\n *\n * @param {} object_data_key - A key for the parent object containing data for\n * the new selection.\n *\n * @param {} id_key - The key that will be used to store object IDs in the bound\n * data points.\n *\n * @param {} create_function - A function for enter selection. Create function\n * must return a selection of the new nodes.\n *\n * @param {} update_function - A function for update selection.\n *\n * @param {} exit_function - A function for exit selection.\n */\nfunction draw_a_nested_object (container_sel, children_selector, object_data_key,\n                               id_key, create_function, update_function,\n                               exit_function) {\n  var sel = container_sel.selectAll(children_selector)\n      .data(function(d) { return make_array_ref(d[object_data_key], id_key) },\n            function(d) { return d[id_key] })\n\n  // enter: generate and place reaction\n  var update_sel = (create_function ?\n                    create_function(sel.enter()).merge(sel) :\n                    sel)\n\n  // update: update when necessary\n  if (update_function) {\n    update_sel.call(update_function)\n  }\n\n  // exit\n  if (exit_function) {\n    sel.exit().call(exit_function)\n  }\n}\n\nfunction make_array(obj, id_key) { // is this super slow?\n  var array = []\n  for (var key in obj) {\n    // copy object\n    var it = clone(obj[key])\n    // add key as 'id'\n    it[id_key] = key\n    // add object to array\n    array.push(it)\n  }\n  return array\n}\n\nfunction make_array_ref(obj, id_key) {\n  /** Turn the object into an array, but only by reference. Faster than\n      make_array.\n\n  */\n  var array = []\n  for (var key in obj) {\n    // copy object\n    var it = obj[key]\n    // add key as 'id'\n    it[id_key] = key\n    // add object to array\n    array.push(it)\n  }\n  return array\n}\n\nfunction compare_arrays(a1, a2) {\n  /** Compares two simple (not-nested) arrays.\n\n   */\n  if (!a1 || !a2) return false\n  if (a1.length != a2.length) return false\n  for (var i = 0, l=a1.length; i < l; i++) {\n    if (a1[i] != a2[i]) {\n      // Warning - two different object instances will never be equal: {x:20} != {x:20}\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * Convert an array of objects to an object with all keys and values\n * that are arrays of the same length as arr. Fills in spaces with null.\n *\n *  For example, [ { a: 1 }, { b: 2 }] becomes { a: [1, null], b: [null, 2] }.\n */\nfunction arrayToObject (arr) {\n  // new object\n  const obj = {}\n  // for each element of the array\n  for (let i = 0, l = arr.length; i < l; i++) {\n    const column = arr[i]\n    const keys = Object.keys(column)\n    for (var k = 0, nk = keys.length; k < nk; k++) {\n      var id = keys[k]\n      if (!(id in obj)) {\n        var n = []\n        // fill spaces with null\n        for (var j = 0; j < l; j++) {\n          n[j] = null\n        }\n        n[i] = column[id]\n        obj[id] = n\n      } else {\n        obj[id][i] = column[id]\n      }\n    }\n  }\n  return obj\n}\n\n/**\n * Deep copy for array and object types. All other types are returned by\n * reference.\n * @param {T<Object|Array|*>} obj - The object to copy.\n * @return {T} The copied object.\n */\nfunction clone (obj) {\n  if (_.isArray(obj))\n    return _.map(obj, function(t) { return clone(t) })\n  else if (_.isObject(obj))\n    return _.mapObject(obj, function (t, k) { return clone(t) })\n  else\n    return obj\n}\n\nfunction extend(obj1, obj2, overwrite) {\n  /** Extends obj1 with keys/values from obj2. Performs the extension\n      cautiously, and does not override attributes, unless the overwrite\n      argument is true.\n\n      Arguments\n      ---------\n\n      obj1: Object to extend\n\n      obj2: Object with which to extend.\n\n      overwrite: (Optional, Default false) Overwrite attributes in obj1.\n\n  */\n\n  if (overwrite === undefined)\n    overwrite = false\n\n  for (var attrname in obj2) {\n    if (!(attrname in obj1) || overwrite) // UNIT TEST This\n      obj1[attrname] = obj2[attrname]\n    else\n      throw new Error('Attribute ' + attrname + ' already in object.')\n  }\n}\n\nfunction uniqueConcat (arrays) {\n  const newArray = []\n  arrays.forEach(a => {\n    a.forEach(x => {\n      if (newArray.indexOf(x) < 0) {\n        newArray.push(x)\n      }\n    })\n  })\n  return newArray\n}\n\n/**\n * Return unique values in array of strings.\n *\n * http://stackoverflow.com/questions/1960473/unique-values-in-an-array\n */\nfunction unique_strings_array (arr) {\n  var a = []\n  for (var i = 0, l = arr.length; i < l; i++) {\n    if (a.indexOf(arr[i]) === -1) {\n      a.push(arr[i])\n    }\n  }\n  return a\n}\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not be\n * triggered. The function will be called after it stops being called for N\n * milliseconds. If \"immediate\" is passed, trigger the function on the leading\n * edge, instead of the trailing.\n */\nfunction debounce (func, wait, immediate) {\n  var timeout\n  return function () {\n    var context = this\n    var args = arguments\n    var later = function () {\n      timeout = null\n      if (!immediate) func.apply(context, args)\n    }\n    var callNow = immediate && !timeout\n    clearTimeout(timeout)\n    timeout = setTimeout(later, wait)\n    if (callNow) func.apply(context, args)\n  }\n}\n\n/**\n * Return a copy of the object with just the given ids.\n * @param {} obj - An object\n * @param {} ids - An array of id strings\n */\nfunction object_slice_for_ids (obj, ids) {\n  var subset = {}\n  var i = -1\n  while (++i < ids.length) {\n    subset[ids[i]] = clone(obj[ids[i]])\n  }\n  if (ids.length !== Object.keys(subset).length) {\n    console.warn('did not find correct reaction subset')\n  }\n  return subset\n}\n\n/**\n * Return a reference of the object with just the given ids. Faster than\n * object_slice_for_ids.\n * @param {} obj - An object.\n * @param {} ids - An array of id strings.\n */\nfunction object_slice_for_ids_ref (obj, ids) {\n  var subset = {}\n  var i = -1\n  while (++i < ids.length) {\n    subset[ids[i]] = obj[ids[i]]\n  }\n  if (ids.length !== Object.keys(subset).length) {\n    console.warn('did not find correct reaction subset')\n  }\n  return subset\n}\n\nfunction c_plus_c (coords1, coords2) {\n  if (coords1 === null || coords2 === null ||\n      coords1 === undefined || coords2 === undefined) {\n    return null\n  }\n  return {\n    x: coords1.x + coords2.x,\n    y: coords1.y + coords2.y,\n  }\n}\n\nfunction c_minus_c (coords1, coords2) {\n  if (coords1 === null || coords2 === null ||\n      coords1 === undefined || coords2 === undefined) {\n    return null\n  }\n  return {\n    x: coords1.x - coords2.x,\n    y: coords1.y - coords2.y,\n  }\n}\n\nfunction c_times_scalar (coords, scalar) {\n  return {\n    x: coords.x * scalar,\n    y: coords.y * scalar,\n  }\n}\n\n/**\n * Download JSON file in a blob.\n */\nfunction download_json (json, name) {\n  // Alert if blob isn't going to work\n  _check_filesaver()\n\n  var j = JSON.stringify(json)\n  var blob = new Blob([j], { type: 'application/json' })\n  saveAs(blob, name + '.json')\n}\n\n/**\n * Try to load the file as JSON.\n * @param {} f - The file path\n * @param {} callback - A callback function that accepts arguments: error, data.\n * @param {} pre_fn (optional) - A function to call before loading the data.\n * @param {} failure_fn (optional) - A function to call if the load fails or is\n * aborted.\n*/\nfunction load_json (f, callback, pre_fn, failure_fn) {\n  // Check for the various File API support\n  if (!(window.File && window.FileReader && window.FileList && window.Blob)) {\n    callback('The File APIs are not fully supported in this browser.', null)\n  }\n\n  var reader = new window.FileReader()\n  // Closure to capture the file information.\n  reader.onload = function (event) {\n    var result = event.target.result\n    var data\n    // Try JSON\n    try {\n      data = JSON.parse(result)\n    } catch (e) {\n      // If it failed, return the error\n      callback(e, null)\n      return\n    }\n    // If successful, return the data\n    callback(null, data)\n  }\n  if (pre_fn !== undefined && pre_fn !== null) {\n    try { pre_fn() }\n    catch (e) { console.warn(e) }\n  }\n  reader.onabort = function(event) {\n    try { failure_fn() }\n    catch (e) { console.warn(e) }\n  }\n  reader.onerror = function(event) {\n    try { failure_fn() }\n    catch (e) { console.warn(e) }\n  }\n  // Read in the image file as a data URL\n  reader.readAsText(f)\n}\n\n/**\n * Try to load the file as JSON or CSV (JSON first).\n * @param {String} f - The file path\n * @param {Function}  csv_converter - A function to convert the CSV output to equivalent JSON.\n * @param {Function} callback - A callback function that accepts arguments: error, data.\n * @param {} pre_fn (optional) - A function to call before loading the data.\n * @param {} failure_fn (optional) - A function to call if the load fails or is\n * aborted.\n * @param {} debug_event (optional) - An event, with a string at\n * event.target.result, to load as though it was the contents of a loaded file.\n */\nfunction load_json_or_csv (f, csv_converter, callback, pre_fn, failure_fn,\n                           debug_event) {\n  // Capture the file information.\n  var onload_function = function(event) {\n    var result = event.target.result\n    var data\n    var errors\n    // try JSON\n    try {\n      data = JSON.parse(result)\n    } catch (e) {\n      errors = 'JSON error: ' + e\n\n      // try csv\n      try {\n        data = csv_converter(d3_csvParseRows(result))\n      } catch (e) {\n        // if both failed, return the errors\n        callback(errors + '\\nCSV error: ' + e, null)\n        return\n      }\n    }\n    // if successful, return the data\n    callback(null, data)\n  }\n  if (debug_event !== undefined && debug_event !== null) {\n    console.warn('Debugging load_json_or_csv')\n    return onload_function(debug_event)\n  }\n\n  // Check for the various File API support.\n  if (!(window.File && window.FileReader && window.FileList && window.Blob))\n    callback(\"The File APIs are not fully supported in this browser.\", null)\n  var reader = new window.FileReader()\n\n  if (pre_fn !== undefined && pre_fn !== null) {\n    try { pre_fn(); }\n    catch (e) { console.warn(e); }\n  }\n  reader.onabort = function(event) {\n    try { failure_fn(); }\n    catch (e) { console.warn(e); }\n  }\n  reader.onerror = function(event) {\n    try { failure_fn(); }\n    catch (e) { console.warn(e); }\n  }\n  // Read in the image file as a data URL.\n  reader.onload = onload_function\n  reader.readAsText(f)\n}\n\n/**\n * Download an svg file using FileSaver.js.\n * @param {String} name - The filename (without extension)\n * @param {D3 Selection} svg_sel - The d3 selection for the SVG element\n * @param {Boolean} do_beautify - If true, then beautify the SVG output\n */\nfunction downloadSvg (name, svg_sel, do_beautify) {\n  // Alert if blob isn't going to work\n  _check_filesaver()\n\n  // Make the xml string\n  var xml = (new XMLSerializer()).serializeToString(svg_sel.node())\n  if (do_beautify) xml = vkbeautify.xml(xml)\n  xml = ('<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n' +\n         '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\\n' +\n         ' \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n' +\n         xml)\n\n  // Save\n  var blob = new Blob([ xml ], { type: 'image/svg+xml' })\n  saveAs(blob, name + '.svg')\n}\n\n/**\n * Download a png file using FileSaver.js.\n * @param {String} name - The filename (without extension).\n * @param {D3 Selection} svg_sel - The d3 selection for the SVG element.\n */\nfunction downloadPng (name, svg_sel) {\n  // Alert if blob isn't going to work\n  _check_filesaver()\n\n  // Make the xml string\n  var xml = new XMLSerializer().serializeToString(svg_sel.node())\n  xml = ('<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n' +\n         '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\\n' +\n         ' \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n' +\n         xml)\n\n  // Canvas to hold the image\n  var canvas = document.createElement('canvas')\n  var context = canvas.getContext('2d')\n\n  // Get SVG size\n  var svg_size = svg_sel.node().getBBox()\n  var svg_width = svg_size.width + svg_size.x\n  var svg_height = svg_size.height + svg_size.y\n\n  // Canvas size = SVG size. Constrained to 10000px for very large SVGs\n  if (svg_width < 10000 && svg_height < 10000) {\n    canvas.width = svg_width\n    canvas.height = svg_height\n  } else {\n    if (canvas.width > canvas.height) {\n      canvas.width = 10000\n      canvas.height = 10000 * (svg_height / svg_width)\n    } else {\n      canvas.width = 10000 * (svg_width / svg_height)\n      canvas.height = 10000\n    }\n  }\n\n  // Image element appended with data\n  var base_image = new Image()\n  base_image.src = 'data:image/svg+xml;base64,' + btoa(xml)\n\n  base_image.onload = function () {\n    // Draw image to canvas with white background\n    context.fillStyle = '#FFF'\n    context.fillRect(0, 0, canvas.width, canvas.height)\n    context.drawImage(base_image, 0, 0, canvas.width, canvas.height)\n\n    // Save image\n    canvas.toBlob(function (blob) {\n      saveAs(blob, name + '.png')\n    })\n  }\n}\n\nfunction rotate_coords_recursive (coords_array, angle, center) {\n  return coords_array.map(function (c) {\n    return rotate_coords(c, angle, center)\n  })\n}\n\n/**\n * Calculates displacement { x: dx, y: dy } based on rotating point c around\n * center with angle.\n */\nfunction rotate_coords (c, angle, center) {\n  var dx = Math.cos(-angle) * (c.x - center.x) +\n      Math.sin(-angle) * (c.y - center.y)\n    + center.x - c.x\n  var dy = - Math.sin(-angle) * (c.x - center.x) +\n    Math.cos(-angle) * (c.y - center.y)\n    + center.y - c.y\n  return { x: dx, y: dy }\n}\n\n/**\n * Get the angle between coordinates\n * @param {Object} coords - Array of 2 coordinate objects { x: 1, y: 1 }\n * @return {Number} angle between 0 and 2PI.\n */\nfunction get_angle (coords) {\n  var denominator = coords[1].x - coords[0].x\n  var numerator = coords[1].y - coords[0].y\n  if (denominator === 0 && numerator >= 0) {\n    return Math.PI/2\n  } else if (denominator === 0 && numerator < 0) {\n    return 3*Math.PI/2\n  } else if (denominator >= 0 && numerator >= 0) {\n    return Math.atan(numerator/denominator)\n  } else if (denominator >= 0) {\n    return (Math.atan(numerator/denominator) + 2*Math.PI)\n  } else {\n    return (Math.atan(numerator/denominator) + Math.PI)\n  }\n}\n\nfunction to_degrees (radians) {\n  return radians * 180 / Math.PI\n}\n\n/**\n * Force to domain -PI to PI\n */\nfunction angleNorm (radians) {\n  if (radians < -Math.PI) {\n    return radians + Math.floor((radians - Math.PI) / (-2 * Math.PI)) * 2 * Math.PI\n  } else if (radians > Math.PI) {\n    return radians - Math.floor((radians + Math.PI) / (2 * Math.PI)) * 2 * Math.PI\n  } else {\n    return radians\n  }\n}\n\nfunction to_radians (degrees) {\n  return Math.PI / 180 * degrees\n}\n\n/**\n * Convert to radians, and force to domain -PI to PI\n */\nfunction to_radians_norm (degrees) {\n  var radians = to_radians(degrees)\n  return angleNorm(radians)\n}\n\nfunction angle_for_event (displacement, point, center) {\n  var gamma =  Math.atan2((point.x - center.x), (center.y - point.y))\n  var beta = Math.atan2((point.x - center.x + displacement.x),\n                        (center.y - point.y - displacement.y))\n  var angle = beta - gamma\n  return angle\n}\n\nfunction distance (start, end) {\n  return Math.sqrt(Math.pow(end.y - start.y, 2) + Math.pow(end.x - start.x, 2))\n}\n\n/**\n * Report an error if any of the arguments are undefined. Call by passing in\n * \"arguments\" from any function and an array of argument names.\n */\nfunction check_undefined (args, names) {\n  names.forEach(function (name, i) {\n    if (args[i] === undefined) {\n      console.error(`Argument is undefined: ${names[i]}`)\n    }\n  })\n}\n\nfunction compartmentalize (bigg_id, compartment_id) {\n  return `${bigg_id}_${compartment_id}`;\n}\n\n/**\n * Returns an array of [bigg_id, compartment id]. Matches compartment ids with\n * length 1 or 2. Return [ id, null ] if no match is found.\n */\nfunction decompartmentalize (id) {\n  var reg = /(.*)_([a-z0-9]{1,2})$/;\n  var result = reg.exec(id)\n  return result !== null ? result.slice(1,3) : [ id, null ]\n}\n\nfunction mean (array) {\n  var sum = array.reduce(function (a, b) { return a + b })\n  var avg = sum / array.length\n  return avg\n}\n\nfunction median (array) {\n  array.sort(function(a, b) { return a - b })\n  var half = Math.floor(array.length / 2)\n  if(array.length % 2 == 1) {\n    return array[half]\n  } else {\n    return (array[half-1] + array[half]) / 2.0\n  }\n}\n\nfunction quartiles (array) {\n  array.sort(function (a, b) { return a - b })\n  var half = Math.floor(array.length / 2)\n  if (array.length === 1) {\n    return [\n      array[0],\n      array[0],\n      array[0],\n    ]\n  } else if (array.length % 2 === 1) {\n    return [\n      median(array.slice(0, half)),\n      array[half],\n      median(array.slice(half + 1)),\n    ]\n  } else {\n    return [\n      median(array.slice(0, half)),\n      (array[half-1] + array[half]) / 2.0,\n      median(array.slice(half)),\n    ]\n  }\n}\n\n/**\n * Generate random characters\n *\n * Thanks to @csharptest.net\n * http://stackoverflow.com/questions/1349404/generate-a-string-of-5-random-characters-in-javascript\n */\nfunction random_characters (num) {\n  var text = ''\n  var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n  for (var i = 0; i < num; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length))\n  }\n  return text\n}\n\nfunction generate_map_id () {\n  return random_characters(12)\n}\n\n/**\n * Check that the selection has the given parent tag.\n * @param {D3 Selection|DOM Node} el - A D3 Selection or DOM Node to check.\n * @param {String} tag - A tag name (case insensitive).\n */\nfunction check_for_parent_tag (el, tag) {\n  // make sure it is a node\n  if (el instanceof d3_selection) {\n    el = el.node()\n  }\n  while (el.parentNode !== null) {\n    el = el.parentNode\n    if (el.tagName === undefined) {\n      continue\n    }\n    if (el.tagName.toLowerCase() === tag.toLowerCase()) {\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * Convert model or map name to url.\n * @param {String} name - The short name, e.g. e_coli.iJO1366.central_metabolism.\n * @param {String} download_url (optional) - The url to prepend.\n */\nfunction name_to_url (name, download_url) {\n  if (download_url !== undefined && download_url !== null) {\n    // strip download_url\n    download_url = download_url.replace(/^\\/|\\/$/g, '')\n    name = [download_url, name].join('/')\n  }\n  // strip final path\n  return name.replace(/^\\/|\\/$/g, '') + '.json'\n}\n\n/**\n * Get the document for the node\n */\nfunction get_document (node) {\n  return node.ownerDocument\n}\n\n/**\n * Get the window for the node\n */\nfunction get_window (node) {\n  return get_document(node).defaultView\n}\n\n/**\n * Get translation and rotation values for a transform string. This used to be\n * in d3, but since v4, I just adapted a solution from SO:\n *\n * http://stackoverflow.com/questions/38224875/replacing-d3-transform-in-d3-v4\n *\n * To get skew and scale out, go back to that example.\n *\n * TODO rename function without \"catch\"\n *\n * @param {String} transform_attr - A transform string.\n */\nfunction d3_transform_catch (transform_attr) {\n  if (transform_attr.indexOf('skew') !== -1 ||\n      transform_attr.indexOf('matrix') !== -1) {\n    throw new Error('d3_transform_catch does not work with skew or matrix')\n  }\n\n  var translate_res = (/translate\\s*\\(\\s*([0-9.-]+)\\s*,\\s*([0-9.-]+)\\s*\\)/\n                       .exec(transform_attr))\n  var tn = _.isNull(translate_res)\n  var tx = tn ? 0.0 : Number(translate_res[1])\n  var ty = tn ? 0.0 : Number(translate_res[2])\n\n  var rotate_res = (/rotate\\s*\\(\\s*([0-9.-]+)\\s*\\)/\n                    .exec(transform_attr))\n  var rn = _.isNull(rotate_res)\n  var r = rn ? 0.0 : Number(rotate_res[1])\n\n  var scale_res = (/scale\\s*\\(\\s*([0-9.-]+)\\s*\\)/\n                   .exec(transform_attr))\n  var sn = _.isNull(scale_res)\n  var s = sn ? 0.0 : Number(scale_res[1])\n\n  return { translate: [ tx, ty ], rotate: r, scale: s, }\n\n  // // Create a dummy g for calculation purposes only. This will new be appended\n  // // to the DOM and will be discarded once this function returns.\n  // var g = document.createElementNS('http://www.w3.org/2000/svg', 'g')\n\n  // // Set the transform attribute to the provided string value.\n  // g.setAttributeNS(null, 'transform', transform_attr)\n\n  // // Consolidate the SVGTransformList containing all Try to a single\n  // // SVGTransform of type SVG_TRANSFORM_MATRIX and get its SVGMatrix.\n\n  // var matrix = g.transform.baseVal.consolidate().matrix\n\n  // // Below calculations are taken and adapted from the private func\n  // // transform/decompose.js of D3's module d3-interpolate.\n  // var a = matrix.a\n  // var b = matrix.b\n  // var c = matrix.c\n  // var d = matrix.d\n  // var e = matrix.e\n  // var f = matrix.f\n  // var scaleX = Math.sqrt(a * a + b * b)\n\n  // if (scaleX) {\n  //   a /= scaleX\n  //   b /= scaleX\n  // }\n\n  // if (a * d < b * c) {\n  //   a = -a\n  //   b = -b\n  // }\n\n  // return {\n  //   translate: [ e, f ],\n  //   rotate: Math.atan2(b, a) * Math.PI / 180,\n  // }\n}\n\n/**\n * Look for name in the user agent string.\n */\n// function check_browser (name) {\n//   var browser = function() {\n//     // Thanks to\n//     // http://stackoverflow.com/questions/2400935/browser-detection-in-javascript\n//     var ua = navigator.userAgent\n//     var M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || []\n//     var tem\n//     if (/trident/i.test(M[1])) {\n//       tem = /\\brv[ :]+(\\d+)/g.exec(ua) || []\n//       return 'IE '+ (tem[1] || '')\n//     }\n//     if (M[1] === 'Chrome') {\n//       tem = ua.match(/\\b(OPR|Edge)\\/(\\d+)/)\n//       if (tem != null) return tem.slice(1).join(' ').replace('OPR', 'Opera')\n//     }\n//     M = M[2] ? [ M[1], M[2] ]: [ navigator.appName, navigator.appVersion, '-?' ]\n//     if ((tem = ua.match(/version\\/(\\d+)/i)) !== null) {\n//       M.splice(1, 1, tem[1])\n//     }\n//     return M.join(' ')\n//   }\n\n//   try {\n//     // navigator.userAgent is deprecated, so don't count on it\n//     return browser().toLowerCase().indexOf(name) > -1\n//   } catch (e) {\n//     return false\n//   }\n// }\n","// Some functions take a variable number of arguments, or a few expected\n// arguments at the beginning and then a variable number of values to operate\n// on. This helper accumulates all remaining arguments past the functions\n// argument length (or an explicit `startIndex`), into an array that becomes\n// the last argument. Similar to ES6s \"rest parameter\".\nexport default function restArguments(func, startIndex) {\n  startIndex = startIndex == null ? func.length - 1 : +startIndex;\n  return function() {\n    var length = Math.max(arguments.length - startIndex, 0),\n        rest = Array(length),\n        index = 0;\n    for (; index < length; index++) {\n      rest[index] = arguments[index + startIndex];\n    }\n    switch (startIndex) {\n      case 0: return func.call(this, rest);\n      case 1: return func.call(this, arguments[0], rest);\n      case 2: return func.call(this, arguments[0], arguments[1], rest);\n    }\n    var args = Array(startIndex + 1);\n    for (index = 0; index < startIndex; index++) {\n      args[index] = arguments[index];\n    }\n    args[startIndex] = rest;\n    return func.apply(this, args);\n  };\n}\n","// Is a given variable an object?\nexport default function isObject(obj) {\n  var type = typeof obj;\n  return type === 'function' || (type === 'object' && !!obj);\n}\n","// Is a given value equal to null?\nexport default function isNull(obj) {\n  return obj === null;\n}\n","// Is a given variable undefined?\nexport default function isUndefined(obj) {\n  return obj === void 0;\n}\n","import { toString } from './_setup.js';\n\n// Is a given value a boolean?\nexport default function isBoolean(obj) {\n  return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n}\n","// Is a given value a DOM element?\nexport default function isElement(obj) {\n  return !!(obj && obj.nodeType === 1);\n}\n","import { toString } from './_setup.js';\n\n// Internal function for creating a `toString`-based type tester.\nexport default function tagTester(name) {\n  var tag = '[object ' + name + ']';\n  return function(obj) {\n    return toString.call(obj) === tag;\n  };\n}\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('String');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Number');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Date');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('RegExp');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Error');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Symbol');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('ArrayBuffer');\n","import tagTester from './_tagTester.js';\nimport { root } from './_setup.js';\n\nvar isFunction = tagTester('Function');\n\n// Optimize `isFunction` if appropriate. Work around some `typeof` bugs in old\n// v8, IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\nvar nodelist = root.document && root.document.childNodes;\nif (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n  isFunction = function(obj) {\n    return typeof obj == 'function' || false;\n  };\n}\n\nexport default isFunction;\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Object');\n","import { supportsDataView } from './_setup.js';\nimport hasObjectTag from './_hasObjectTag.js';\n\n// In IE 10 - Edge 13, `DataView` has string tag `'[object Object]'`.\n// In IE 11, the most common among them, this problem also applies to\n// `Map`, `WeakMap` and `Set`.\n// Also, there are cases where an application can override the native\n// `DataView` object, in cases like that we can't use the constructor\n// safely and should just rely on alternate `DataView` checks\nexport var hasDataViewBug = (\n      supportsDataView && (!/\\[native code\\]/.test(String(DataView)) || hasObjectTag(new DataView(new ArrayBuffer(8))))\n    ),\n    isIE11 = (typeof Map !== 'undefined' && hasObjectTag(new Map));\n","import tagTester from './_tagTester.js';\nimport isFunction from './isFunction.js';\nimport isArrayBuffer from './isArrayBuffer.js';\nimport { hasDataViewBug } from './_stringTagBug.js';\n\nvar isDataView = tagTester('DataView');\n\n// In IE 10 - Edge 13, we need a different heuristic\n// to determine whether an object is a `DataView`.\n// Also, in cases where the native `DataView` is\n// overridden we can't rely on the tag itself.\nfunction alternateIsDataView(obj) {\n  return obj != null && isFunction(obj.getInt8) && isArrayBuffer(obj.buffer);\n}\n\nexport default (hasDataViewBug ? alternateIsDataView : isDataView);\n","import { nativeIsArray } from './_setup.js';\nimport tagTester from './_tagTester.js';\n\n// Is a given value an array?\n// Delegates to ECMA5's native `Array.isArray`.\nexport default nativeIsArray || tagTester('Array');\n","import { hasOwnProperty } from './_setup.js';\n\n// Internal function to check whether `key` is an own property name of `obj`.\nexport default function has(obj, key) {\n  return obj != null && hasOwnProperty.call(obj, key);\n}\n","import tagTester from './_tagTester.js';\nimport has from './_has.js';\n\nvar isArguments = tagTester('Arguments');\n\n// Define a fallback version of the method in browsers (ahem, IE < 9), where\n// there isn't any inspectable \"Arguments\" type.\n(function() {\n  if (!isArguments(arguments)) {\n    isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n}());\n\nexport default isArguments;\n","import { _isFinite } from './_setup.js';\nimport isSymbol from './isSymbol.js';\n\n// Is a given object a finite number?\nexport default function isFinite(obj) {\n  return !isSymbol(obj) && _isFinite(obj) && !isNaN(parseFloat(obj));\n}\n","import { _isNaN } from './_setup.js';\nimport isNumber from './isNumber.js';\n\n// Is the given value `NaN`?\nexport default function isNaN(obj) {\n  return isNumber(obj) && _isNaN(obj);\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function constant(value) {\n  return function() {\n    return value;\n  };\n}\n","import { MAX_ARRAY_INDEX } from './_setup.js';\n\n// Common internal logic for `isArrayLike` and `isBufferLike`.\nexport default function createSizePropertyCheck(getSizeProperty) {\n  return function(collection) {\n    var sizeProperty = getSizeProperty(collection);\n    return typeof sizeProperty == 'number' && sizeProperty >= 0 && sizeProperty <= MAX_ARRAY_INDEX;\n  }\n}\n","// Internal helper to generate a function to obtain property `key` from `obj`.\nexport default function shallowProperty(key) {\n  return function(obj) {\n    return obj == null ? void 0 : obj[key];\n  };\n}\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `byteLength` property of an object.\nexport default shallowProperty('byteLength');\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getByteLength from './_getByteLength.js';\n\n// Internal helper to determine whether we should spend extensive checks against\n// `ArrayBuffer` et al.\nexport default createSizePropertyCheck(getByteLength);\n","import { supportsArrayBuffer, nativeIsView, toString } from './_setup.js';\nimport isDataView from './isDataView.js';\nimport constant from './constant.js';\nimport isBufferLike from './_isBufferLike.js';\n\n// Is a given value a typed array?\nvar typedArrayPattern = /\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;\nfunction isTypedArray(obj) {\n  // `ArrayBuffer.isView` is the most future-proof, so use it when available.\n  // Otherwise, fall back on the above regular expression.\n  return nativeIsView ? (nativeIsView(obj) && !isDataView(obj)) :\n                isBufferLike(obj) && typedArrayPattern.test(toString.call(obj));\n}\n\nexport default supportsArrayBuffer ? isTypedArray : constant(false);\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `length` property of an object.\nexport default shallowProperty('length');\n","import { nonEnumerableProps, ObjProto } from './_setup.js';\nimport isFunction from './isFunction.js';\nimport has from './_has.js';\n\n// Internal helper to create a simple lookup structure.\n// `collectNonEnumProps` used to depend on `_.contains`, but this led to\n// circular imports. `emulatedSet` is a one-off solution that only works for\n// arrays of strings.\nfunction emulatedSet(keys) {\n  var hash = {};\n  for (var l = keys.length, i = 0; i < l; ++i) hash[keys[i]] = true;\n  return {\n    contains: function(key) { return hash[key] === true; },\n    push: function(key) {\n      hash[key] = true;\n      return keys.push(key);\n    }\n  };\n}\n\n// Internal helper. Checks `keys` for the presence of keys in IE < 9 that won't\n// be iterated by `for key in ...` and thus missed. Extends `keys` in place if\n// needed.\nexport default function collectNonEnumProps(obj, keys) {\n  keys = emulatedSet(keys);\n  var nonEnumIdx = nonEnumerableProps.length;\n  var constructor = obj.constructor;\n  var proto = (isFunction(constructor) && constructor.prototype) || ObjProto;\n\n  // Constructor is a special case.\n  var prop = 'constructor';\n  if (has(obj, prop) && !keys.contains(prop)) keys.push(prop);\n\n  while (nonEnumIdx--) {\n    prop = nonEnumerableProps[nonEnumIdx];\n    if (prop in obj && obj[prop] !== proto[prop] && !keys.contains(prop)) {\n      keys.push(prop);\n    }\n  }\n}\n","import isObject from './isObject.js';\nimport { nativeKeys, hasEnumBug } from './_setup.js';\nimport has from './_has.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve the names of an object's own properties.\n// Delegates to **ECMAScript 5**'s native `Object.keys`.\nexport default function keys(obj) {\n  if (!isObject(obj)) return [];\n  if (nativeKeys) return nativeKeys(obj);\n  var keys = [];\n  for (var key in obj) if (has(obj, key)) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import getLength from './_getLength.js';\nimport isArray from './isArray.js';\nimport isString from './isString.js';\nimport isArguments from './isArguments.js';\nimport keys from './keys.js';\n\n// Is a given array, string, or object empty?\n// An \"empty\" object has no enumerable own-properties.\nexport default function isEmpty(obj) {\n  if (obj == null) return true;\n  // Skip the more expensive `toString`-based type checks if `obj` has no\n  // `.length`.\n  var length = getLength(obj);\n  if (typeof length == 'number' && (\n    isArray(obj) || isString(obj) || isArguments(obj)\n  )) return length === 0;\n  return getLength(keys(obj)) === 0;\n}\n","import keys from './keys.js';\n\n// Returns whether an object has a given set of `key:value` pairs.\nexport default function isMatch(object, attrs) {\n  var _keys = keys(attrs), length = _keys.length;\n  if (object == null) return !length;\n  var obj = Object(object);\n  for (var i = 0; i < length; i++) {\n    var key = _keys[i];\n    if (attrs[key] !== obj[key] || !(key in obj)) return false;\n  }\n  return true;\n}\n","import { VERSION } from './_setup.js';\n\n// If Underscore is called as a function, it returns a wrapped object that can\n// be used OO-style. This wrapper holds altered versions of all functions added\n// through `_.mixin`. Wrapped objects may be chained.\nexport default function _(obj) {\n  if (obj instanceof _) return obj;\n  if (!(this instanceof _)) return new _(obj);\n  this._wrapped = obj;\n}\n\n_.VERSION = VERSION;\n\n// Extracts the result from a wrapped and chained object.\n_.prototype.value = function() {\n  return this._wrapped;\n};\n\n// Provide unwrapping proxies for some methods used in engine operations\n// such as arithmetic and JSON stringification.\n_.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n_.prototype.toString = function() {\n  return String(this._wrapped);\n};\n","import getByteLength from './_getByteLength.js';\n\n// Internal function to wrap or shallow-copy an ArrayBuffer,\n// typed array or DataView to a new view, reusing the buffer.\nexport default function toBufferView(bufferSource) {\n  return new Uint8Array(\n    bufferSource.buffer || bufferSource,\n    bufferSource.byteOffset || 0,\n    getByteLength(bufferSource)\n  );\n}\n","import _ from './underscore.js';\nimport { toString, SymbolProto } from './_setup.js';\nimport getByteLength from './_getByteLength.js';\nimport isTypedArray from './isTypedArray.js';\nimport isFunction from './isFunction.js';\nimport { hasDataViewBug }  from './_stringTagBug.js';\nimport isDataView from './isDataView.js';\nimport keys from './keys.js';\nimport has from './_has.js';\nimport toBufferView from './_toBufferView.js';\n\n// We use this string twice, so give it a name for minification.\nvar tagDataView = '[object DataView]';\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction eq(a, b, aStack, bStack) {\n  // Identical objects are equal. `0 === -0`, but they aren't identical.\n  // See the [Harmony `egal` proposal](https://wiki.ecmascript.org/doku.php?id=harmony:egal).\n  if (a === b) return a !== 0 || 1 / a === 1 / b;\n  // `null` or `undefined` only equal to itself (strict comparison).\n  if (a == null || b == null) return false;\n  // `NaN`s are equivalent, but non-reflexive.\n  if (a !== a) return b !== b;\n  // Exhaust primitive checks\n  var type = typeof a;\n  if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n  return deepEq(a, b, aStack, bStack);\n}\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction deepEq(a, b, aStack, bStack) {\n  // Unwrap any wrapped objects.\n  if (a instanceof _) a = a._wrapped;\n  if (b instanceof _) b = b._wrapped;\n  // Compare `[[Class]]` names.\n  var className = toString.call(a);\n  if (className !== toString.call(b)) return false;\n  // Work around a bug in IE 10 - Edge 13.\n  if (hasDataViewBug && className == '[object Object]' && isDataView(a)) {\n    if (!isDataView(b)) return false;\n    className = tagDataView;\n  }\n  switch (className) {\n    // These types are compared by value.\n    case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n    case '[object String]':\n      // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n      // equivalent to `new String(\"5\")`.\n      return '' + a === '' + b;\n    case '[object Number]':\n      // `NaN`s are equivalent, but non-reflexive.\n      // Object(NaN) is equivalent to NaN.\n      if (+a !== +a) return +b !== +b;\n      // An `egal` comparison is performed for other numeric values.\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case '[object Date]':\n    case '[object Boolean]':\n      // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n      // millisecond representations. Note that invalid dates with millisecond representations\n      // of `NaN` are not equivalent.\n      return +a === +b;\n    case '[object Symbol]':\n      return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    case '[object ArrayBuffer]':\n    case tagDataView:\n      // Coerce to typed array so we can fall through.\n      return deepEq(toBufferView(a), toBufferView(b), aStack, bStack);\n  }\n\n  var areArrays = className === '[object Array]';\n  if (!areArrays && isTypedArray(a)) {\n      var byteLength = getByteLength(a);\n      if (byteLength !== getByteLength(b)) return false;\n      if (a.buffer === b.buffer && a.byteOffset === b.byteOffset) return true;\n      areArrays = true;\n  }\n  if (!areArrays) {\n    if (typeof a != 'object' || typeof b != 'object') return false;\n\n    // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n    // from different frames are.\n    var aCtor = a.constructor, bCtor = b.constructor;\n    if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor &&\n                             isFunction(bCtor) && bCtor instanceof bCtor)\n                        && ('constructor' in a && 'constructor' in b)) {\n      return false;\n    }\n  }\n  // Assume equality for cyclic structures. The algorithm for detecting cyclic\n  // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n  // Initializing stack of traversed objects.\n  // It's done here since we only need them for objects and arrays comparison.\n  aStack = aStack || [];\n  bStack = bStack || [];\n  var length = aStack.length;\n  while (length--) {\n    // Linear search. Performance is inversely proportional to the number of\n    // unique nested structures.\n    if (aStack[length] === a) return bStack[length] === b;\n  }\n\n  // Add the first object to the stack of traversed objects.\n  aStack.push(a);\n  bStack.push(b);\n\n  // Recursively compare objects and arrays.\n  if (areArrays) {\n    // Compare array lengths to determine if a deep comparison is necessary.\n    length = a.length;\n    if (length !== b.length) return false;\n    // Deep compare the contents, ignoring non-numeric properties.\n    while (length--) {\n      if (!eq(a[length], b[length], aStack, bStack)) return false;\n    }\n  } else {\n    // Deep compare objects.\n    var _keys = keys(a), key;\n    length = _keys.length;\n    // Ensure that both objects contain the same number of properties before comparing deep equality.\n    if (keys(b).length !== length) return false;\n    while (length--) {\n      // Deep compare each member\n      key = _keys[length];\n      if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n    }\n  }\n  // Remove the first object from the stack of traversed objects.\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\n\n// Perform a deep comparison to check if two objects are equal.\nexport default function isEqual(a, b) {\n  return eq(a, b);\n}\n","import isObject from './isObject.js';\nimport { hasEnumBug } from './_setup.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve all the enumerable property names of an object.\nexport default function allKeys(obj) {\n  if (!isObject(obj)) return [];\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import getLength from './_getLength.js';\nimport isFunction from './isFunction.js';\nimport allKeys from './allKeys.js';\n\n// Since the regular `Object.prototype.toString` type tests don't work for\n// some types in IE 11, we use a fingerprinting heuristic instead, based\n// on the methods. It's not great, but it's the best we got.\n// The fingerprint method lists are defined below.\nexport function ie11fingerprint(methods) {\n  var length = getLength(methods);\n  return function(obj) {\n    if (obj == null) return false;\n    // `Map`, `WeakMap` and `Set` have no enumerable keys.\n    var keys = allKeys(obj);\n    if (getLength(keys)) return false;\n    for (var i = 0; i < length; i++) {\n      if (!isFunction(obj[methods[i]])) return false;\n    }\n    // If we are testing against `WeakMap`, we need to ensure that\n    // `obj` doesn't have a `forEach` method in order to distinguish\n    // it from a regular `Map`.\n    return methods !== weakMapMethods || !isFunction(obj[forEachName]);\n  };\n}\n\n// In the interest of compact minification, we write\n// each string in the fingerprints only once.\nvar forEachName = 'forEach',\n    hasName = 'has',\n    commonInit = ['clear', 'delete'],\n    mapTail = ['get', hasName, 'set'];\n\n// `Map`, `WeakMap` and `Set` each have slightly different\n// combinations of the above sublists.\nexport var mapMethods = commonInit.concat(forEachName, mapTail),\n    weakMapMethods = commonInit.concat(mapTail),\n    setMethods = ['add'].concat(commonInit, forEachName, hasName);\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, mapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(mapMethods) : tagTester('Map');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, weakMapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(weakMapMethods) : tagTester('WeakMap');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, setMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(setMethods) : tagTester('Set');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('WeakSet');\n","import keys from './keys.js';\n\n// Retrieve the values of an object's properties.\nexport default function values(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var values = Array(length);\n  for (var i = 0; i < length; i++) {\n    values[i] = obj[_keys[i]];\n  }\n  return values;\n}\n","import keys from './keys.js';\n\n// Convert an object into a list of `[key, value]` pairs.\n// The opposite of `_.object` with one argument.\nexport default function pairs(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var pairs = Array(length);\n  for (var i = 0; i < length; i++) {\n    pairs[i] = [_keys[i], obj[_keys[i]]];\n  }\n  return pairs;\n}\n","import keys from './keys.js';\n\n// Invert the keys and values of an object. The values must be serializable.\nexport default function invert(obj) {\n  var result = {};\n  var _keys = keys(obj);\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    result[obj[_keys[i]]] = _keys[i];\n  }\n  return result;\n}\n","import isFunction from './isFunction.js';\n\n// Return a sorted list of the function names available on the object.\nexport default function functions(obj) {\n  var names = [];\n  for (var key in obj) {\n    if (isFunction(obj[key])) names.push(key);\n  }\n  return names.sort();\n}\n","// An internal function for creating assigner functions.\nexport default function createAssigner(keysFunc, defaults) {\n  return function(obj) {\n    var length = arguments.length;\n    if (defaults) obj = Object(obj);\n    if (length < 2 || obj == null) return obj;\n    for (var index = 1; index < length; index++) {\n      var source = arguments[index],\n          keys = keysFunc(source),\n          l = keys.length;\n      for (var i = 0; i < l; i++) {\n        var key = keys[i];\n        if (!defaults || obj[key] === void 0) obj[key] = source[key];\n      }\n    }\n    return obj;\n  };\n}\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Extend a given object with all the properties in passed-in object(s).\nexport default createAssigner(allKeys);\n","import createAssigner from './_createAssigner.js';\nimport keys from './keys.js';\n\n// Assigns a given object with all the own properties in the passed-in\n// object(s).\n// (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\nexport default createAssigner(keys);\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Fill in a given object with default properties.\nexport default createAssigner(allKeys, true);\n","import isObject from './isObject.js';\nimport { nativeCreate } from './_setup.js';\n\n// Create a naked function reference for surrogate-prototype-swapping.\nfunction ctor() {\n  return function(){};\n}\n\n// An internal function for creating a new object that inherits from another.\nexport default function baseCreate(prototype) {\n  if (!isObject(prototype)) return {};\n  if (nativeCreate) return nativeCreate(prototype);\n  var Ctor = ctor();\n  Ctor.prototype = prototype;\n  var result = new Ctor;\n  Ctor.prototype = null;\n  return result;\n}\n","import baseCreate from './_baseCreate.js';\nimport extendOwn from './extendOwn.js';\n\n// Creates an object that inherits from the given prototype object.\n// If additional properties are provided then they will be added to the\n// created object.\nexport default function create(prototype, props) {\n  var result = baseCreate(prototype);\n  if (props) extendOwn(result, props);\n  return result;\n}\n","import isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport extend from './extend.js';\n\n// Create a (shallow-cloned) duplicate of an object.\nexport default function clone(obj) {\n  if (!isObject(obj)) return obj;\n  return isArray(obj) ? obj.slice() : extend({}, obj);\n}\n","// Invokes `interceptor` with the `obj` and then returns `obj`.\n// The primary purpose of this method is to \"tap into\" a method chain, in\n// order to perform operations on intermediate results within the chain.\nexport default function tap(obj, interceptor) {\n  interceptor(obj);\n  return obj;\n}\n","import _ from './underscore.js';\nimport isArray from './isArray.js';\n\n// Normalize a (deep) property `path` to array.\n// Like `_.iteratee`, this function can be customized.\nexport default function toPath(path) {\n  return isArray(path) ? path : [path];\n}\n_.toPath = toPath;\n","import _ from './underscore.js';\nimport './toPath.js';\n\n// Internal wrapper for `_.toPath` to enable minification.\n// Similar to `cb` for `_.iteratee`.\nexport default function toPath(path) {\n  return _.toPath(path);\n}\n","// Internal function to obtain a nested property in `obj` along `path`.\nexport default function deepGet(obj, path) {\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    if (obj == null) return void 0;\n    obj = obj[path[i]];\n  }\n  return length ? obj : void 0;\n}\n","import toPath from './_toPath.js';\nimport deepGet from './_deepGet.js';\nimport isUndefined from './isUndefined.js';\n\n// Get the value of the (deep) property on `path` from `object`.\n// If any property in `path` does not exist or if the value is\n// `undefined`, return `defaultValue` instead.\n// The `path` is normalized through `_.toPath`.\nexport default function get(object, path, defaultValue) {\n  var value = deepGet(object, toPath(path));\n  return isUndefined(value) ? defaultValue : value;\n}\n","import _has from './_has.js';\nimport toPath from './_toPath.js';\n\n// Shortcut function for checking if an object has a given property directly on\n// itself (in other words, not on a prototype). Unlike the internal `has`\n// function, this public version can also traverse nested properties.\nexport default function has(obj, path) {\n  path = toPath(path);\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    var key = path[i];\n    if (!_has(obj, key)) return false;\n    obj = obj[key];\n  }\n  return !!length;\n}\n","// Keep the identity function around for default iteratees.\nexport default function identity(value) {\n  return value;\n}\n","import extendOwn from './extendOwn.js';\nimport isMatch from './isMatch.js';\n\n// Returns a predicate for checking whether an object has a given set of\n// `key:value` pairs.\nexport default function matcher(attrs) {\n  attrs = extendOwn({}, attrs);\n  return function(obj) {\n    return isMatch(obj, attrs);\n  };\n}\n","import deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Creates a function that, when passed an object, will traverse that objects\n// properties down the given `path`, specified as an array of keys or indices.\nexport default function property(path) {\n  path = toPath(path);\n  return function(obj) {\n    return deepGet(obj, path);\n  };\n}\n","// Internal function that returns an efficient (for current engines) version\n// of the passed-in callback, to be repeatedly applied in other Underscore\n// functions.\nexport default function optimizeCb(func, context, argCount) {\n  if (context === void 0) return func;\n  switch (argCount == null ? 3 : argCount) {\n    case 1: return function(value) {\n      return func.call(context, value);\n    };\n    // The 2-argument case is omitted because were not using it.\n    case 3: return function(value, index, collection) {\n      return func.call(context, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(context, accumulator, value, index, collection);\n    };\n  }\n  return function() {\n    return func.apply(context, arguments);\n  };\n}\n","import identity from './identity.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport matcher from './matcher.js';\nimport property from './property.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// An internal function to generate callbacks that can be applied to each\n// element in a collection, returning the desired result  either `_.identity`,\n// an arbitrary callback, a property matcher, or a property accessor.\nexport default function baseIteratee(value, context, argCount) {\n  if (value == null) return identity;\n  if (isFunction(value)) return optimizeCb(value, context, argCount);\n  if (isObject(value) && !isArray(value)) return matcher(value);\n  return property(value);\n}\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\n\n// External wrapper for our callback generator. Users may customize\n// `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n// This abstraction hides the internal-only `argCount` argument.\nexport default function iteratee(value, context) {\n  return baseIteratee(value, context, Infinity);\n}\n_.iteratee = iteratee;\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\nimport iteratee from './iteratee.js';\n\n// The function we call internally to generate a callback. It invokes\n// `_.iteratee` if overridden, otherwise `baseIteratee`.\nexport default function cb(value, context, argCount) {\n  if (_.iteratee !== iteratee) return _.iteratee(value, context);\n  return baseIteratee(value, context, argCount);\n}\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the results of applying the `iteratee` to each element of `obj`.\n// In contrast to `_.map` it returns an object.\nexport default function mapObject(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = keys(obj),\n      length = _keys.length,\n      results = {};\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys[index];\n    results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function noop(){}\n","import noop from './noop.js';\nimport get from './get.js';\n\n// Generates a function for a given object that returns a given property.\nexport default function propertyOf(obj) {\n  if (obj == null) return noop;\n  return function(path) {\n    return get(obj, path);\n  };\n}\n","import optimizeCb from './_optimizeCb.js';\n\n// Run a function **n** times.\nexport default function times(n, iteratee, context) {\n  var accum = Array(Math.max(0, n));\n  iteratee = optimizeCb(iteratee, context, 1);\n  for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n  return accum;\n}\n","// Return a random integer between `min` and `max` (inclusive).\nexport default function random(min, max) {\n  if (max == null) {\n    max = min;\n    min = 0;\n  }\n  return min + Math.floor(Math.random() * (max - min + 1));\n}\n","// A (possibly faster) way to get the current timestamp as an integer.\nexport default Date.now || function() {\n  return new Date().getTime();\n};\n","import keys from './keys.js';\n\n// Internal helper to generate functions for escaping and unescaping strings\n// to/from HTML interpolation.\nexport default function createEscaper(map) {\n  var escaper = function(match) {\n    return map[match];\n  };\n  // Regexes for identifying a key that needs to be escaped.\n  var source = '(?:' + keys(map).join('|') + ')';\n  var testRegexp = RegExp(source);\n  var replaceRegexp = RegExp(source, 'g');\n  return function(string) {\n    string = string == null ? '' : '' + string;\n    return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n  };\n}\n","// Internal list of HTML entities for escaping.\nexport default {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;'\n};\n","import createEscaper from './_createEscaper.js';\nimport escapeMap from './_escapeMap.js';\n\n// Function for escaping strings to HTML interpolation.\nexport default createEscaper(escapeMap);\n","import createEscaper from './_createEscaper.js';\nimport unescapeMap from './_unescapeMap.js';\n\n// Function for unescaping strings from HTML interpolation.\nexport default createEscaper(unescapeMap);\n","import invert from './invert.js';\nimport escapeMap from './_escapeMap.js';\n\n// Internal list of HTML entities for unescaping.\nexport default invert(escapeMap);\n","import _ from './underscore.js';\n\n// By default, Underscore uses ERB-style template delimiters. Change the\n// following template settings to use alternative delimiters.\nexport default _.templateSettings = {\n  evaluate: /<%([\\s\\S]+?)%>/g,\n  interpolate: /<%=([\\s\\S]+?)%>/g,\n  escape: /<%-([\\s\\S]+?)%>/g\n};\n","import defaults from './defaults.js';\nimport _ from './underscore.js';\nimport './templateSettings.js';\n\n// When customizing `_.templateSettings`, if you don't want to define an\n// interpolation, evaluation or escaping regex, we need one that is\n// guaranteed not to match.\nvar noMatch = /(.)^/;\n\n// Certain characters need to be escaped so that they can be put into a\n// string literal.\nvar escapes = {\n  \"'\": \"'\",\n  '\\\\': '\\\\',\n  '\\r': 'r',\n  '\\n': 'n',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029'\n};\n\nvar escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nfunction escapeChar(match) {\n  return '\\\\' + escapes[match];\n}\n\n// In order to prevent third-party code injection through\n// `_.templateSettings.variable`, we test it against the following regular\n// expression. It is intentionally a bit more liberal than just matching valid\n// identifiers, but still prevents possible loopholes through defaults or\n// destructuring assignment.\nvar bareIdentifier = /^\\s*(\\w|\\$)+\\s*$/;\n\n// JavaScript micro-templating, similar to John Resig's implementation.\n// Underscore templating handles arbitrary delimiters, preserves whitespace,\n// and correctly escapes quotes within interpolated code.\n// NB: `oldSettings` only exists for backwards compatibility.\nexport default function template(text, settings, oldSettings) {\n  if (!settings && oldSettings) settings = oldSettings;\n  settings = defaults({}, settings, _.templateSettings);\n\n  // Combine delimiters into one regular expression via alternation.\n  var matcher = RegExp([\n    (settings.escape || noMatch).source,\n    (settings.interpolate || noMatch).source,\n    (settings.evaluate || noMatch).source\n  ].join('|') + '|$', 'g');\n\n  // Compile the template source, escaping string literals appropriately.\n  var index = 0;\n  var source = \"__p+='\";\n  text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n    source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n    index = offset + match.length;\n\n    if (escape) {\n      source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n    } else if (interpolate) {\n      source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n    } else if (evaluate) {\n      source += \"';\\n\" + evaluate + \"\\n__p+='\";\n    }\n\n    // Adobe VMs need the match returned to produce the correct offset.\n    return match;\n  });\n  source += \"';\\n\";\n\n  var argument = settings.variable;\n  if (argument) {\n    // Insure against third-party code injection. (CVE-2021-23358)\n    if (!bareIdentifier.test(argument)) throw new Error(\n      'variable is not a bare identifier: ' + argument\n    );\n  } else {\n    // If a variable is not specified, place data values in local scope.\n    source = 'with(obj||{}){\\n' + source + '}\\n';\n    argument = 'obj';\n  }\n\n  source = \"var __t,__p='',__j=Array.prototype.join,\" +\n    \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n    source + 'return __p;\\n';\n\n  var render;\n  try {\n    render = new Function(argument, '_', source);\n  } catch (e) {\n    e.source = source;\n    throw e;\n  }\n\n  var template = function(data) {\n    return render.call(this, data, _);\n  };\n\n  // Provide the compiled source as a convenience for precompilation.\n  template.source = 'function(' + argument + '){\\n' + source + '}';\n\n  return template;\n}\n","import isFunction from './isFunction.js';\nimport toPath from './_toPath.js';\n\n// Traverses the children of `obj` along `path`. If a child is a function, it\n// is invoked with its parent as context. Returns the value of the final\n// child, or `fallback` if any child is undefined.\nexport default function result(obj, path, fallback) {\n  path = toPath(path);\n  var length = path.length;\n  if (!length) {\n    return isFunction(fallback) ? fallback.call(obj) : fallback;\n  }\n  for (var i = 0; i < length; i++) {\n    var prop = obj == null ? void 0 : obj[path[i]];\n    if (prop === void 0) {\n      prop = fallback;\n      i = length; // Ensure we don't continue iterating.\n    }\n    obj = isFunction(prop) ? prop.call(obj) : prop;\n  }\n  return obj;\n}\n","// Generate a unique integer id (unique within the entire client session).\n// Useful for temporary DOM ids.\nvar idCounter = 0;\nexport default function uniqueId(prefix) {\n  var id = ++idCounter + '';\n  return prefix ? prefix + id : id;\n}\n","import _ from './underscore.js';\n\n// Start chaining a wrapped Underscore object.\nexport default function chain(obj) {\n  var instance = _(obj);\n  instance._chain = true;\n  return instance;\n}\n","import baseCreate from './_baseCreate.js';\nimport isObject from './isObject.js';\n\n// Internal function to execute `sourceFunc` bound to `context` with optional\n// `args`. Determines whether to execute a function as a constructor or as a\n// normal function.\nexport default function executeBound(sourceFunc, boundFunc, context, callingContext, args) {\n  if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n  var self = baseCreate(sourceFunc.prototype);\n  var result = sourceFunc.apply(self, args);\n  if (isObject(result)) return result;\n  return self;\n}\n","import restArguments from './restArguments.js';\nimport executeBound from './_executeBound.js';\nimport _ from './underscore.js';\n\n// Partially apply a function by creating a version that has had some of its\n// arguments pre-filled, without changing its dynamic `this` context. `_` acts\n// as a placeholder by default, allowing any combination of arguments to be\n// pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\nvar partial = restArguments(function(func, boundArgs) {\n  var placeholder = partial.placeholder;\n  var bound = function() {\n    var position = 0, length = boundArgs.length;\n    var args = Array(length);\n    for (var i = 0; i < length; i++) {\n      args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n    }\n    while (position < arguments.length) args.push(arguments[position++]);\n    return executeBound(func, bound, this, this, args);\n  };\n  return bound;\n});\n\npartial.placeholder = _;\nexport default partial;\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport executeBound from './_executeBound.js';\n\n// Create a function bound to a given object (assigning `this`, and arguments,\n// optionally).\nexport default restArguments(function(func, context, args) {\n  if (!isFunction(func)) throw new TypeError('Bind must be called on a function');\n  var bound = restArguments(function(callArgs) {\n    return executeBound(func, bound, context, this, args.concat(callArgs));\n  });\n  return bound;\n});\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getLength from './_getLength.js';\n\n// Internal helper for collection methods to determine whether a collection\n// should be iterated as an array or as an object.\n// Related: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n// Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\nexport default createSizePropertyCheck(getLength);\n","import getLength from './_getLength.js';\nimport isArrayLike from './_isArrayLike.js';\nimport isArray from './isArray.js';\nimport isArguments from './isArguments.js';\n\n// Internal implementation of a recursive `flatten` function.\nexport default function flatten(input, depth, strict, output) {\n  output = output || [];\n  if (!depth && depth !== 0) {\n    depth = Infinity;\n  } else if (depth <= 0) {\n    return output.concat(input);\n  }\n  var idx = output.length;\n  for (var i = 0, length = getLength(input); i < length; i++) {\n    var value = input[i];\n    if (isArrayLike(value) && (isArray(value) || isArguments(value))) {\n      // Flatten current level of array or arguments object.\n      if (depth > 1) {\n        flatten(value, depth - 1, strict, output);\n        idx = output.length;\n      } else {\n        var j = 0, len = value.length;\n        while (j < len) output[idx++] = value[j++];\n      }\n    } else if (!strict) {\n      output[idx++] = value;\n    }\n  }\n  return output;\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport bind from './bind.js';\n\n// Bind a number of an object's methods to that object. Remaining arguments\n// are the method names to be bound. Useful for ensuring that all callbacks\n// defined on an object belong to it.\nexport default restArguments(function(obj, keys) {\n  keys = flatten(keys, false, false);\n  var index = keys.length;\n  if (index < 1) throw new Error('bindAll must be passed function names');\n  while (index--) {\n    var key = keys[index];\n    obj[key] = bind(obj[key], obj);\n  }\n  return obj;\n});\n","import has from './_has.js';\n\n// Memoize an expensive function by storing its results.\nexport default function memoize(func, hasher) {\n  var memoize = function(key) {\n    var cache = memoize.cache;\n    var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n    if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n    return cache[address];\n  };\n  memoize.cache = {};\n  return memoize;\n}\n","import restArguments from './restArguments.js';\n\n// Delays a function for the given number of milliseconds, and then calls\n// it with the arguments supplied.\nexport default restArguments(function(func, wait, args) {\n  return setTimeout(function() {\n    return func.apply(null, args);\n  }, wait);\n});\n","import partial from './partial.js';\nimport delay from './delay.js';\nimport _ from './underscore.js';\n\n// Defers a function, scheduling it to run after the current call stack has\n// cleared.\nexport default partial(delay, _, 1);\n","import now from './now.js';\n\n// Returns a function, that, when invoked, will only be triggered at most once\n// during a given window of time. Normally, the throttled function will run\n// as much as it can, without ever going more than once per `wait` duration;\n// but if you'd like to disable the execution on the leading edge, pass\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\nexport default function throttle(func, wait, options) {\n  var timeout, context, args, result;\n  var previous = 0;\n  if (!options) options = {};\n\n  var later = function() {\n    previous = options.leading === false ? 0 : now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function() {\n    var _now = now();\n    if (!previous && options.leading === false) previous = _now;\n    var remaining = wait - (_now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = _now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n\n  throttled.cancel = function() {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n}\n","import restArguments from './restArguments.js';\nimport now from './now.js';\n\n// When a sequence of calls of the returned function ends, the argument\n// function is triggered. The end of a sequence is defined by the `wait`\n// parameter. If `immediate` is passed, the argument function will be\n// triggered at the beginning of the sequence instead of at the end.\nexport default function debounce(func, wait, immediate) {\n  var timeout, previous, args, result, context;\n\n  var later = function() {\n    var passed = now() - previous;\n    if (wait > passed) {\n      timeout = setTimeout(later, wait - passed);\n    } else {\n      timeout = null;\n      if (!immediate) result = func.apply(context, args);\n      // This check is needed because `func` can recursively invoke `debounced`.\n      if (!timeout) args = context = null;\n    }\n  };\n\n  var debounced = restArguments(function(_args) {\n    context = this;\n    args = _args;\n    previous = now();\n    if (!timeout) {\n      timeout = setTimeout(later, wait);\n      if (immediate) result = func.apply(context, args);\n    }\n    return result;\n  });\n\n  debounced.cancel = function() {\n    clearTimeout(timeout);\n    timeout = args = context = null;\n  };\n\n  return debounced;\n}\n","import partial from './partial.js';\n\n// Returns the first function passed as an argument to the second,\n// allowing you to adjust arguments, run code before and after, and\n// conditionally execute the original function.\nexport default function wrap(func, wrapper) {\n  return partial(wrapper, func);\n}\n","// Returns a negated version of the passed-in predicate.\nexport default function negate(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n","// Returns a function that is the composition of a list of functions, each\n// consuming the return value of the function that follows.\nexport default function compose() {\n  var args = arguments;\n  var start = args.length - 1;\n  return function() {\n    var i = start;\n    var result = args[start].apply(this, arguments);\n    while (i--) result = args[i].call(this, result);\n    return result;\n  };\n}\n","// Returns a function that will only be executed on and after the Nth call.\nexport default function after(times, func) {\n  return function() {\n    if (--times < 1) {\n      return func.apply(this, arguments);\n    }\n  };\n}\n","// Returns a function that will only be executed up to (but not including) the\n// Nth call.\nexport default function before(times, func) {\n  var memo;\n  return function() {\n    if (--times > 0) {\n      memo = func.apply(this, arguments);\n    }\n    if (times <= 1) func = null;\n    return memo;\n  };\n}\n","import partial from './partial.js';\nimport before from './before.js';\n\n// Returns a function that will be executed at most one time, no matter how\n// often you call it. Useful for lazy initialization.\nexport default partial(before, 2);\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the first key on an object that passes a truth test.\nexport default function findKey(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = keys(obj), key;\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    key = _keys[i];\n    if (predicate(obj[key], key, obj)) return key;\n  }\n}\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Internal function to generate `_.findIndex` and `_.findLastIndex`.\nexport default function createPredicateIndexFinder(dir) {\n  return function(array, predicate, context) {\n    predicate = cb(predicate, context);\n    var length = getLength(array);\n    var index = dir > 0 ? 0 : length - 1;\n    for (; index >= 0 && index < length; index += dir) {\n      if (predicate(array[index], index, array)) return index;\n    }\n    return -1;\n  };\n}\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the first index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(1);\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the last index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(-1);\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Use a comparator function to figure out the smallest index at which\n// an object should be inserted so as to maintain order. Uses binary search.\nexport default function sortedIndex(array, obj, iteratee, context) {\n  iteratee = cb(iteratee, context, 1);\n  var value = iteratee(obj);\n  var low = 0, high = getLength(array);\n  while (low < high) {\n    var mid = Math.floor((low + high) / 2);\n    if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n  }\n  return low;\n}\n","import getLength from './_getLength.js';\nimport { slice } from './_setup.js';\nimport isNaN from './isNaN.js';\n\n// Internal function to generate the `_.indexOf` and `_.lastIndexOf` functions.\nexport default function createIndexFinder(dir, predicateFind, sortedIndex) {\n  return function(array, item, idx) {\n    var i = 0, length = getLength(array);\n    if (typeof idx == 'number') {\n      if (dir > 0) {\n        i = idx >= 0 ? idx : Math.max(idx + length, i);\n      } else {\n        length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n      }\n    } else if (sortedIndex && idx && length) {\n      idx = sortedIndex(array, item);\n      return array[idx] === item ? idx : -1;\n    }\n    if (item !== item) {\n      idx = predicateFind(slice.call(array, i, length), isNaN);\n      return idx >= 0 ? idx + i : -1;\n    }\n    for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n      if (array[idx] === item) return idx;\n    }\n    return -1;\n  };\n}\n","import sortedIndex from './sortedIndex.js';\nimport findIndex from './findIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the first occurrence of an item in an array,\n// or -1 if the item is not included in the array.\n// If the array is large and already in sort order, pass `true`\n// for **isSorted** to use binary search.\nexport default createIndexFinder(1, findIndex, sortedIndex);\n","import findLastIndex from './findLastIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the last occurrence of an item in an array,\n// or -1 if the item is not included in the array.\nexport default createIndexFinder(-1, findLastIndex);\n","import isArrayLike from './_isArrayLike.js';\nimport findIndex from './findIndex.js';\nimport findKey from './findKey.js';\n\n// Return the first value which passes a truth test.\nexport default function find(obj, predicate, context) {\n  var keyFinder = isArrayLike(obj) ? findIndex : findKey;\n  var key = keyFinder(obj, predicate, context);\n  if (key !== void 0 && key !== -1) return obj[key];\n}\n","import find from './find.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.find`: getting the first\n// object containing specific `key:value` pairs.\nexport default function findWhere(obj, attrs) {\n  return find(obj, matcher(attrs));\n}\n","import optimizeCb from './_optimizeCb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// The cornerstone for collection functions, an `each`\n// implementation, aka `forEach`.\n// Handles raw objects in addition to array-likes. Treats all\n// sparse array-likes as if they were dense.\nexport default function each(obj, iteratee, context) {\n  iteratee = optimizeCb(iteratee, context);\n  var i, length;\n  if (isArrayLike(obj)) {\n    for (i = 0, length = obj.length; i < length; i++) {\n      iteratee(obj[i], i, obj);\n    }\n  } else {\n    var _keys = keys(obj);\n    for (i = 0, length = _keys.length; i < length; i++) {\n      iteratee(obj[_keys[i]], _keys[i], obj);\n    }\n  }\n  return obj;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the results of applying the iteratee to each element.\nexport default function map(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length,\n      results = Array(length);\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    results[index] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// Internal helper to create a reducing function, iterating left or right.\nexport default function createReduce(dir) {\n  // Wrap code that reassigns argument variables in a separate function than\n  // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n  var reducer = function(obj, iteratee, memo, initial) {\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length,\n        index = dir > 0 ? 0 : length - 1;\n    if (!initial) {\n      memo = obj[_keys ? _keys[index] : index];\n      index += dir;\n    }\n    for (; index >= 0 && index < length; index += dir) {\n      var currentKey = _keys ? _keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  return function(obj, iteratee, memo, context) {\n    var initial = arguments.length >= 3;\n    return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n  };\n}\n","import createReduce from './_createReduce.js';\n\n// **Reduce** builds up a single result from a list of values, aka `inject`,\n// or `foldl`.\nexport default createReduce(1);\n","import createReduce from './_createReduce.js';\n\n// The right-associative version of reduce, also known as `foldr`.\nexport default createReduce(-1);\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// Return all the elements that pass a truth test.\nexport default function filter(obj, predicate, context) {\n  var results = [];\n  predicate = cb(predicate, context);\n  each(obj, function(value, index, list) {\n    if (predicate(value, index, list)) results.push(value);\n  });\n  return results;\n}\n","import filter from './filter.js';\nimport negate from './negate.js';\nimport cb from './_cb.js';\n\n// Return all the elements for which a truth test fails.\nexport default function reject(obj, predicate, context) {\n  return filter(obj, negate(cb(predicate)), context);\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine whether all of the elements pass a truth test.\nexport default function every(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (!predicate(obj[currentKey], currentKey, obj)) return false;\n  }\n  return true;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine if at least one element in the object passes a truth test.\nexport default function some(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (predicate(obj[currentKey], currentKey, obj)) return true;\n  }\n  return false;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport indexOf from './indexOf.js';\n\n// Determine if the array or object contains a given item (using `===`).\nexport default function contains(obj, item, fromIndex, guard) {\n  if (!isArrayLike(obj)) obj = values(obj);\n  if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n  return indexOf(obj, item, fromIndex) >= 0;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport map from './map.js';\nimport deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Invoke a method (with arguments) on every item in a collection.\nexport default restArguments(function(obj, path, args) {\n  var contextPath, func;\n  if (isFunction(path)) {\n    func = path;\n  } else {\n    path = toPath(path);\n    contextPath = path.slice(0, -1);\n    path = path[path.length - 1];\n  }\n  return map(obj, function(context) {\n    var method = func;\n    if (!method) {\n      if (contextPath && contextPath.length) {\n        context = deepGet(context, contextPath);\n      }\n      if (context == null) return void 0;\n      method = context[path];\n    }\n    return method == null ? method : method.apply(context, args);\n  });\n});\n","import map from './map.js';\nimport property from './property.js';\n\n// Convenience version of a common use case of `_.map`: fetching a property.\nexport default function pluck(obj, key) {\n  return map(obj, property(key));\n}\n","import filter from './filter.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.filter`: selecting only\n// objects containing specific `key:value` pairs.\nexport default function where(obj, attrs) {\n  return filter(obj, matcher(attrs));\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the maximum element (or element-based computation).\nexport default function max(obj, iteratee, context) {\n  var result = -Infinity, lastComputed = -Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value > result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed > lastComputed || (computed === -Infinity && result === -Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the minimum element (or element-based computation).\nexport default function min(obj, iteratee, context) {\n  var result = Infinity, lastComputed = Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value < result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed < lastComputed || (computed === Infinity && result === Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import isArray from './isArray.js';\nimport { slice } from './_setup.js';\nimport isString from './isString.js';\nimport isArrayLike from './_isArrayLike.js';\nimport map from './map.js';\nimport identity from './identity.js';\nimport values from './values.js';\n\n// Safely create a real, live array from anything iterable.\nvar reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\nexport default function toArray(obj) {\n  if (!obj) return [];\n  if (isArray(obj)) return slice.call(obj);\n  if (isString(obj)) {\n    // Keep surrogate pair characters together.\n    return obj.match(reStrSymbol);\n  }\n  if (isArrayLike(obj)) return map(obj, identity);\n  return values(obj);\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport getLength from './_getLength.js';\nimport random from './random.js';\nimport toArray from './toArray.js';\n\n// Sample **n** random values from a collection using the modern version of the\n// [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/FisherYates_shuffle).\n// If **n** is not specified, returns a single random element.\n// The internal `guard` argument allows it to work with `_.map`.\nexport default function sample(obj, n, guard) {\n  if (n == null || guard) {\n    if (!isArrayLike(obj)) obj = values(obj);\n    return obj[random(obj.length - 1)];\n  }\n  var sample = toArray(obj);\n  var length = getLength(sample);\n  n = Math.max(Math.min(n, length), 0);\n  var last = length - 1;\n  for (var index = 0; index < n; index++) {\n    var rand = random(index, last);\n    var temp = sample[index];\n    sample[index] = sample[rand];\n    sample[rand] = temp;\n  }\n  return sample.slice(0, n);\n}\n","import sample from './sample.js';\n\n// Shuffle a collection.\nexport default function shuffle(obj) {\n  return sample(obj, Infinity);\n}\n","import cb from './_cb.js';\nimport pluck from './pluck.js';\nimport map from './map.js';\n\n// Sort the object's values by a criterion produced by an iteratee.\nexport default function sortBy(obj, iteratee, context) {\n  var index = 0;\n  iteratee = cb(iteratee, context);\n  return pluck(map(obj, function(value, key, list) {\n    return {\n      value: value,\n      index: index++,\n      criteria: iteratee(value, key, list)\n    };\n  }).sort(function(left, right) {\n    var a = left.criteria;\n    var b = right.criteria;\n    if (a !== b) {\n      if (a > b || a === void 0) return 1;\n      if (a < b || b === void 0) return -1;\n    }\n    return left.index - right.index;\n  }), 'value');\n}\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// An internal function used for aggregate \"group by\" operations.\nexport default function group(behavior, partition) {\n  return function(obj, iteratee, context) {\n    var result = partition ? [[], []] : {};\n    iteratee = cb(iteratee, context);\n    each(obj, function(value, index) {\n      var key = iteratee(value, index, obj);\n      behavior(result, value, key);\n    });\n    return result;\n  };\n}\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Groups the object's values by a criterion. Pass either a string attribute\n// to group by, or a function that returns the criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key].push(value); else result[key] = [value];\n});\n","import group from './_group.js';\n\n// Indexes the object's values by a criterion, similar to `_.groupBy`, but for\n// when you know that your index values will be unique.\nexport default group(function(result, value, key) {\n  result[key] = value;\n});\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Counts instances of an object that group by a certain criterion. Pass\n// either a string attribute to count by, or a function that returns the\n// criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key]++; else result[key] = 1;\n});\n","import group from './_group.js';\n\n// Split a collection into two arrays: one whose elements all pass the given\n// truth test, and one whose elements all do not pass the truth test.\nexport default group(function(result, value, pass) {\n  result[pass ? 0 : 1].push(value);\n}, true);\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the number of elements in a collection.\nexport default function size(obj) {\n  if (obj == null) return 0;\n  return isArrayLike(obj) ? obj.length : keys(obj).length;\n}\n","// Internal `_.pick` helper function to determine whether `key` is an enumerable\n// property name of `obj`.\nexport default function keyInObj(value, key, obj) {\n  return key in obj;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport optimizeCb from './_optimizeCb.js';\nimport allKeys from './allKeys.js';\nimport keyInObj from './_keyInObj.js';\nimport flatten from './_flatten.js';\n\n// Return a copy of the object only containing the allowed properties.\nexport default restArguments(function(obj, keys) {\n  var result = {}, iteratee = keys[0];\n  if (obj == null) return result;\n  if (isFunction(iteratee)) {\n    if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n    keys = allKeys(obj);\n  } else {\n    iteratee = keyInObj;\n    keys = flatten(keys, false, false);\n    obj = Object(obj);\n  }\n  for (var i = 0, length = keys.length; i < length; i++) {\n    var key = keys[i];\n    var value = obj[key];\n    if (iteratee(value, key, obj)) result[key] = value;\n  }\n  return result;\n});\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport negate from './negate.js';\nimport map from './map.js';\nimport flatten from './_flatten.js';\nimport contains from './contains.js';\nimport pick from './pick.js';\n\n// Return a copy of the object without the disallowed properties.\nexport default restArguments(function(obj, keys) {\n  var iteratee = keys[0], context;\n  if (isFunction(iteratee)) {\n    iteratee = negate(iteratee);\n    if (keys.length > 1) context = keys[1];\n  } else {\n    keys = map(flatten(keys, false, false), String);\n    iteratee = function(value, key) {\n      return !contains(keys, key);\n    };\n  }\n  return pick(obj, iteratee, context);\n});\n","import { slice } from './_setup.js';\n\n// Returns everything but the last entry of the array. Especially useful on\n// the arguments object. Passing **n** will return all the values in\n// the array, excluding the last N.\nexport default function initial(array, n, guard) {\n  return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n}\n","import initial from './initial.js';\n\n// Get the first element of an array. Passing **n** will return the first N\n// values in the array. The **guard** check allows it to work with `_.map`.\nexport default function first(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[0];\n  return initial(array, array.length - n);\n}\n","import { slice } from './_setup.js';\n\n// Returns everything but the first entry of the `array`. Especially useful on\n// the `arguments` object. Passing an **n** will return the rest N values in the\n// `array`.\nexport default function rest(array, n, guard) {\n  return slice.call(array, n == null || guard ? 1 : n);\n}\n","import rest from './rest.js';\n\n// Get the last element of an array. Passing **n** will return the last N\n// values in the array.\nexport default function last(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[array.length - 1];\n  return rest(array, Math.max(0, array.length - n));\n}\n","import filter from './filter.js';\n\n// Trim out all falsy values from an array.\nexport default function compact(array) {\n  return filter(array, Boolean);\n}\n","import _flatten from './_flatten.js';\n\n// Flatten out an array, either recursively (by default), or up to `depth`.\n// Passing `true` or `false` as `depth` means `1` or `Infinity`, respectively.\nexport default function flatten(array, depth) {\n  return _flatten(array, depth, false);\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport filter from './filter.js';\nimport contains from './contains.js';\n\n// Take the difference between one array and a number of other arrays.\n// Only the elements present in just the first array will remain.\nexport default restArguments(function(array, rest) {\n  rest = flatten(rest, true, true);\n  return filter(array, function(value){\n    return !contains(rest, value);\n  });\n});\n","import restArguments from './restArguments.js';\nimport difference from './difference.js';\n\n// Return a version of the array that does not contain the specified value(s).\nexport default restArguments(function(array, otherArrays) {\n  return difference(array, otherArrays);\n});\n","import isBoolean from './isBoolean.js';\nimport cb from './_cb.js';\nimport getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce a duplicate-free version of the array. If the array has already\n// been sorted, you have the option of using a faster algorithm.\n// The faster algorithm will not work with an iteratee if the iteratee\n// is not a one-to-one function, so providing an iteratee will disable\n// the faster algorithm.\nexport default function uniq(array, isSorted, iteratee, context) {\n  if (!isBoolean(isSorted)) {\n    context = iteratee;\n    iteratee = isSorted;\n    isSorted = false;\n  }\n  if (iteratee != null) iteratee = cb(iteratee, context);\n  var result = [];\n  var seen = [];\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var value = array[i],\n        computed = iteratee ? iteratee(value, i, array) : value;\n    if (isSorted && !iteratee) {\n      if (!i || seen !== computed) result.push(value);\n      seen = computed;\n    } else if (iteratee) {\n      if (!contains(seen, computed)) {\n        seen.push(computed);\n        result.push(value);\n      }\n    } else if (!contains(result, value)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport uniq from './uniq.js';\nimport flatten from './_flatten.js';\n\n// Produce an array that contains the union: each distinct element from all of\n// the passed-in arrays.\nexport default restArguments(function(arrays) {\n  return uniq(flatten(arrays, true, true));\n});\n","import getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce an array that contains every item shared between all the\n// passed-in arrays.\nexport default function intersection(array) {\n  var result = [];\n  var argsLength = arguments.length;\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var item = array[i];\n    if (contains(result, item)) continue;\n    var j;\n    for (j = 1; j < argsLength; j++) {\n      if (!contains(arguments[j], item)) break;\n    }\n    if (j === argsLength) result.push(item);\n  }\n  return result;\n}\n","import max from './max.js';\nimport getLength from './_getLength.js';\nimport pluck from './pluck.js';\n\n// Complement of zip. Unzip accepts an array of arrays and groups\n// each array's elements on shared indices.\nexport default function unzip(array) {\n  var length = (array && max(array, getLength).length) || 0;\n  var result = Array(length);\n\n  for (var index = 0; index < length; index++) {\n    result[index] = pluck(array, index);\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport unzip from './unzip.js';\n\n// Zip together multiple lists into a single array -- elements that share\n// an index go together.\nexport default restArguments(unzip);\n","import getLength  from './_getLength.js';\n\n// Converts lists into objects. Pass either a single array of `[key, value]`\n// pairs, or two parallel arrays of the same length -- one of keys, and one of\n// the corresponding values. Passing by pairs is the reverse of `_.pairs`.\nexport default function object(list, values) {\n  var result = {};\n  for (var i = 0, length = getLength(list); i < length; i++) {\n    if (values) {\n      result[list[i]] = values[i];\n    } else {\n      result[list[i][0]] = list[i][1];\n    }\n  }\n  return result;\n}\n","// Generate an integer Array containing an arithmetic progression. A port of\n// the native Python `range()` function. See\n// [the Python documentation](https://docs.python.org/library/functions.html#range).\nexport default function range(start, stop, step) {\n  if (stop == null) {\n    stop = start || 0;\n    start = 0;\n  }\n  if (!step) {\n    step = stop < start ? -1 : 1;\n  }\n\n  var length = Math.max(Math.ceil((stop - start) / step), 0);\n  var range = Array(length);\n\n  for (var idx = 0; idx < length; idx++, start += step) {\n    range[idx] = start;\n  }\n\n  return range;\n}\n","import { slice } from './_setup.js';\n\n// Chunk a single array into multiple arrays, each containing `count` or fewer\n// items.\nexport default function chunk(array, count) {\n  if (count == null || count < 1) return [];\n  var result = [];\n  var i = 0, length = array.length;\n  while (i < length) {\n    result.push(slice.call(array, i, i += count));\n  }\n  return result;\n}\n","import _ from './underscore.js';\n\n// Helper function to continue chaining intermediate results.\nexport default function chainResult(instance, obj) {\n  return instance._chain ? _(obj).chain() : obj;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport functions from './functions.js';\nimport { push } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add your own custom functions to the Underscore object.\nexport default function mixin(obj) {\n  each(functions(obj), function(name) {\n    var func = _[name] = obj[name];\n    _.prototype[name] = function() {\n      var args = [this._wrapped];\n      push.apply(args, arguments);\n      return chainResult(this, func.apply(_, args));\n    };\n  });\n  return _;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport { ArrayProto } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add all mutator `Array` functions to the wrapper.\neach(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) {\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) {\n        delete obj[0];\n      }\n    }\n    return chainResult(this, obj);\n  };\n});\n\n// Add all accessor `Array` functions to the wrapper.\neach(['concat', 'join', 'slice'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) obj = method.apply(obj, arguments);\n    return chainResult(this, obj);\n  };\n});\n\nexport default _;\n","// Default Export\n// ==============\n// In this module, we mix our bundled exports into the `_` object and export\n// the result. This is analogous to setting `module.exports = _` in CommonJS.\n// Hence, this module is also the entry point of our UMD bundle and the package\n// entry point for CommonJS and AMD users. In other words, this is (the source\n// of) the module you are interfacing with when you do any of the following:\n//\n// ```js\n// // CommonJS\n// var _ = require('underscore');\n//\n// // AMD\n// define(['underscore'], function(_) {...});\n//\n// // UMD in the browser\n// // _ is available as a global variable\n// ```\nimport * as allExports from './index.js';\nimport { mixin } from './index.js';\n\n// Add all of the Underscore functions to the wrapper object.\nvar _ = mixin(allExports);\n// Legacy Node.js API.\n_._ = _;\n// Export the Underscore API.\nexport default _;\n","var VNode = function VNode() {};\n\nvar options = {};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\nfunction applyRef(ref, value) {\n  if (ref) {\n    if (typeof ref == 'function') ref(value);else ref.current = value;\n  }\n}\n\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\nfunction cloneElement(vnode, props) {\n  return h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p;\n\twhile (p = items.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\nfunction isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\treturn node.splitText !== undefined;\n\t}\n\tif (typeof vnode.nodeName === 'string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor === vnode.nodeName;\n}\n\nfunction isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\nfunction getNodeProps(vnode) {\n\tvar props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tvar defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps !== undefined) {\n\t\tfor (var i in defaultProps) {\n\t\t\tif (props[i] === undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {} else if (name === 'ref') {\n\t\tapplyRef(old, null);\n\t\tapplyRef(value, node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\ttry {\n\t\t\tnode[name] = value == null ? '' : value;\n\t\t} catch (e) {}\n\t\tif ((value == null || value === false) && name != 'spellcheck') node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink:?/, ''));\n\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\nvar mounts = [];\n\nvar diffLevel = 0;\n\nvar isSvgMode = false;\n\nvar hydrating = false;\n\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.shift()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\tif (!diffLevel++) {\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t}\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t} else if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\tdiffAttributes(out, vnode.attributes, props);\n\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t} else if (min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\tunmountComponent(component);\n\t} else {\n\t\tif (node['__preactattr_'] != null) applyRef(node['__preactattr_'].ref, null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\nvar recyclerComponents = [];\n\nfunction createComponent(Ctor, props, context) {\n\tvar inst,\n\t    i = recyclerComponents.length;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\twhile (i--) {\n\t\tif (recyclerComponents[i].constructor === Ctor) {\n\t\t\tinst.nextBase = recyclerComponents[i].nextBase;\n\t\t\trecyclerComponents.splice(i, 1);\n\t\t\treturn inst;\n\t\t}\n\t}\n\n\treturn inst;\n}\n\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\nfunction setComponentProps(component, props, renderMode, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tcomponent.__ref = props.ref;\n\tcomponent.__key = props.key;\n\tdelete props.ref;\n\tdelete props.key;\n\n\tif (typeof component.constructor.getDerivedStateFromProps === 'undefined') {\n\t\tif (!component.base || mountAll) {\n\t\t\tif (component.componentWillMount) component.componentWillMount();\n\t\t} else if (component.componentWillReceiveProps) {\n\t\t\tcomponent.componentWillReceiveProps(props, context);\n\t\t}\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (renderMode !== 0) {\n\t\tif (renderMode === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tapplyRef(component.__ref, component);\n}\n\nfunction renderComponent(component, renderMode, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    snapshot = previousContext,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\tif (component.constructor.getDerivedStateFromProps) {\n\t\tstate = extend(extend({}, state), component.constructor.getDerivedStateFromProps(props, state));\n\t\tcomponent.state = state;\n\t}\n\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (renderMode !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tif (isUpdate && component.getSnapshotBeforeUpdate) {\n\t\t\tsnapshot = component.getSnapshotBeforeUpdate(previousProps, previousState);\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || renderMode === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.push(component);\n\t} else if (!skip) {\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, snapshot);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\twhile (component._renderCallbacks.length) {\n\t\tcomponent._renderCallbacks.pop().call(component);\n\t}if (!diffLevel && !isChild) flushMounts();\n}\n\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] != null) applyRef(base['__preactattr_'].ref, null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\trecyclerComponents.push(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tapplyRef(component.__ref, null);\n}\n\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\tthis.context = context;\n\n\tthis.props = props;\n\n\tthis.state = this.state || {};\n\n\tthis._renderCallbacks = [];\n}\n\nextend(Component.prototype, {\n\tsetState: function setState(state, callback) {\n\t\tif (!this.prevState) this.prevState = this.state;\n\t\tthis.state = extend(extend({}, this.state), typeof state === 'function' ? state(this.state, this.props) : state);\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t},\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\trender: function render() {}\n});\n\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nfunction createRef() {\n\treturn {};\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tcreateRef: createRef,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport default preact;\nexport { h, h as createElement, cloneElement, createRef, Component, render, rerender, options };\n//# sourceMappingURL=preact.mjs.map\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import * as utils from './utils'\nimport _ from 'underscore'\nimport { format as d3Format } from 'd3-format'\n\n// globals\nconst RETURN_ARG = x => x\nconst ESCAPE_REG = /([.*+?^=!:${}()|[\\]/\\\\])/g\nconst EMPTY_LINES = /\\n\\s*\\n/g\nconst TRAILING_NEWLINE = /\\n\\s*(\\)*)\\s*$/\nconst AND_OR = /([() ])(?:and|or)([)( ])/ig\nconst ALL_PARENS = /[()]/g\n// capture an expression surrounded by whitespace and a set of parentheses\nconst EXCESS_PARENS = /\\(\\s*(\\S+)\\s*\\)/g\nconst OR = /\\s+or\\s+/i\nconst AND = /\\s+and\\s+/i\n// find ORs\nconst OR_EXPRESSION = /(^|\\()(\\s*-?[0-9.]+\\s+(?:or\\s+-?[0-9.]+\\s*)+)(\\)|$)/ig\n// find ANDS, respecting order of operations (and before or)\nconst AND_EXPRESSION = /(^|\\(|or\\s)(\\s*-?[0-9.]+\\s+(?:and\\s+-?[0-9.]+\\s*)+)(\\sor|\\)|$)/ig\n\nfunction parseFloatOrNull (x) {\n  // strict number casting\n  const f = Number(x)\n  // check for null and '', which haven't been caught yet\n  return (isNaN(f) || parseFloat(x) !== f) ? null : f\n}\n\nfunction alignGeneDataToReactions (data, reactions) {\n  const aligned = {}\n  let nullVal = [ null ]\n  // make an array of nulls as the default\n  for (let firstGeneId in data) {\n    nullVal = data[firstGeneId].map(() => null)\n    break\n  }\n  for (let reactionId in reactions) {\n    const reaction = reactions[reactionId]\n    const biggId = reaction.bigg_id\n    const thisGeneData = {}\n\n    reaction.genes.forEach(gene => {\n      // check both gene id and gene name\n      ;[ 'bigg_id', 'name' ].forEach(function (kind) {\n        const d = data[gene[kind]] || utils.clone(nullVal)\n        // merger with existing data if present\n        const existingD = thisGeneData[gene.bigg_id]\n        if (existingD === undefined) {\n          thisGeneData[gene.bigg_id] = d\n        } else {\n          for (let i = 0; i < d.length; i++) {\n            const pnt = d[i]\n            if (pnt !== null) {\n              existingD[i] = pnt\n            }\n          }\n        }\n      })\n    })\n    aligned[biggId] = thisGeneData\n  }\n  return aligned\n}\n\nfunction checkFinite (x) {\n  return isFinite(x) ? x : null\n}\n\nfunction abs (x, takeAbs) {\n  return takeAbs ? Math.abs(x) : x\n}\n\nfunction diff (x, y, takeAbs) {\n  if (takeAbs) return Math.abs(y - x)\n  else return y - x\n}\n\nfunction fold (x, y, takeAbs) {\n  if (x === 0 || y === 0) return null\n  var fold = (y >= x ? y / x : -x / y)\n  return takeAbs ? Math.abs(fold) : fold\n}\n\nfunction log2Fold (x, y, takeAbs) {\n  if (x === 0) return null\n  if (y / x < 0) return null\n  var log = Math.log(y / x) / Math.log(2)\n  return takeAbs ? Math.abs(log) : log\n}\n\n/**\n * Convert imported data to a style that can be applied to reactions and nodes.\n * @param data - The data object.\n * @param name - Either 'reaction_data', 'metabolite_data', or 'gene_data'\n * @param allReactions - Required for name == 'gene_data'. Must include all GPRs\n *                       for the map and model.\n */\nexport function importAndCheck (data, name, allReactions) {\n  // check arguments\n  if (!data) return null\n\n  if ([ 'reaction_data', 'metabolite_data', 'gene_data' ].indexOf(name) === -1) {\n    throw new Error('Invalid name argument: ' + name)\n  }\n\n  // make array\n  if (!(data instanceof Array)) {\n    data = [ data ]\n  }\n  // check data\n  var check = function () {\n    if (data === null) {\n      return null\n    }\n    if (data.length === 1) {\n      return null\n    }\n    if (data.length === 2) {\n      return null\n    }\n    return console.warn('Bad data style: ' + name)\n  }\n  check()\n  data = utils.arrayToObject(data)\n\n  if (name === 'gene_data') {\n    if (allReactions === undefined) {\n      throw new Error('Must pass all_reactions argument for gene_data')\n    }\n    data = alignGeneDataToReactions(data, allReactions)\n  }\n\n  return data\n}\n\nexport function floatForData (d, styles, compareStyle) {\n  // all null\n  if (d === null) return null\n\n  // absolute value\n  const takeAbs = styles.indexOf('abs') !== -1\n\n  if (d.length === 1) { // 1 set\n    // 1 null\n    var f = parseFloatOrNull(d[0])\n    if (f === null) return null\n    return abs(f, takeAbs)\n  } else if (d.length === 2) { // 2 sets\n    // 2 null\n    var fs = d.map(parseFloatOrNull)\n    if (fs[0] === null || fs[1] === null) return null\n\n    if (compareStyle === 'diff') {\n      return diff(fs[0], fs[1], takeAbs)\n    } else if (compareStyle === 'fold') {\n      return checkFinite(fold(fs[0], fs[1], takeAbs))\n    } else if (compareStyle === 'log2_fold') {\n      return checkFinite(log2Fold(fs[0], fs[1], takeAbs))\n    }\n  } else {\n    throw new Error('Data array must be of length 1 or 2')\n  }\n  throw new Error('Bad data compare_style: ' + compareStyle)\n}\n\nexport function reverse_flux_for_data (d) {\n  if (d === null || d[0] === null) {\n    return false\n  }\n  return (d[0] < 0)\n}\n\n/**\n * Add gene values to the gene_reaction_rule string.\n * @param {String} rule - The gene reaction rule.\n * @param {} gene_values - The values.\n * @param {} genes - An array of objects specifying the gene bigg_id and name.\n * @param {} styles - The reaction styles.\n * @param {String} identifiers_on_map - The type of identifiers ('bigg_id' or 'name').\n * @param {} compare_style - The comparison style.\n *\n * @return {Array} A list of objects with:\n *\n * {\n *    bigg_id: The bigg ID.\n *    name: The name.\n *    text: The new string with formatted data values.\n * }\n *\n * The text elements should each appear on a new line.\n */\nexport function gene_string_for_data (rule, gene_values, genes, styles,\n                               identifiers_on_map, compare_style) {\n  var out_text = rule\n  var no_data = (gene_values === null)\n  // keep track of bigg_ids to remove repeats\n  var genes_found = {}\n\n  genes.forEach(function(g_obj) {\n    var bigg_id = g_obj.bigg_id\n\n    // ignore repeats that may have found their way into the genes object\n    if (bigg_id in genes_found) return\n    genes_found[bigg_id] = true\n\n    // generate the string\n    if (no_data) {\n      out_text = replace_gene_in_rule(out_text, bigg_id, bigg_id + '\\n')\n    } else {\n      if (!(bigg_id in gene_values))\n        return\n      var d = gene_values[bigg_id]\n      var f = floatForData(d, styles, compare_style)\n      var format = (f === null ? RETURN_ARG : d3Format('.3g'))\n      if (d.length === 1) {\n        out_text = replace_gene_in_rule(out_text, bigg_id,\n                                        bigg_id + ' (' + null_or_d(d[0], format) + ')\\n')\n      } else if (d.length === 2) {\n        var new_str\n        // check if they are all text\n        var any_num = _.any(d, function (x) {\n          return parseFloatOrNull(x) !== null\n        })\n        if (any_num) {\n          new_str = (bigg_id + ' (' +\n                     null_or_d(d[0], format) + ', ' +\n                     null_or_d(d[1], format) + ': ' +\n                     null_or_d(f, format) +\n                     ')\\n')\n        } else {\n          new_str = (bigg_id + ' (' +\n                     null_or_d(d[0], format) + ', ' +\n                     null_or_d(d[1], format) + ')\\n')\n        }\n        out_text = replace_gene_in_rule(out_text, bigg_id, new_str)\n      }\n    }\n  })\n  out_text = (out_text\n              // remove empty lines\n              .replace(EMPTY_LINES, '\\n')\n              // remove trailing newline (with or without parens)\n              .replace(TRAILING_NEWLINE, '$1'))\n\n  // split by newlines, and switch to names if necessary\n  var result = out_text.split('\\n').map(function (text) {\n    for (var i = 0, l = genes.length; i < l; i++) {\n      var gene = genes[i]\n      if (text.indexOf(gene.bigg_id) !== -1) {\n        // replace with names\n        if (identifiers_on_map === 'name')\n          text = replace_gene_in_rule(text, gene.bigg_id, gene.name)\n        return { bigg_id: gene.bigg_id, name: gene.name, text: text }\n      }\n    }\n    // not found, then none\n    return { bigg_id: null, name: null, text: text }\n  })\n  return result\n\n  // definitions\n  function null_or_d (d, format) {\n    return d === null ? 'nd' : format(d)\n  }\n}\n\nexport function text_for_data (d, f) {\n  if (d === null) {\n    return null_or_d(null)\n  }\n  if (d.length === 1) {\n    var format = (f === null ? RETURN_ARG : d3Format('.3g'))\n    return null_or_d(d[0], format)\n  }\n  if (d.length === 2) {\n    var format = (f === null ? RETURN_ARG : d3Format('.3g')),\n    t = null_or_d(d[0], format)\n    t += ', ' + null_or_d(d[1], format)\n    t += ': ' + null_or_d(f, format)\n    return t\n  }\n  return ''\n\n  // definitions\n  function null_or_d (d, format) {\n    return d === null ? '(nd)' : format(d)\n  }\n}\n\nexport function csv_converter(csv_rows) {\n  /** Convert data from a csv file to json-style data.\n\n      File must include a header row.\n\n  */\n  // count rows\n  var c = csv_rows[0].length,\n  converted = []\n  if (c < 2 || c > 3)\n    throw new Error('CSV file must have 2 or 3 columns')\n  // set up rows\n  for (var i = 1; i < c; i++) {\n    converted[i - 1] = {}\n  }\n  // fill\n  csv_rows.slice(1).forEach(function(row) {\n    for (var i = 1, l = row.length; i < l; i++) {\n      converted[i - 1][row[0]] = row[i]\n    }\n  })\n  return converted\n}\n\nexport function genes_for_gene_reaction_rule(rule) {\n  /** Find unique genes in gene_reaction_rule string.\n\n      Arguments\n      ---------\n\n      rule: A boolean string containing gene names, parentheses, AND's and\n      OR's.\n\n      Returns\n      -------\n\n      An array of gene strings.\n\n  */\n  var genes = rule\n  // remove ANDs and ORs, surrounded by space or parentheses\n    .replace(AND_OR, '$1$2')\n  // remove parentheses\n    .replace(ALL_PARENS, '')\n  // split on whitespace\n    .split(' ')\n    .filter(function(x) { return x != ''; })\n  // unique strings\n  return utils.unique_strings_array(genes)\n}\n\nexport function evaluate_gene_reaction_rule(rule, gene_values, and_method_in_gene_reaction_rule) {\n  /** Return a value given the rule and gene_values object.\n\n      Arguments\n      ---------\n\n      rule: A boolean string containing gene names, parentheses, AND's and\n      OR's.\n\n      gene_values: Object with gene_ids for keys and numbers for values.\n\n      and_method_in_gene_reaction_rule: Either 'mean' or 'min'.\n\n  */\n\n  var null_val = [null],\n  l = 1\n  // make an array of nulls as the default\n  for (var gene_id in gene_values) {\n    null_val = gene_values[gene_id].map(function() { return null; })\n    l = null_val.length\n    break\n  }\n\n  if (rule == '') return utils.clone(null_val)\n\n  // for each element in the arrays\n  var out = []\n  for (var i = 0; i < l; i++) {\n    // get the rule\n    var curr_val = rule\n\n    // put all the numbers into the expression\n    var all_null = true\n    for (var gene_id in gene_values) {\n      var f = parseFloatOrNull(gene_values[gene_id][i])\n      if (f === null) {\n        f = 0\n      } else {\n        all_null = false\n      }\n      curr_val = replace_gene_in_rule(curr_val, gene_id, f)\n    }\n    if (all_null) {\n      out.push(null)\n      continue\n    }\n\n    // recursively evaluate\n    while (true) {\n      // arithemtic expressions\n      var new_curr_val = curr_val\n\n      // take out excessive parentheses\n      new_curr_val = new_curr_val.replace(EXCESS_PARENS, ' $1 ')\n\n      // or's\n      new_curr_val = new_curr_val.replace(OR_EXPRESSION, function(match, p1, p2, p3) {\n        // sum\n        var nums = p2.split(OR).map(parseFloat),\n        sum = nums.reduce(function(a, b) { return a + b;})\n        return p1 + sum + p3\n      })\n      // and's\n      new_curr_val = new_curr_val.replace(AND_EXPRESSION, function(match, p1, p2, p3) {\n        // find min\n        var nums = p2.split(AND).map(parseFloat),\n            val = (and_method_in_gene_reaction_rule == 'min' ?\n                   Math.min.apply(null, nums) :\n                   nums.reduce(function(a, b) { return a + b; }) / nums.length)\n        return p1 + val + p3\n      })\n      // break if there is no change\n      if (new_curr_val == curr_val)\n        break\n      curr_val = new_curr_val\n    }\n    // strict test for number\n    var num = Number(curr_val)\n    if (isNaN(num)) {\n      console.warn('Could not evaluate ' + rule)\n      out.push(null)\n    } else {\n      out.push(num)\n    }\n  }\n  return out\n}\n\nexport function replace_gene_in_rule (rule, gene_id, val) {\n  // get the escaped string, with surrounding space or parentheses\n  var space_or_par_start = '(^|[\\\\\\s\\\\\\(\\\\\\)])'\n  var space_or_par_finish = '([\\\\\\s\\\\\\(\\\\\\)]|$)'\n  var escaped = space_or_par_start + escape_reg_exp(gene_id) + space_or_par_finish\n  return rule.replace(new RegExp(escaped, 'g'),  '$1' + val + '$2')\n\n  // definitions\n  function escape_reg_exp(string) {\n    return string.replace(ESCAPE_REG, \"\\\\$1\")\n  }\n}\n\n/**\n * Returns True if the scale has changed.\n * @param {Object} reactions -\n * @param {} data -\n * @param {} styles -\n * @param {String} compare_style -\n * @param {Array} keys - (Optional) The keys in reactions to apply data to.\n */\nexport function apply_reaction_data_to_reactions (reactions, data, styles,\n                                           compare_style, keys) {\n  if (_.isUndefined(keys)) keys = Object.keys(reactions)\n\n  var reaction_id\n  var reaction\n  var segment_id\n  var segment\n\n  if (data === null) {\n    keys.map(function (reaction_id) {\n      reaction = reactions[reaction_id]\n      reaction.data = null\n      reaction.data_string = ''\n      for (segment_id in reaction.segments) {\n        segment = reaction.segments[segment_id]\n        segment.data = null\n      }\n      reaction.gene_string = null\n    })\n    return false\n  }\n\n  // apply the datasets to the reactions\n  keys.map(function (reaction_id) {\n    reaction = reactions[reaction_id]\n    // check bigg_id and name\n    var d = data[reaction.bigg_id] || data[reaction.name] || null\n    var f = floatForData(d, styles, compare_style)\n    var r = reverse_flux_for_data(d)\n    var s = text_for_data(d, f)\n    reaction.data = f\n    reaction.data_string = s\n    reaction.reverse_flux = r\n    reaction.gene_string = null\n    // apply to the segments\n    for (segment_id in reaction.segments) {\n      segment = reaction.segments[segment_id]\n      segment.data = reaction.data\n      segment.reverse_flux = reaction.reverse_flux\n    }\n  })\n  return true\n}\n\n/**\n * Returns True if the scale has changed.\n * @param {Object} nodes -\n * @param {} data -\n * @param {} styles -\n * @param {String} compare_style -\n * @param {Array} keys - (Optional) The keys in nodes to apply data to.\n */\nexport function apply_metabolite_data_to_nodes (nodes, data, styles, compareStyle, keys) {\n  if (_.isUndefined(keys)) keys = Object.keys(nodes)\n\n  if (data === null) {\n    keys.map(nodeId => {\n      nodes[nodeId].data = null\n      nodes[nodeId].data_string = ''\n    })\n    return false\n  }\n\n  // grab the data\n  keys.map(nodeId => {\n    var node = nodes[nodeId]\n    // check bigg_id and name\n    const d = data[node.bigg_id] || data[node.name] || null\n    const f = floatForData(d, styles, compareStyle)\n    const s = text_for_data(d, f)\n    node.data = f\n    node.data_string = s\n  })\n  return true\n}\n\n/**\n * Returns true if data is present\n * reactions: The reactions to update.\n * gene_data_obj: The gene data object, with the following style:\n *   { reaction_id: { gene_id: value } }\n * styles:  Gene styles array.\n * identifiers_on_map:\n * compare_style:\n * and_method_in_gene_reaction_rule:\n * @param {Array} keys - (Optional) The keys in reactions to apply data to.\n */\nexport function apply_gene_data_to_reactions (\n  reactions,\n  gene_data_obj,\n  styles,\n  identifiers_on_map,\n  compare_style,\n  and_method_in_gene_reaction_rule,\n  keys\n) {\n  if (_.isUndefined(keys)) keys = Object.keys(reactions)\n\n  if (gene_data_obj === null) {\n    keys.map(function (reaction_id) {\n      var reaction = reactions[reaction_id]\n      reaction.data = null\n      reaction.data_string = ''\n      reaction.reverse_flux = false\n      for (var segment_id in reaction.segments) {\n        var segment = reaction.segments[segment_id]\n        segment.data = null\n      }\n      reaction.gene_string = null\n    })\n    return false\n  }\n\n  // Get the null val\n  var null_val = [ null ]\n  // Make an array of nulls as the default\n  for (var reaction_id in gene_data_obj) {\n    for (var gene_id in gene_data_obj[reaction_id]) {\n      null_val = gene_data_obj[reaction_id][gene_id]\n        .map(function () { return null })\n      break\n    }\n    break\n  }\n\n  // Apply the datasets to the reactions\n  keys.map(function (reaction_id) {\n    var reaction = reactions[reaction_id]\n    var rule = reaction.gene_reaction_rule\n    // find the data\n    var d, gene_values\n    var r_data = gene_data_obj[reaction.bigg_id]\n    if (!_.isUndefined(r_data)) {\n      gene_values = r_data\n      d = evaluate_gene_reaction_rule(rule, gene_values,\n                                      and_method_in_gene_reaction_rule)\n    } else {\n      gene_values = {}\n      d = utils.clone(null_val)\n    }\n    var f = floatForData(d, styles, compare_style)\n    var r = reverse_flux_for_data(d)\n    var s = text_for_data(d, f)\n    reaction.data = f\n    reaction.data_string = s\n    reaction.reverse_flux = r\n    // apply to the segments\n    for (var segment_id in reaction.segments) {\n      var segment = reaction.segments[segment_id]\n      segment.data = reaction.data\n      segment.reverse_flux = reaction.reverse_flux\n    }\n    // always update the gene string\n    reaction.gene_string = gene_string_for_data(rule,\n                                                gene_values,\n                                                reaction.genes,\n                                                styles,\n                                                identifiers_on_map,\n                                                compare_style)\n  })\n  return true\n}\n","/** CallbackManager */\nexport default class CallbackManager {\n  /**\n   * As in d3 callbacks, you can namespace your callbacks after a period:\n   * select_metabolite.direction_arrow, select_metabolite.input. Both are called\n   * by select_metabolite.\n  */\n  set (name, fn) {\n    if (this.callbacks === undefined) this.callbacks = {}\n    if (this.callbacks[name] === undefined) this.callbacks[name] = []\n    this.callbacks[name].push(fn)\n  }\n\n  /** Remove a callback by name */\n  remove (name) {\n    if (this.callbacks === undefined || Object.keys(this.callbacks).length === 0) {\n      console.warn('No callbacks to remove')\n    } else {\n      delete this.callbacks[name]\n    }\n  }\n\n  /**\n   * Run all callbacks that match the portion of name before the period ('.').\n   * @param {String} name - The callback name, which can include a tag after a\n   * '.' to specificy a particular callback.\n   * @param {Any} thisArg = null - The object assigned to `this` in the\n   * callback.\n  */\n  run (name, thisArg = null, ...passArgs) {\n    if (this.callbacks === undefined) return\n    // look for matching callback names\n    for (let aName in this.callbacks) {\n      const splitName = aName.split('.')[0]\n      if (splitName === name) {\n        this.callbacks[aName].forEach(fn => {\n          fn.apply(thisArg, passArgs)\n        })\n      }\n    }\n  }\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export {default as formatDefaultLocale, format, formatPrefix} from \"./defaultLocale.js\";\nexport {default as formatLocale} from \"./locale.js\";\nexport {default as formatSpecifier, FormatSpecifier} from \"./formatSpecifier.js\";\nexport {default as precisionFixed} from \"./precisionFixed.js\";\nexport {default as precisionPrefix} from \"./precisionPrefix.js\";\nexport {default as precisionRound} from \"./precisionRound.js\";\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import {map} from \"d3-collection\";\nimport {dispatch} from \"d3-dispatch\";\n\nexport default function(url, callback) {\n  var request,\n      event = dispatch(\"beforesend\", \"progress\", \"load\", \"error\"),\n      mimeType,\n      headers = map(),\n      xhr = new XMLHttpRequest,\n      user = null,\n      password = null,\n      response,\n      responseType,\n      timeout = 0;\n\n  // If IE does not support CORS, use XDomainRequest.\n  if (typeof XDomainRequest !== \"undefined\"\n      && !(\"withCredentials\" in xhr)\n      && /^(http(s)?:)?\\/\\//.test(url)) xhr = new XDomainRequest;\n\n  \"onload\" in xhr\n      ? xhr.onload = xhr.onerror = xhr.ontimeout = respond\n      : xhr.onreadystatechange = function(o) { xhr.readyState > 3 && respond(o); };\n\n  function respond(o) {\n    var status = xhr.status, result;\n    if (!status && hasResponse(xhr)\n        || status >= 200 && status < 300\n        || status === 304) {\n      if (response) {\n        try {\n          result = response.call(request, xhr);\n        } catch (e) {\n          event.call(\"error\", request, e);\n          return;\n        }\n      } else {\n        result = xhr;\n      }\n      event.call(\"load\", request, result);\n    } else {\n      event.call(\"error\", request, o);\n    }\n  }\n\n  xhr.onprogress = function(e) {\n    event.call(\"progress\", request, e);\n  };\n\n  request = {\n    header: function(name, value) {\n      name = (name + \"\").toLowerCase();\n      if (arguments.length < 2) return headers.get(name);\n      if (value == null) headers.remove(name);\n      else headers.set(name, value + \"\");\n      return request;\n    },\n\n    // If mimeType is non-null and no Accept header is set, a default is used.\n    mimeType: function(value) {\n      if (!arguments.length) return mimeType;\n      mimeType = value == null ? null : value + \"\";\n      return request;\n    },\n\n    // Specifies what type the response value should take;\n    // for instance, arraybuffer, blob, document, or text.\n    responseType: function(value) {\n      if (!arguments.length) return responseType;\n      responseType = value;\n      return request;\n    },\n\n    timeout: function(value) {\n      if (!arguments.length) return timeout;\n      timeout = +value;\n      return request;\n    },\n\n    user: function(value) {\n      return arguments.length < 1 ? user : (user = value == null ? null : value + \"\", request);\n    },\n\n    password: function(value) {\n      return arguments.length < 1 ? password : (password = value == null ? null : value + \"\", request);\n    },\n\n    // Specify how to convert the response content to a specific type;\n    // changes the callback value on \"load\" events.\n    response: function(value) {\n      response = value;\n      return request;\n    },\n\n    // Alias for send(\"GET\", ).\n    get: function(data, callback) {\n      return request.send(\"GET\", data, callback);\n    },\n\n    // Alias for send(\"POST\", ).\n    post: function(data, callback) {\n      return request.send(\"POST\", data, callback);\n    },\n\n    // If callback is non-null, it will be used for error and load events.\n    send: function(method, data, callback) {\n      xhr.open(method, url, true, user, password);\n      if (mimeType != null && !headers.has(\"accept\")) headers.set(\"accept\", mimeType + \",*/*\");\n      if (xhr.setRequestHeader) headers.each(function(value, name) { xhr.setRequestHeader(name, value); });\n      if (mimeType != null && xhr.overrideMimeType) xhr.overrideMimeType(mimeType);\n      if (responseType != null) xhr.responseType = responseType;\n      if (timeout > 0) xhr.timeout = timeout;\n      if (callback == null && typeof data === \"function\") callback = data, data = null;\n      if (callback != null && callback.length === 1) callback = fixCallback(callback);\n      if (callback != null) request.on(\"error\", callback).on(\"load\", function(xhr) { callback(null, xhr); });\n      event.call(\"beforesend\", request, xhr);\n      xhr.send(data == null ? null : data);\n      return request;\n    },\n\n    abort: function() {\n      xhr.abort();\n      return request;\n    },\n\n    on: function() {\n      var value = event.on.apply(event, arguments);\n      return value === event ? request : value;\n    }\n  };\n\n  if (callback != null) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    return request.get(callback);\n  }\n\n  return request;\n}\n\nfunction fixCallback(callback) {\n  return function(error, xhr) {\n    callback(error == null ? xhr : null);\n  };\n}\n\nfunction hasResponse(xhr) {\n  var type = xhr.responseType;\n  return type && type !== \"text\"\n      ? xhr.response // null on error\n      : xhr.responseText; // \"\" on error\n}\n","import request from \"./request\";\n\nexport default function(defaultMimeType, response) {\n  return function(url, callback) {\n    var r = request(url).mimeType(defaultMimeType).response(response);\n    if (callback != null) {\n      if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      return r.get(callback);\n    }\n    return r;\n  };\n}\n","import request from \"./request\";\n\nexport default function(defaultMimeType, parse) {\n  return function(url, row, callback) {\n    if (arguments.length < 3) callback = row, row = null;\n    var r = request(url).mimeType(defaultMimeType);\n    r.row = function(_) { return arguments.length ? r.response(responseOf(parse, row = _)) : row; };\n    r.row(row);\n    return callback ? r.get(callback) : r;\n  };\n}\n\nfunction responseOf(parse, row) {\n  return function(request) {\n    return parse(request.responseText, row);\n  };\n}\n","import type from \"./type\";\n\nexport default type(\"text/html\", function(xhr) {\n  return document.createRange().createContextualFragment(xhr.responseText);\n});\n","import type from \"./type\";\n\nexport default type(\"application/json\", function(xhr) {\n  return JSON.parse(xhr.responseText);\n});\n","import type from \"./type\";\n\nexport default type(\"text/plain\", function(xhr) {\n  return xhr.responseText;\n});\n","import type from \"./type\";\n\nexport default type(\"application/xml\", function(xhr) {\n  var xml = xhr.responseXML;\n  if (!xml) throw new Error(\"parse error\");\n  return xml;\n});\n","import {csvParse} from \"d3-dsv\";\nimport dsv from \"./dsv\";\n\nexport default dsv(\"text/csv\", csvParse);\n","import {tsvParse} from \"d3-dsv\";\nimport dsv from \"./dsv\";\n\nexport default dsv(\"text/tab-separated-values\", tsvParse);\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","export default function(x) {\n  return x;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": formatDecimal,\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","/**\n * PlacedDiv. A container to position an html div to match the coordinates of a\n * SVG element.\n */\n\nvar utils = require('./utils')\n\nvar PlacedDiv = utils.make_class()\n// instance methods\nPlacedDiv.prototype = {\n  init: init,\n  is_visible: is_visible,\n  place: place,\n  hide: hide,\n}\nmodule.exports = PlacedDiv\n\nfunction init (div, map, displacement = { x: 0, y: 0 }, shouldReposition = true) {\n  this.div = div\n  this.map = map\n  this.displacement = displacement\n  this.shouldReposition = shouldReposition\n  // begin hidden\n  this.visible = true\n  this.hide()\n}\n\nfunction is_visible () {\n  return this.visible\n}\n\n/**\n * Position the html div to match the given SVG coordinates.\n */\nfunction place (coords) {\n  // show the input\n  this.div.style('display', null)\n\n  // move the new input\n  var window_translate = this.map.zoomContainer.windowTranslate\n  var window_scale = this.map.zoomContainer.windowScale\n  var map_size = this.map.get_size()\n\n  /**\n   * If shouldReposition is true, the div is placed so that it does not render\n   * outside of the viewable area of the window. Math.max is used so that it\n   * does not overflow to the left and top, Math.min is used so that it does not\n   * overflow to the right or bottom. If the screen is tool small to show the\n   * entire div, the div will overflow to the right and bottom.\n   */\n  if (this.shouldReposition) {\n    var left = Math.max(20,\n                      Math.min(map_size.width - 270,\n                               (window_scale * coords.x + window_translate.x -\n                                this.displacement.x)))\n    var top = Math.max(20,\n                      Math.min(map_size.height - 40,\n                                (window_scale * coords.y + window_translate.y -\n                                this.displacement.y)))\n    this.div.style('position', 'absolute')\n      .style('display', 'block')\n      .style('left', `${left}px`)\n      .style('top', `${top}px`)\n  } else {\n    this.div.style('position', 'absolute')\n    .style('display', 'block')\n    .style('left', `${window_scale * coords.x + window_translate.x - this.displacement.x}px`)\n    .style('top', `${window_scale * coords.y + window_translate.y - this.displacement.y}px`)\n  }\n  this.visible = true\n}\n\n/**\n * Hide the PlacedDiv.\n */\nfunction hide () {\n  if (this.visible) {\n    this.div.style('display', 'none')\n    this.visible = false\n  }\n}\n","/**\n * CobraModel\n */\n\nvar utils = require('./utils')\nvar dataStyles = require('./dataStyles')\n\nvar CobraModel = utils.make_class()\n// class methods\nCobraModel.from_cobra_json = from_cobra_json\nCobraModel.build_reaction_string = build_reaction_string\n// instance methods\nCobraModel.prototype = {\n  init: init,\n  apply_reaction_data: apply_reaction_data,\n  apply_metabolite_data: apply_metabolite_data,\n  apply_gene_data: apply_gene_data\n}\nmodule.exports = CobraModel\n\n// class methods\n\n/**\n * Return a reaction string for the given stoichiometries. Adapted from\n * cobra.core.Reaction.build_reaction_string().\n * @param {Object} stoichiometries - An object with metabolites as keys and\n * stoichiometries as values.\n * @param {Boolean} is_reversible - Whether the reaction is reversible.\n */\nfunction build_reaction_string (stoichiometries, is_reversible) {\n  var format = function(number) {\n    if (number == 1) {\n      return ''\n    }\n    return String(number) + ' '\n  }\n  var reactant_dict = {}\n  var product_dict = {}\n  var reactant_bits = []\n  var product_bits = []\n  for (var the_metabolite in stoichiometries) {\n    var coefficient = stoichiometries[the_metabolite]\n    if (coefficient > 0)\n      product_bits.push(format(coefficient) + the_metabolite)\n    else\n      reactant_bits.push(format(Math.abs(coefficient)) + the_metabolite)\n  }\n  var reaction_string = reactant_bits.join(' + ')\n  if (is_reversible) {\n    reaction_string += '  '\n  } else {\n    reaction_string += '  '\n  }\n  reaction_string += product_bits.join(' + ')\n  return reaction_string\n}\n\nfunction from_cobra_json (model_data) {\n  /** Use a JSON Cobra model exported by COBRApy to make a new CobraModel\n      object.\n\n      The COBRA \"id\" becomes a \"bigg_id\", and \"upper_bound\" and \"lower_bound\"\n      bounds become \"reversibility\".\n\n      Fills out a \"genes\" list.\n\n  */\n  // reactions and metabolites\n  if (!(model_data.reactions && model_data.metabolites)) {\n    throw new Error('Bad model data.')\n  }\n\n  // make a gene dictionary\n  var genes = {}\n  for (var i = 0, l = model_data.genes.length; i < l; i++) {\n    var r = model_data.genes[i],\n    the_id = r.id\n    genes[the_id] = r\n  }\n\n  var model = new CobraModel()\n\n  model.reactions = {}\n  for (var i = 0, l = model_data.reactions.length; i<l; i++) {\n    var r = model_data.reactions[i]\n    var the_id = r.id\n    var reaction = utils.clone(r)\n    delete reaction.id\n    reaction.bigg_id = the_id\n    reaction.data_string = ''\n    // add the appropriate genes\n    reaction.genes = []\n\n    // set reversibility\n    reaction.reversibility = (reaction.lower_bound < 0 && reaction.upper_bound > 0)\n    if (reaction.upper_bound <= 0 && reaction.lower_bound < 0) {\n      // reverse stoichiometries\n      for (var met_id in reaction.metabolites) {\n        reaction.metabolites[met_id] = -reaction.metabolites[met_id]\n      }\n    }\n    delete reaction.lower_bound\n    delete reaction.upper_bound\n\n    if ('gene_reaction_rule' in reaction) {\n      var gene_ids = dataStyles.genes_for_gene_reaction_rule(reaction.gene_reaction_rule)\n      gene_ids.forEach(function(gene_id) {\n        if (gene_id in genes) {\n          var gene = utils.clone(genes[gene_id])\n          // rename id to bigg_id\n          gene.bigg_id = gene.id\n          delete gene.id\n          reaction.genes.push(gene)\n        } else {\n          console.warn('Could not find gene for gene_id ' + gene_id)\n        }\n      })\n    }\n    model.reactions[the_id] = reaction\n  }\n  model.metabolites = {}\n  for (var i = 0, l = model_data.metabolites.length; i<l; i++) {\n    var r = model_data.metabolites[i]\n    var the_id = r.id\n    var met = utils.clone(r)\n    delete met.id\n    met.bigg_id = the_id\n    model.metabolites[the_id] = met\n  }\n  return model\n}\n\n// instance methods\nfunction init () {\n  this.reactions = {}\n  this.metabolites = {}\n}\n\n/**\n * Apply data to model. This is only used to display options in\n * BuildInput. apply_reaction_data overrides apply_gene_data.\n */\nfunction apply_reaction_data (reaction_data, styles, compare_style) {\n  dataStyles.apply_reaction_data_to_reactions(this.reactions, reaction_data,\n                                               styles, compare_style)\n}\n\n/**\n * Apply data to model. This is only used to display options in BuildInput.\n */\nfunction apply_metabolite_data (metabolite_data, styles, compare_style) {\n  dataStyles.apply_metabolite_data_to_nodes(this.metabolites, metabolite_data,\n                                             styles, compare_style)\n}\n\n/**\n * Apply data to model. This is only used to display options in\n * BuildInput. Overrides apply_reaction_data.\n */\nfunction apply_gene_data (gene_data_obj, styles, identifiers_on_map,\n                          compare_style, and_method_in_gene_reaction_rule) {\n  dataStyles.apply_gene_data_to_reactions(this.reactions, gene_data_obj,\n                                           styles, identifiers_on_map,\n                                           compare_style,\n                                           and_method_in_gene_reaction_rule)\n}\n","(function() {\nvar _slice = Array.prototype.slice;\nvar Bacon = {\n  toString: function () {\n    return \"Bacon\";\n  }\n};\n\nBacon.version = '0.7.95';\n\nvar Exception = (typeof global !== \"undefined\" && global !== null ? global : this).Error;\nvar nop = function () {};\nvar latter = function (_, x) {\n  return x;\n};\nvar former = function (x, _) {\n  return x;\n};\nvar cloneArray = function (xs) {\n  return xs.slice(0);\n};\nvar assert = function (message, condition) {\n  if (!condition) {\n    throw new Exception(message);\n  }\n};\nvar assertObservableIsProperty = function (x) {\n  if ((x != null ? x._isObservable : void 0) && !(x != null ? x._isProperty : void 0)) {\n    throw new Exception(\"Observable is not a Property : \" + x);\n  }\n};\nvar assertEventStream = function (event) {\n  if (!(event != null ? event._isEventStream : void 0)) {\n    throw new Exception(\"not an EventStream : \" + event);\n  }\n};\n\nvar assertObservable = function (event) {\n  if (!(event != null ? event._isObservable : void 0)) {\n    throw new Exception(\"not an Observable : \" + event);\n  }\n};\nvar assertFunction = function (f) {\n  return assert(\"not a function : \" + f, _.isFunction(f));\n};\nvar isArray = Array.isArray || function (xs) {\n  return xs instanceof Array;\n};\nvar isObservable = function (x) {\n  return x && x._isObservable;\n};\nvar assertArray = function (xs) {\n  if (!isArray(xs)) {\n    throw new Exception(\"not an array : \" + xs);\n  }\n};\nvar assertNoArguments = function (args) {\n  return assert(\"no arguments supported\", args.length === 0);\n};\nvar assertString = function (x) {\n  if (typeof x === \"string\") {\n    throw new Exception(\"not a string : \" + x);\n  }\n};\n\nvar extend = function (target) {\n  var length = arguments.length;\n  for (var i = 1; 1 < length ? i < length : i > length; 1 < length ? i++ : i--) {\n    for (var prop in arguments[i]) {\n      target[prop] = arguments[i][prop];\n    }\n  }\n  return target;\n};\n\nvar inherit = function (child, parent) {\n  var hasProp = ({}).hasOwnProperty;\n  var ctor = function () {};\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n  for (var key in parent) {\n    if (hasProp.call(parent, key)) {\n      child[key] = parent[key];\n    }\n  }\n  return child;\n};\n\nvar symbol = function (key) {\n  if (typeof Symbol !== \"undefined\" && Symbol[key]) {\n    return Symbol[key];\n  } else if (typeof Symbol !== \"undefined\" && typeof Symbol[\"for\"] === \"function\") {\n    return Symbol[key] = Symbol[\"for\"](key);\n  } else {\n    return \"@@\" + key;\n  }\n};\n\nvar _ = {\n  indexOf: (function () {\n    if (Array.prototype.indexOf) {\n      return function (xs, x) {\n        return xs.indexOf(x);\n      };\n    } else {\n      return function (xs, x) {\n        for (var i = 0, y; i < xs.length; i++) {\n          y = xs[i];\n          if (x === y) {\n            return i;\n          }\n        }\n        return -1;\n      };\n    }\n  })(),\n  indexWhere: function (xs, f) {\n    for (var i = 0, y; i < xs.length; i++) {\n      y = xs[i];\n      if (f(y)) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  head: function (xs) {\n    return xs[0];\n  },\n  always: function (x) {\n    return function () {\n      return x;\n    };\n  },\n  negate: function (f) {\n    return function (x) {\n      return !f(x);\n    };\n  },\n  empty: function (xs) {\n    return xs.length === 0;\n  },\n  tail: function (xs) {\n    return xs.slice(1, xs.length);\n  },\n  filter: function (f, xs) {\n    var filtered = [];\n    for (var i = 0, x; i < xs.length; i++) {\n      x = xs[i];\n      if (f(x)) {\n        filtered.push(x);\n      }\n    }\n    return filtered;\n  },\n  map: function (f, xs) {\n    return (function () {\n      var result = [];\n      for (var i = 0, x; i < xs.length; i++) {\n        x = xs[i];\n        result.push(f(x));\n      }\n      return result;\n    })();\n  },\n  each: function (xs, f) {\n    for (var key in xs) {\n      if (Object.prototype.hasOwnProperty.call(xs, key)) {\n        var value = xs[key];\n        f(key, value);\n      }\n    }\n  },\n  toArray: function (xs) {\n    return isArray(xs) ? xs : [xs];\n  },\n  contains: function (xs, x) {\n    return _.indexOf(xs, x) !== -1;\n  },\n  id: function (x) {\n    return x;\n  },\n  last: function (xs) {\n    return xs[xs.length - 1];\n  },\n  all: function (xs) {\n    var f = arguments.length <= 1 || arguments[1] === undefined ? _.id : arguments[1];\n\n    for (var i = 0, x; i < xs.length; i++) {\n      x = xs[i];\n      if (!f(x)) {\n        return false;\n      }\n    }\n    return true;\n  },\n  any: function (xs) {\n    var f = arguments.length <= 1 || arguments[1] === undefined ? _.id : arguments[1];\n\n    for (var i = 0, x; i < xs.length; i++) {\n      x = xs[i];\n      if (f(x)) {\n        return true;\n      }\n    }\n    return false;\n  },\n  without: function (x, xs) {\n    return _.filter(function (y) {\n      return y !== x;\n    }, xs);\n  },\n  remove: function (x, xs) {\n    var i = _.indexOf(xs, x);\n    if (i >= 0) {\n      return xs.splice(i, 1);\n    }\n  },\n  fold: function (xs, seed, f) {\n    for (var i = 0, x; i < xs.length; i++) {\n      x = xs[i];\n      seed = f(seed, x);\n    }\n    return seed;\n  },\n  flatMap: function (f, xs) {\n    return _.fold(xs, [], function (ys, x) {\n      return ys.concat(f(x));\n    });\n  },\n  cached: function (f) {\n    var value = None;\n    return function () {\n      if (typeof value !== \"undefined\" && value !== null ? value._isNone : undefined) {\n        value = f();\n        f = undefined;\n      }\n      return value;\n    };\n  },\n  bind: function (fn, me) {\n    return function () {\n      return fn.apply(me, arguments);\n    };\n  },\n  isFunction: function (f) {\n    return typeof f === \"function\";\n  },\n  toString: function (obj) {\n    var internals, key, value;\n    var hasProp = ({}).hasOwnProperty;\n    try {\n      recursionDepth++;\n      if (obj == null) {\n        return \"undefined\";\n      } else if (_.isFunction(obj)) {\n        return \"function\";\n      } else if (isArray(obj)) {\n        if (recursionDepth > 5) {\n          return \"[..]\";\n        }\n        return \"[\" + _.map(_.toString, obj).toString() + \"]\";\n      } else if ((obj != null ? obj.toString : void 0) != null && obj.toString !== Object.prototype.toString) {\n        return obj.toString();\n      } else if (typeof obj === \"object\") {\n        if (recursionDepth > 5) {\n          return \"{..}\";\n        }\n        internals = (function () {\n          var results = [];\n          for (key in obj) {\n            if (!hasProp.call(obj, key)) continue;\n            value = (function () {\n              var error;\n              try {\n                return obj[key];\n              } catch (error) {\n                return error;\n              }\n            })();\n            results.push(_.toString(key) + \":\" + _.toString(value));\n          }\n          return results;\n        })();\n        return \"{\" + internals + \"}\";\n      } else {\n        return obj;\n      }\n    } finally {\n      recursionDepth--;\n    }\n  }\n};\n\nvar recursionDepth = 0;\n\nBacon._ = _;\n\nvar UpdateBarrier = Bacon.UpdateBarrier = (function () {\n  var rootEvent;\n  var waiterObs = [];\n  var waiters = {};\n  var aftersStack = [];\n  var aftersStackHeight = 0;\n  var flushed = {};\n\n  function ensureStackHeight(h) {\n    if (h <= aftersStackHeight) return;\n    if (!aftersStack[h - 1]) {\n      aftersStack[h - 1] = [[], 0];\n    }\n    aftersStackHeight = h;\n  }\n\n  var afterTransaction = function (obs, f) {\n    if (rootEvent || aftersStack.length) {\n      ensureStackHeight(1);\n      var stackIndexForThisObs = 0;\n      while (stackIndexForThisObs < aftersStackHeight - 1) {\n        if (containsObs(obs, aftersStack[stackIndexForThisObs][0])) {\n          break;\n        }\n        stackIndexForThisObs++;\n      }\n      var listFromStack = aftersStack[stackIndexForThisObs][0];\n      listFromStack.push([obs, f]);\n      if (!rootEvent) {\n        processAfters();\n      }\n    } else {\n        return f();\n      }\n  };\n\n  function containsObs(obs, aftersList) {\n    for (var i = 0; i < aftersList.length; i++) {\n      if (aftersList[i][0].id == obs.id) return true;\n    }\n    return false;\n  }\n\n  function processAfters() {\n    var stackSizeAtStart = aftersStackHeight;\n    if (!stackSizeAtStart) return;\n    while (aftersStackHeight >= stackSizeAtStart) {\n      var topOfStack = aftersStack[aftersStackHeight - 1];\n      if (!topOfStack) throw new Error(\"Unexpected stack top: \" + topOfStack);\n      var topAfters = topOfStack[0];\n      var index = topOfStack[1];\n\n      if (index < topAfters.length) {\n        var _topAfters$index = topAfters[index];\n        var obs = _topAfters$index[0];\n        var after = _topAfters$index[1];\n\n        topOfStack[1]++;\n        ensureStackHeight(aftersStackHeight + 1);\n        var callSuccess = false;\n        try {\n          after();\n          callSuccess = true;\n          while (aftersStackHeight > stackSizeAtStart && aftersStack[aftersStackHeight - 1][0].length == 0) {\n            aftersStackHeight--;\n          }\n        } finally {\n          if (!callSuccess) {\n            aftersStack = [];\n            aftersStackHeight = 0;\n          }\n        }\n      } else {\n          topOfStack[0] = [];\n          topOfStack[1] = 0;\n          break;\n        }\n    }\n  }\n\n  var whenDoneWith = function (obs, f) {\n    if (rootEvent) {\n      var obsWaiters = waiters[obs.id];\n      if (!(typeof obsWaiters !== \"undefined\" && obsWaiters !== null)) {\n        obsWaiters = waiters[obs.id] = [f];\n        return waiterObs.push(obs);\n      } else {\n        return obsWaiters.push(f);\n      }\n    } else {\n      return f();\n    }\n  };\n\n  var flush = function () {\n    while (waiterObs.length > 0) {\n      flushWaiters(0, true);\n    }\n    flushed = {};\n  };\n\n  var flushWaiters = function (index, deps) {\n    var obs = waiterObs[index];\n    var obsId = obs.id;\n    var obsWaiters = waiters[obsId];\n    waiterObs.splice(index, 1);\n    delete waiters[obsId];\n    if (deps && waiterObs.length > 0) {\n      flushDepsOf(obs);\n    }\n    for (var i = 0, f; i < obsWaiters.length; i++) {\n      f = obsWaiters[i];\n      f();\n    }\n  };\n\n  var flushDepsOf = function (obs) {\n    if (flushed[obs.id]) return;\n    var deps = obs.internalDeps();\n    for (var i = 0, dep; i < deps.length; i++) {\n      dep = deps[i];\n      flushDepsOf(dep);\n      if (waiters[dep.id]) {\n        var index = _.indexOf(waiterObs, dep);\n        flushWaiters(index, false);\n      }\n    }\n    flushed[obs.id] = true;\n  };\n\n  var inTransaction = function (event, context, f, args) {\n    if (rootEvent) {\n      return f.apply(context, args);\n    } else {\n      rootEvent = event;\n      try {\n        var result = f.apply(context, args);\n\n        flush();\n      } finally {\n        rootEvent = undefined;\n        processAfters();\n      }\n      return result;\n    }\n  };\n\n  var currentEventId = function () {\n    return rootEvent ? rootEvent.id : undefined;\n  };\n\n  var wrappedSubscribe = function (obs, sink) {\n    var unsubd = false;\n    var shouldUnsub = false;\n    var doUnsub = function () {\n      shouldUnsub = true;\n      return shouldUnsub;\n    };\n    var unsub = function () {\n      unsubd = true;\n      return doUnsub();\n    };\n    doUnsub = obs.dispatcher.subscribe(function (event) {\n      return afterTransaction(obs, function () {\n        if (!unsubd) {\n          var reply = sink(event);\n          if (reply === Bacon.noMore) {\n            return unsub();\n          }\n        }\n      });\n    });\n    if (shouldUnsub) {\n      doUnsub();\n    }\n    return unsub;\n  };\n\n  var hasWaiters = function () {\n    return waiterObs.length > 0;\n  };\n\n  return { whenDoneWith: whenDoneWith, hasWaiters: hasWaiters, inTransaction: inTransaction, currentEventId: currentEventId, wrappedSubscribe: wrappedSubscribe, afterTransaction: afterTransaction };\n})();\n\nfunction Source(obs, sync) {\n  var lazy = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];\n\n  this.obs = obs;\n  this.sync = sync;\n  this.lazy = lazy;\n  this.queue = [];\n}\n\nextend(Source.prototype, {\n  _isSource: true,\n\n  subscribe: function (sink) {\n    return this.obs.dispatcher.subscribe(sink);\n  },\n  toString: function () {\n    return this.obs.toString();\n  },\n  markEnded: function () {\n    this.ended = true;\n    return true;\n  },\n  consume: function () {\n    if (this.lazy) {\n      return { value: _.always(this.queue[0]) };\n    } else {\n      return this.queue[0];\n    }\n  },\n  push: function (x) {\n    this.queue = [x];\n    return [x];\n  },\n  mayHave: function () {\n    return true;\n  },\n  hasAtLeast: function () {\n    return this.queue.length;\n  },\n  flatten: true\n});\n\nfunction ConsumingSource() {\n  Source.apply(this, arguments);\n}\n\ninherit(ConsumingSource, Source);\nextend(ConsumingSource.prototype, {\n  consume: function () {\n    return this.queue.shift();\n  },\n  push: function (x) {\n    return this.queue.push(x);\n  },\n  mayHave: function (c) {\n    return !this.ended || this.queue.length >= c;\n  },\n  hasAtLeast: function (c) {\n    return this.queue.length >= c;\n  },\n  flatten: false\n});\n\nfunction BufferingSource(obs) {\n  Source.call(this, obs, true);\n}\n\ninherit(BufferingSource, Source);\nextend(BufferingSource.prototype, {\n  consume: function () {\n    var values = this.queue;\n    this.queue = [];\n    return {\n      value: function () {\n        return values;\n      }\n    };\n  },\n  push: function (x) {\n    return this.queue.push(x.value());\n  },\n  hasAtLeast: function () {\n    return true;\n  }\n});\n\nSource.isTrigger = function (s) {\n  if (s != null ? s._isSource : void 0) {\n    return s.sync;\n  } else {\n    return s != null ? s._isEventStream : void 0;\n  }\n};\n\nSource.fromObservable = function (s) {\n  if (s != null ? s._isSource : void 0) {\n    return s;\n  } else if (s != null ? s._isProperty : void 0) {\n    return new Source(s, false);\n  } else {\n    return new ConsumingSource(s, true);\n  }\n};\n\nfunction Desc(context, method, args) {\n  this.context = context;\n  this.method = method;\n  this.args = args;\n}\n\nextend(Desc.prototype, {\n  _isDesc: true,\n  deps: function () {\n    if (!this.cached) {\n      this.cached = findDeps([this.context].concat(this.args));\n    }\n    return this.cached;\n  },\n  toString: function () {\n    return _.toString(this.context) + \".\" + _.toString(this.method) + \"(\" + _.map(_.toString, this.args) + \")\";\n  }\n});\n\nvar describe = function (context, method) {\n  var ref = context || method;\n  if (ref && ref._isDesc) {\n    return context || method;\n  } else {\n    for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    return new Desc(context, method, args);\n  }\n};\n\nvar withDesc = function (desc, obs) {\n  obs.desc = desc;\n  return obs;\n};\n\nvar findDeps = function (x) {\n  if (isArray(x)) {\n    return _.flatMap(findDeps, x);\n  } else if (isObservable(x)) {\n    return [x];\n  } else if (typeof x !== \"undefined\" && x !== null ? x._isSource : undefined) {\n    return [x.obs];\n  } else {\n    return [];\n  }\n};\n\nBacon.Desc = Desc;\nBacon.Desc.empty = new Bacon.Desc(\"\", \"\", []);\n\nvar withMethodCallSupport = function (wrapped) {\n  return function (f) {\n    for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    if (typeof f === \"object\" && args.length) {\n      var context = f;\n      var methodName = args[0];\n      f = function () {\n        return context[methodName].apply(context, arguments);\n      };\n      args = args.slice(1);\n    }\n    return wrapped.apply(undefined, [f].concat(args));\n  };\n};\n\nvar makeFunctionArgs = function (args) {\n  args = Array.prototype.slice.call(args);\n  return makeFunction_.apply(undefined, args);\n};\n\nvar partiallyApplied = function (f, applied) {\n  return function () {\n    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return f.apply(undefined, applied.concat(args));\n  };\n};\n\nvar toSimpleExtractor = function (args) {\n  return function (key) {\n    return function (value) {\n      if (!(typeof value !== \"undefined\" && value !== null)) {\n        return;\n      } else {\n        var fieldValue = value[key];\n        if (_.isFunction(fieldValue)) {\n          return fieldValue.apply(value, args);\n        } else {\n          return fieldValue;\n        }\n      }\n    };\n  };\n};\n\nvar toFieldExtractor = function (f, args) {\n  var parts = f.slice(1).split(\".\");\n  var partFuncs = _.map(toSimpleExtractor(args), parts);\n  return function (value) {\n    for (var i = 0, f; i < partFuncs.length; i++) {\n      f = partFuncs[i];\n      value = f(value);\n    }\n    return value;\n  };\n};\n\nvar isFieldKey = function (f) {\n  return typeof f === \"string\" && f.length > 1 && f.charAt(0) === \".\";\n};\n\nvar makeFunction_ = withMethodCallSupport(function (f) {\n  for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    args[_key4 - 1] = arguments[_key4];\n  }\n\n  if (_.isFunction(f)) {\n    if (args.length) {\n      return partiallyApplied(f, args);\n    } else {\n      return f;\n    }\n  } else if (isFieldKey(f)) {\n    return toFieldExtractor(f, args);\n  } else {\n    return _.always(f);\n  }\n});\n\nvar makeFunction = function (f, args) {\n  return makeFunction_.apply(undefined, [f].concat(args));\n};\n\nvar convertArgsToFunction = function (obs, f, args, method) {\n  if (typeof f !== \"undefined\" && f !== null ? f._isProperty : undefined) {\n    var sampled = f.sampledBy(obs, function (p, s) {\n      return [p, s];\n    });\n    return method.call(sampled, function (_ref) {\n      var p = _ref[0];\n      var s = _ref[1];\n      return p;\n    }).map(function (_ref2) {\n      var p = _ref2[0];\n      var s = _ref2[1];\n      return s;\n    });\n  } else {\n    f = makeFunction(f, args);\n    return method.call(obs, f);\n  }\n};\n\nvar toCombinator = function (f) {\n  if (_.isFunction(f)) {\n    return f;\n  } else if (isFieldKey(f)) {\n    var key = toFieldKey(f);\n    return function (left, right) {\n      return left[key](right);\n    };\n  } else {\n    throw new Exception(\"not a function or a field key: \" + f);\n  }\n};\n\nvar toFieldKey = function (f) {\n  return f.slice(1);\n};\n\nfunction Some(value) {\n  this.value = value;\n}\n\nextend(Some.prototype, {\n  _isSome: true,\n  getOrElse: function () {\n    return this.value;\n  },\n  get: function () {\n    return this.value;\n  },\n  filter: function (f) {\n    if (f(this.value)) {\n      return new Some(this.value);\n    } else {\n      return None;\n    }\n  },\n  map: function (f) {\n    return new Some(f(this.value));\n  },\n  forEach: function (f) {\n    return f(this.value);\n  },\n  isDefined: true,\n  toArray: function () {\n    return [this.value];\n  },\n  inspect: function () {\n    return \"Some(\" + this.value + \")\";\n  },\n  toString: function () {\n    return this.inspect();\n  }\n});\n\nvar None = {\n  _isNone: true,\n  getOrElse: function (value) {\n    return value;\n  },\n  filter: function () {\n    return None;\n  },\n  map: function () {\n    return None;\n  },\n  forEach: function () {},\n  isDefined: false,\n  toArray: function () {\n    return [];\n  },\n  inspect: function () {\n    return \"None\";\n  },\n  toString: function () {\n    return this.inspect();\n  }\n};\n\nvar toOption = function (v) {\n  if ((typeof v !== \"undefined\" && v !== null ? v._isSome : undefined) || (typeof v !== \"undefined\" && v !== null ? v._isNone : undefined)) {\n    return v;\n  } else {\n    return new Some(v);\n  }\n};\n\nBacon.noMore = \"<no-more>\";\nBacon.more = \"<more>\";\n\nvar eventIdCounter = 0;\n\nfunction Event() {\n  this.id = ++eventIdCounter;\n}\n\nEvent.prototype._isEvent = true;\nEvent.prototype.isEvent = function () {\n  return true;\n};\nEvent.prototype.isEnd = function () {\n  return false;\n};\nEvent.prototype.isInitial = function () {\n  return false;\n};\nEvent.prototype.isNext = function () {\n  return false;\n};\nEvent.prototype.isError = function () {\n  return false;\n};\nEvent.prototype.hasValue = function () {\n  return false;\n};\nEvent.prototype.filter = function () {\n  return true;\n};\nEvent.prototype.inspect = function () {\n  return this.toString();\n};\nEvent.prototype.log = function () {\n  return this.toString();\n};\n\nfunction Next(valueF, eager) {\n  if (!(this instanceof Next)) {\n    return new Next(valueF, eager);\n  }\n\n  Event.call(this);\n\n  if (!eager && _.isFunction(valueF) || (valueF != null ? valueF._isNext : void 0)) {\n    this.valueF = valueF;\n    this.valueInternal = void 0;\n  } else {\n    this.valueF = void 0;\n    this.valueInternal = valueF;\n  }\n}\n\ninherit(Next, Event);\n\nNext.prototype.isNext = function () {\n  return true;\n};\nNext.prototype.hasValue = function () {\n  return true;\n};\nNext.prototype.value = function () {\n  var ref;\n  if ((ref = this.valueF) != null ? ref._isNext : void 0) {\n    this.valueInternal = this.valueF.value();\n    this.valueF = void 0;\n  } else if (this.valueF) {\n    this.valueInternal = this.valueF();\n    this.valueF = void 0;\n  }\n  return this.valueInternal;\n};\n\nNext.prototype.fmap = function (f) {\n  var event, value;\n  if (this.valueInternal) {\n    value = this.valueInternal;\n    return this.apply(function () {\n      return f(value);\n    });\n  } else {\n    event = this;\n    return this.apply(function () {\n      return f(event.value());\n    });\n  }\n};\n\nNext.prototype.apply = function (value) {\n  return new Next(value);\n};\nNext.prototype.filter = function (f) {\n  return f(this.value());\n};\nNext.prototype.toString = function () {\n  return _.toString(this.value());\n};\nNext.prototype.log = function () {\n  return this.value();\n};\nNext.prototype._isNext = true;\n\nfunction Initial(valueF, eager) {\n  if (!(this instanceof Initial)) {\n    return new Initial(valueF, eager);\n  }\n  Next.call(this, valueF, eager);\n}\n\ninherit(Initial, Next);\nInitial.prototype._isInitial = true;\nInitial.prototype.isInitial = function () {\n  return true;\n};\nInitial.prototype.isNext = function () {\n  return false;\n};\nInitial.prototype.apply = function (value) {\n  return new Initial(value);\n};\nInitial.prototype.toNext = function () {\n  return new Next(this);\n};\n\nfunction End() {\n  if (!(this instanceof End)) {\n    return new End();\n  }\n  Event.call(this);\n}\n\ninherit(End, Event);\nEnd.prototype.isEnd = function () {\n  return true;\n};\nEnd.prototype.fmap = function () {\n  return this;\n};\nEnd.prototype.apply = function () {\n  return this;\n};\nEnd.prototype.toString = function () {\n  return \"<end>\";\n};\n\nfunction Error(error) {\n  if (!(this instanceof Error)) {\n    return new Error(error);\n  }\n  this.error = error;\n  Event.call(this);\n}\n\ninherit(Error, Event);\nError.prototype.isError = function () {\n  return true;\n};\nError.prototype.fmap = function () {\n  return this;\n};\nError.prototype.apply = function () {\n  return this;\n};\nError.prototype.toString = function () {\n  return \"<error> \" + _.toString(this.error);\n};\n\nBacon.Event = Event;\nBacon.Initial = Initial;\nBacon.Next = Next;\nBacon.End = End;\nBacon.Error = Error;\n\nvar initialEvent = function (value) {\n  return new Initial(value, true);\n};\nvar nextEvent = function (value) {\n  return new Next(value, true);\n};\nvar endEvent = function () {\n  return new End();\n};\nvar toEvent = function (x) {\n  if (x && x._isEvent) {\n    return x;\n  } else {\n    return nextEvent(x);\n  }\n};\n\nvar idCounter = 0;\nvar registerObs = function () {};\n\nfunction Observable(desc) {\n  this.desc = desc;\n  this.id = ++idCounter;\n  this.initialDesc = this.desc;\n}\n\nextend(Observable.prototype, {\n  _isObservable: true,\n\n  subscribe: function (sink) {\n    return UpdateBarrier.wrappedSubscribe(this, sink);\n  },\n\n  subscribeInternal: function (sink) {\n    return this.dispatcher.subscribe(sink);\n  },\n\n  onValue: function () {\n    var f = makeFunctionArgs(arguments);\n    return this.subscribe(function (event) {\n      if (event.hasValue()) {\n        return f(event.value());\n      }\n    });\n  },\n\n  onValues: function (f) {\n    return this.onValue(function (args) {\n      return f.apply(undefined, args);\n    });\n  },\n\n  onError: function () {\n    var f = makeFunctionArgs(arguments);\n    return this.subscribe(function (event) {\n      if (event.isError()) {\n        return f(event.error);\n      }\n    });\n  },\n\n  onEnd: function () {\n    var f = makeFunctionArgs(arguments);\n    return this.subscribe(function (event) {\n      if (event.isEnd()) {\n        return f();\n      }\n    });\n  },\n\n  name: function (name) {\n    this._name = name;\n    return this;\n  },\n\n  withDescription: function () {\n    this.desc = describe.apply(undefined, arguments);\n    return this;\n  },\n\n  toString: function () {\n    if (this._name) {\n      return this._name;\n    } else {\n      return this.desc.toString();\n    }\n  },\n\n  deps: function () {\n    return this.desc.deps();\n  },\n\n  internalDeps: function () {\n    return this.initialDesc.deps();\n  }\n});\n\nObservable.prototype.assign = Observable.prototype.onValue;\nObservable.prototype.forEach = Observable.prototype.onValue;\nObservable.prototype.inspect = Observable.prototype.toString;\n\nBacon.Observable = Observable;\n\nfunction CompositeUnsubscribe() {\n  var ss = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n  this.unsubscribe = _.bind(this.unsubscribe, this);\n  this.unsubscribed = false;\n  this.subscriptions = [];\n  this.starting = [];\n  for (var i = 0, s; i < ss.length; i++) {\n    s = ss[i];\n    this.add(s);\n  }\n}\n\nextend(CompositeUnsubscribe.prototype, {\n  add: function (subscription) {\n    var _this2 = this;\n\n    if (this.unsubscribed) {\n      return;\n    }\n    var ended = false;\n    var unsub = nop;\n    this.starting.push(subscription);\n    var unsubMe = function () {\n      if (_this2.unsubscribed) {\n        return;\n      }\n      ended = true;\n      _this2.remove(unsub);\n      return _.remove(subscription, _this2.starting);\n    };\n    unsub = subscription(this.unsubscribe, unsubMe);\n    if (!(this.unsubscribed || ended)) {\n      this.subscriptions.push(unsub);\n    } else {\n      unsub();\n    }\n    _.remove(subscription, this.starting);\n    return unsub;\n  },\n\n  remove: function (unsub) {\n    if (this.unsubscribed) {\n      return;\n    }\n    if (_.remove(unsub, this.subscriptions) !== undefined) {\n      return unsub();\n    }\n  },\n\n  unsubscribe: function () {\n    if (this.unsubscribed) {\n      return;\n    }\n    this.unsubscribed = true;\n    var iterable = this.subscriptions;\n    for (var i = 0; i < iterable.length; i++) {\n      iterable[i]();\n    }\n    this.subscriptions = [];\n    this.starting = [];\n    return [];\n  },\n\n  count: function () {\n    if (this.unsubscribed) {\n      return 0;\n    }\n    return this.subscriptions.length + this.starting.length;\n  },\n\n  empty: function () {\n    return this.count() === 0;\n  }\n});\n\nBacon.CompositeUnsubscribe = CompositeUnsubscribe;\n\nfunction Dispatcher(_subscribe, _handleEvent) {\n  this._subscribe = _subscribe;\n  this._handleEvent = _handleEvent;\n  this.subscribe = _.bind(this.subscribe, this);\n  this.handleEvent = _.bind(this.handleEvent, this);\n  this.pushing = false;\n  this.ended = false;\n  this.prevError = undefined;\n  this.unsubSrc = undefined;\n  this.subscriptions = [];\n  this.queue = [];\n}\n\nDispatcher.prototype.hasSubscribers = function () {\n  return this.subscriptions.length > 0;\n};\n\nDispatcher.prototype.removeSub = function (subscription) {\n  this.subscriptions = _.without(subscription, this.subscriptions);\n  return this.subscriptions;\n};\n\nDispatcher.prototype.push = function (event) {\n  if (event.isEnd()) {\n    this.ended = true;\n  }\n  return UpdateBarrier.inTransaction(event, this, this.pushIt, [event]);\n};\n\nDispatcher.prototype.pushToSubscriptions = function (event) {\n  try {\n    var tmp = this.subscriptions;\n    var len = tmp.length;\n    for (var i = 0; i < len; i++) {\n      var sub = tmp[i];\n      var reply = sub.sink(event);\n      if (reply === Bacon.noMore || event.isEnd()) {\n        this.removeSub(sub);\n      }\n    }\n    return true;\n  } catch (error) {\n    this.pushing = false;\n    this.queue = [];\n    throw error;\n  }\n};\n\nDispatcher.prototype.pushIt = function (event) {\n  if (!this.pushing) {\n    if (event === this.prevError) {\n      return;\n    }\n    if (event.isError()) {\n      this.prevError = event;\n    }\n    this.pushing = true;\n    this.pushToSubscriptions(event);\n    this.pushing = false;\n    while (this.queue.length) {\n      event = this.queue.shift();\n      this.push(event);\n    }\n    if (this.hasSubscribers()) {\n      return Bacon.more;\n    } else {\n      this.unsubscribeFromSource();\n      return Bacon.noMore;\n    }\n  } else {\n    this.queue.push(event);\n    return Bacon.more;\n  }\n};\n\nDispatcher.prototype.handleEvent = function (event) {\n  if (this._handleEvent) {\n    return this._handleEvent(event);\n  } else {\n    return this.push(event);\n  }\n};\n\nDispatcher.prototype.unsubscribeFromSource = function () {\n  if (this.unsubSrc) {\n    this.unsubSrc();\n  }\n  this.unsubSrc = undefined;\n};\n\nDispatcher.prototype.subscribe = function (sink) {\n  var subscription;\n  if (this.ended) {\n    sink(endEvent());\n    return nop;\n  } else {\n    assertFunction(sink);\n    subscription = {\n      sink: sink\n    };\n    this.subscriptions.push(subscription);\n    if (this.subscriptions.length === 1) {\n      this.unsubSrc = this._subscribe(this.handleEvent);\n      assertFunction(this.unsubSrc);\n    }\n    return (function (_this) {\n      return function () {\n        _this.removeSub(subscription);\n        if (!_this.hasSubscribers()) {\n          return _this.unsubscribeFromSource();\n        }\n      };\n    })(this);\n  }\n};\n\nBacon.Dispatcher = Dispatcher;\n\nfunction EventStream(desc, subscribe, handler) {\n  if (!(this instanceof EventStream)) {\n    return new EventStream(desc, subscribe, handler);\n  }\n  if (_.isFunction(desc)) {\n    handler = subscribe;\n    subscribe = desc;\n    desc = Desc.empty;\n  }\n  Observable.call(this, desc);\n  assertFunction(subscribe);\n  this.dispatcher = new Dispatcher(subscribe, handler);\n  registerObs(this);\n}\n\ninherit(EventStream, Observable);\nextend(EventStream.prototype, {\n  _isEventStream: true,\n\n  toProperty: function (initValue_) {\n    var initValue = arguments.length === 0 ? None : toOption(function () {\n      return initValue_;\n    });\n    var disp = this.dispatcher;\n    var desc = new Bacon.Desc(this, \"toProperty\", [initValue_]);\n    return new Property(desc, function (sink) {\n      var initSent = false;\n      var subbed = false;\n      var unsub = nop;\n      var reply = Bacon.more;\n      var sendInit = function () {\n        if (!initSent) {\n          return initValue.forEach(function (value) {\n            initSent = true;\n            reply = sink(new Initial(value));\n            if (reply === Bacon.noMore) {\n              unsub();\n              unsub = nop;\n              return nop;\n            }\n          });\n        }\n      };\n\n      unsub = disp.subscribe(function (event) {\n        if (event.hasValue()) {\n          if (event.isInitial() && !subbed) {\n            initValue = new Some(function () {\n              return event.value();\n            });\n            return Bacon.more;\n          } else {\n            if (!event.isInitial()) {\n              sendInit();\n            }\n            initSent = true;\n            initValue = new Some(event);\n            return sink(event);\n          }\n        } else {\n          if (event.isEnd()) {\n            reply = sendInit();\n          }\n          if (reply !== Bacon.noMore) {\n            return sink(event);\n          }\n        }\n      });\n      subbed = true;\n      sendInit();\n      return unsub;\n    });\n  },\n\n  toEventStream: function () {\n    return this;\n  },\n\n  withHandler: function (handler) {\n    return new EventStream(new Bacon.Desc(this, \"withHandler\", [handler]), this.dispatcher.subscribe, handler);\n  }\n});\n\nBacon.EventStream = EventStream;\n\nBacon.never = function () {\n  return new EventStream(describe(Bacon, \"never\"), function (sink) {\n    sink(endEvent());\n    return nop;\n  });\n};\n\nBacon.when = function () {\n  if (arguments.length === 0) {\n    return Bacon.never();\n  }\n  var len = arguments.length;\n  var usage = \"when: expecting arguments in the form (Observable+,function)+\";\n\n  assert(usage, len % 2 === 0);\n  var sources = [];\n  var pats = [];\n  var i = 0;\n  var patterns = [];\n  while (i < len) {\n    patterns[i] = arguments[i];\n    patterns[i + 1] = arguments[i + 1];\n    var patSources = _.toArray(arguments[i]);\n    var f = constantToFunction(arguments[i + 1]);\n    var pat = { f: f, ixs: [] };\n    var triggerFound = false;\n    for (var j = 0, s; j < patSources.length; j++) {\n      s = patSources[j];\n      var index = _.indexOf(sources, s);\n      if (!triggerFound) {\n        triggerFound = Source.isTrigger(s);\n      }\n      if (index < 0) {\n        sources.push(s);\n        index = sources.length - 1;\n      }\n      for (var k = 0, ix; k < pat.ixs.length; k++) {\n        ix = pat.ixs[k];\n        if (ix.index === index) {\n          ix.count++;\n        }\n      }\n      pat.ixs.push({ index: index, count: 1 });\n    }\n\n    assert(\"At least one EventStream required\", triggerFound || !patSources.length);\n\n    if (patSources.length > 0) {\n      pats.push(pat);\n    }\n    i = i + 2;\n  }\n\n  if (!sources.length) {\n    return Bacon.never();\n  }\n\n  sources = _.map(Source.fromObservable, sources);\n  var needsBarrier = _.any(sources, function (s) {\n    return s.flatten;\n  }) && containsDuplicateDeps(_.map(function (s) {\n    return s.obs;\n  }, sources));\n\n  var desc = new Bacon.Desc(Bacon, \"when\", patterns);\n  var resultStream = new EventStream(desc, function (sink) {\n    var triggers = [];\n    var ends = false;\n    var match = function (p) {\n      for (var i1 = 0, i; i1 < p.ixs.length; i1++) {\n        i = p.ixs[i1];\n        if (!sources[i.index].hasAtLeast(i.count)) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var cannotSync = function (source) {\n      return !source.sync || source.ended;\n    };\n    var cannotMatch = function (p) {\n      for (var i1 = 0, i; i1 < p.ixs.length; i1++) {\n        i = p.ixs[i1];\n        if (!sources[i.index].mayHave(i.count)) {\n          return true;\n        }\n      }\n    };\n    var nonFlattened = function (trigger) {\n      return !trigger.source.flatten;\n    };\n    var part = function (source) {\n      return function (unsubAll) {\n        var flushLater = function () {\n          return UpdateBarrier.whenDoneWith(resultStream, flush);\n        };\n        var flushWhileTriggers = function () {\n          if (triggers.length > 0) {\n            var reply = Bacon.more;\n            var trigger = triggers.pop();\n            for (var i1 = 0, p; i1 < pats.length; i1++) {\n              p = pats[i1];\n              if (match(p)) {\n                var events = (function () {\n                  var result = [];\n                  for (var i2 = 0, i; i2 < p.ixs.length; i2++) {\n                    i = p.ixs[i2];\n                    result.push(sources[i.index].consume());\n                  }\n                  return result;\n                })();\n                reply = sink(trigger.e.apply(function () {\n                  var _p;\n\n                  var values = (function () {\n                    var result = [];\n                    for (var i2 = 0, event; i2 < events.length; i2++) {\n                      event = events[i2];\n                      result.push(event.value());\n                    }\n                    return result;\n                  })();\n\n                  return (_p = p).f.apply(_p, values);\n                }));\n                if (triggers.length) {\n                  triggers = _.filter(nonFlattened, triggers);\n                }\n                if (reply === Bacon.noMore) {\n                  return reply;\n                } else {\n                  return flushWhileTriggers();\n                }\n              }\n            }\n          } else {\n            return Bacon.more;\n          }\n        };\n        var flush = function () {\n          var reply = flushWhileTriggers();\n          if (ends) {\n            if (_.all(sources, cannotSync) || _.all(pats, cannotMatch)) {\n              reply = Bacon.noMore;\n              sink(endEvent());\n            }\n          }\n          if (reply === Bacon.noMore) {\n            unsubAll();\n          }\n\n          return reply;\n        };\n        return source.subscribe(function (e) {\n          if (e.isEnd()) {\n            ends = true;\n            source.markEnded();\n            flushLater();\n          } else if (e.isError()) {\n            var reply = sink(e);\n          } else {\n            source.push(e);\n            if (source.sync) {\n              triggers.push({ source: source, e: e });\n              if (needsBarrier || UpdateBarrier.hasWaiters()) {\n                flushLater();\n              } else {\n                flush();\n              }\n            }\n          }\n          if (reply === Bacon.noMore) {\n            unsubAll();\n          }\n          return reply || Bacon.more;\n        });\n      };\n    };\n\n    return new Bacon.CompositeUnsubscribe((function () {\n      var result = [];\n      for (var i1 = 0, s; i1 < sources.length; i1++) {\n        s = sources[i1];\n        result.push(part(s));\n      }\n      return result;\n    })()).unsubscribe;\n  });\n  return resultStream;\n};\n\nvar containsDuplicateDeps = function (observables) {\n  var state = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];\n\n  var checkObservable = function (obs) {\n    if (_.contains(state, obs)) {\n      return true;\n    } else {\n      var deps = obs.internalDeps();\n      if (deps.length) {\n        state.push(obs);\n        return _.any(deps, checkObservable);\n      } else {\n        state.push(obs);\n        return false;\n      }\n    }\n  };\n\n  return _.any(observables, checkObservable);\n};\n\nvar constantToFunction = function (f) {\n  if (_.isFunction(f)) {\n    return f;\n  } else {\n    return _.always(f);\n  }\n};\n\nBacon.groupSimultaneous = function () {\n  for (var _len5 = arguments.length, streams = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n    streams[_key5] = arguments[_key5];\n  }\n\n  if (streams.length === 1 && isArray(streams[0])) {\n    streams = streams[0];\n  }\n  var sources = (function () {\n    var result = [];\n    for (var i = 0, s; i < streams.length; i++) {\n      s = streams[i];\n      result.push(new BufferingSource(s));\n    }\n    return result;\n  })();\n  return withDesc(new Bacon.Desc(Bacon, \"groupSimultaneous\", streams), Bacon.when(sources, function () {\n    for (var _len6 = arguments.length, xs = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      xs[_key6] = arguments[_key6];\n    }\n\n    return xs;\n  }));\n};\n\nfunction PropertyDispatcher(property, subscribe, handleEvent) {\n  Dispatcher.call(this, subscribe, handleEvent);\n  this.property = property;\n  this.subscribe = _.bind(this.subscribe, this);\n  this.current = None;\n  this.currentValueRootId = undefined;\n  this.propertyEnded = false;\n}\n\ninherit(PropertyDispatcher, Dispatcher);\nextend(PropertyDispatcher.prototype, {\n  push: function (event) {\n    if (event.isEnd()) {\n      this.propertyEnded = true;\n    }\n    if (event.hasValue()) {\n      this.current = new Some(event);\n      this.currentValueRootId = UpdateBarrier.currentEventId();\n    }\n    return Dispatcher.prototype.push.call(this, event);\n  },\n\n  maybeSubSource: function (sink, reply) {\n    if (reply === Bacon.noMore) {\n      return nop;\n    } else if (this.propertyEnded) {\n      sink(endEvent());\n      return nop;\n    } else {\n      return Dispatcher.prototype.subscribe.call(this, sink);\n    }\n  },\n\n  subscribe: function (sink) {\n    var _this3 = this;\n\n    var initSent = false;\n\n    var reply = Bacon.more;\n\n    if (this.current.isDefined && (this.hasSubscribers() || this.propertyEnded)) {\n      var dispatchingId = UpdateBarrier.currentEventId();\n      var valId = this.currentValueRootId;\n      if (!this.propertyEnded && valId && dispatchingId && dispatchingId !== valId) {\n        UpdateBarrier.whenDoneWith(this.property, function () {\n          if (_this3.currentValueRootId === valId) {\n            return sink(initialEvent(_this3.current.get().value()));\n          }\n        });\n\n        return this.maybeSubSource(sink, reply);\n      } else {\n        UpdateBarrier.inTransaction(undefined, this, function () {\n          reply = sink(initialEvent(this.current.get().value()));\n          return reply;\n        }, []);\n        return this.maybeSubSource(sink, reply);\n      }\n    } else {\n      return this.maybeSubSource(sink, reply);\n    }\n  }\n});\n\nfunction Property(desc, subscribe, handler) {\n  Observable.call(this, desc);\n  assertFunction(subscribe);\n  this.dispatcher = new PropertyDispatcher(this, subscribe, handler);\n  registerObs(this);\n}\n\ninherit(Property, Observable);\nextend(Property.prototype, {\n  _isProperty: true,\n\n  changes: function () {\n    var _this4 = this;\n\n    return new EventStream(new Bacon.Desc(this, \"changes\", []), function (sink) {\n      return _this4.dispatcher.subscribe(function (event) {\n        if (!event.isInitial()) {\n          return sink(event);\n        }\n      });\n    });\n  },\n\n  withHandler: function (handler) {\n    return new Property(new Bacon.Desc(this, \"withHandler\", [handler]), this.dispatcher.subscribe, handler);\n  },\n\n  toProperty: function () {\n    assertNoArguments(arguments);\n    return this;\n  },\n\n  toEventStream: function () {\n    var _this5 = this;\n\n    return new EventStream(new Bacon.Desc(this, \"toEventStream\", []), function (sink) {\n      return _this5.dispatcher.subscribe(function (event) {\n        if (event.isInitial()) {\n          event = event.toNext();\n        }\n        return sink(event);\n      });\n    });\n  }\n});\n\nBacon.Property = Property;\n\nBacon.constant = function (value) {\n  return new Property(new Bacon.Desc(Bacon, \"constant\", [value]), function (sink) {\n    sink(initialEvent(value));\n    sink(endEvent());\n    return nop;\n  });\n};\n\nBacon.fromBinder = function (binder) {\n  var eventTransformer = arguments.length <= 1 || arguments[1] === undefined ? _.id : arguments[1];\n\n  var desc = new Bacon.Desc(Bacon, \"fromBinder\", [binder, eventTransformer]);\n  return new EventStream(desc, function (sink) {\n    var unbound = false;\n    var shouldUnbind = false;\n    var unbind = function () {\n      if (!unbound) {\n        if (typeof unbinder !== \"undefined\" && unbinder !== null) {\n          unbinder();\n          return unbound = true;\n        } else {\n          return shouldUnbind = true;\n        }\n      }\n    };\n    var unbinder = binder(function () {\n      var ref;\n\n      for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        args[_key7] = arguments[_key7];\n      }\n\n      var value = eventTransformer.apply(this, args);\n      if (!(isArray(value) && ((ref = _.last(value)) != null ? ref._isEvent : undefined))) {\n        value = [value];\n      }\n      var reply = Bacon.more;\n      for (var i = 0, event; i < value.length; i++) {\n        event = value[i];\n        reply = sink(event = toEvent(event));\n        if (reply === Bacon.noMore || event.isEnd()) {\n          unbind();\n          return reply;\n        }\n      }\n      return reply;\n    });\n    if (shouldUnbind) {\n      unbind();\n    }\n    return unbind;\n  });\n};\n\nBacon.Observable.prototype.map = function (p) {\n  for (var _len8 = arguments.length, args = Array(_len8 > 1 ? _len8 - 1 : 0), _key8 = 1; _key8 < _len8; _key8++) {\n    args[_key8 - 1] = arguments[_key8];\n  }\n\n  return convertArgsToFunction(this, p, args, function (f) {\n    return withDesc(new Bacon.Desc(this, \"map\", [f]), this.withHandler(function (event) {\n      return this.push(event.fmap(f));\n    }));\n  });\n};\n\nvar argumentsToObservables = function (args) {\n  if (isArray(args[0])) {\n    return args[0];\n  } else {\n    return Array.prototype.slice.call(args);\n  }\n};\n\nvar argumentsToObservablesAndFunction = function (args) {\n  if (_.isFunction(args[0])) {\n    return [argumentsToObservables(Array.prototype.slice.call(args, 1)), args[0]];\n  } else {\n    return [argumentsToObservables(Array.prototype.slice.call(args, 0, args.length - 1)), _.last(args)];\n  }\n};\n\nBacon.combineAsArray = function () {\n  var streams = argumentsToObservables(arguments);\n  if (streams.length) {\n    var sources = [];\n    for (var i = 0; i < streams.length; i++) {\n      var stream = isObservable(streams[i]) ? streams[i] : Bacon.constant(streams[i]);\n      sources.push(new Source(stream, true));\n    }\n    return withDesc(new Bacon.Desc(Bacon, \"combineAsArray\", streams), Bacon.when(sources, function () {\n      for (var _len9 = arguments.length, xs = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n        xs[_key9] = arguments[_key9];\n      }\n\n      return xs;\n    }).toProperty());\n  } else {\n    return Bacon.constant([]);\n  }\n};\n\nBacon.onValues = function () {\n  return Bacon.combineAsArray(Array.prototype.slice.call(arguments, 0, arguments.length - 1)).onValues(arguments[arguments.length - 1]);\n};\n\nBacon.combineWith = function () {\n  var _argumentsToObservablesAndFunction = argumentsToObservablesAndFunction(arguments);\n\n  var streams = _argumentsToObservablesAndFunction[0];\n  var f = _argumentsToObservablesAndFunction[1];\n\n  var desc = new Bacon.Desc(Bacon, \"combineWith\", [f].concat(streams));\n  return withDesc(desc, Bacon.combineAsArray(streams).map(function (values) {\n    return f.apply(undefined, values);\n  }));\n};\n\nBacon.Observable.prototype.combine = function (other, f) {\n  var combinator = toCombinator(f);\n  var desc = new Bacon.Desc(this, \"combine\", [other, f]);\n  return withDesc(desc, Bacon.combineAsArray(this, other).map(function (values) {\n    return combinator(values[0], values[1]);\n  }));\n};\n\nBacon.Observable.prototype.withStateMachine = function (initState, f) {\n  var state = initState;\n  var desc = new Bacon.Desc(this, \"withStateMachine\", [initState, f]);\n  return withDesc(desc, this.withHandler(function (event) {\n    var fromF = f(state, event);\n    var newState = fromF[0];\n    var outputs = fromF[1];\n\n    state = newState;\n    var reply = Bacon.more;\n    for (var i = 0, output; i < outputs.length; i++) {\n      output = outputs[i];\n      reply = this.push(output);\n      if (reply === Bacon.noMore) {\n        return reply;\n      }\n    }\n    return reply;\n  }));\n};\n\nvar equals = function (a, b) {\n  return a === b;\n};\n\nvar isNone = function (object) {\n  return typeof object !== \"undefined\" && object !== null ? object._isNone : false;\n};\n\nBacon.Observable.prototype.skipDuplicates = function () {\n  var isEqual = arguments.length <= 0 || arguments[0] === undefined ? equals : arguments[0];\n\n  var desc = new Bacon.Desc(this, \"skipDuplicates\", []);\n  return withDesc(desc, this.withStateMachine(None, function (prev, event) {\n    if (!event.hasValue()) {\n      return [prev, [event]];\n    } else if (event.isInitial() || isNone(prev) || !isEqual(prev.get(), event.value())) {\n      return [new Some(event.value()), [event]];\n    } else {\n      return [prev, []];\n    }\n  }));\n};\n\nBacon.Observable.prototype.awaiting = function (other) {\n  var desc = new Bacon.Desc(this, \"awaiting\", [other]);\n  return withDesc(desc, Bacon.groupSimultaneous(this, other).map(function (values) {\n    return values[1].length === 0;\n  }).toProperty(false).skipDuplicates());\n};\n\nBacon.Observable.prototype.not = function () {\n  return withDesc(new Bacon.Desc(this, \"not\", []), this.map(function (x) {\n    return !x;\n  }));\n};\n\nBacon.Property.prototype.and = function (other) {\n  return withDesc(new Bacon.Desc(this, \"and\", [other]), this.combine(other, function (x, y) {\n    return x && y;\n  }));\n};\n\nBacon.Property.prototype.or = function (other) {\n  return withDesc(new Bacon.Desc(this, \"or\", [other]), this.combine(other, function (x, y) {\n    return x || y;\n  }));\n};\n\nBacon.scheduler = {\n  setTimeout: function (f, d) {\n    return setTimeout(f, d);\n  },\n  setInterval: function (f, i) {\n    return setInterval(f, i);\n  },\n  clearInterval: function (id) {\n    return clearInterval(id);\n  },\n  clearTimeout: function (id) {\n    return clearTimeout(id);\n  },\n  now: function () {\n    return new Date().getTime();\n  }\n};\n\nBacon.EventStream.prototype.bufferWithTime = function (delay) {\n  return withDesc(new Bacon.Desc(this, \"bufferWithTime\", [delay]), this.bufferWithTimeOrCount(delay, Number.MAX_VALUE));\n};\n\nBacon.EventStream.prototype.bufferWithCount = function (count) {\n  return withDesc(new Bacon.Desc(this, \"bufferWithCount\", [count]), this.bufferWithTimeOrCount(undefined, count));\n};\n\nBacon.EventStream.prototype.bufferWithTimeOrCount = function (delay, count) {\n  var flushOrSchedule = function (buffer) {\n    if (buffer.values.length === count) {\n      return buffer.flush();\n    } else if (delay !== undefined) {\n      return buffer.schedule();\n    }\n  };\n  var desc = new Bacon.Desc(this, \"bufferWithTimeOrCount\", [delay, count]);\n  return withDesc(desc, this.buffer(delay, flushOrSchedule, flushOrSchedule));\n};\n\nBacon.EventStream.prototype.buffer = function (delay) {\n  var onInput = arguments.length <= 1 || arguments[1] === undefined ? nop : arguments[1];\n  var onFlush = arguments.length <= 2 || arguments[2] === undefined ? nop : arguments[2];\n\n  var buffer = {\n    scheduled: null,\n    end: undefined,\n    values: [],\n    flush: function () {\n      if (this.scheduled) {\n        Bacon.scheduler.clearTimeout(this.scheduled);\n        this.scheduled = null;\n      }\n      if (this.values.length > 0) {\n        var valuesToPush = this.values;\n        this.values = [];\n        var reply = this.push(nextEvent(valuesToPush));\n        if (this.end != null) {\n          return this.push(this.end);\n        } else if (reply !== Bacon.noMore) {\n          return onFlush(this);\n        }\n      } else {\n        if (this.end != null) {\n          return this.push(this.end);\n        }\n      }\n    },\n    schedule: function () {\n      var _this6 = this;\n\n      if (!this.scheduled) {\n        return this.scheduled = delay(function () {\n          return _this6.flush();\n        });\n      }\n    }\n  };\n  var reply = Bacon.more;\n  if (!_.isFunction(delay)) {\n    var delayMs = delay;\n    delay = function (f) {\n      return Bacon.scheduler.setTimeout(f, delayMs);\n    };\n  }\n  return withDesc(new Bacon.Desc(this, \"buffer\", []), this.withHandler(function (event) {\n    var _this7 = this;\n\n    buffer.push = function (event) {\n      return _this7.push(event);\n    };\n    if (event.isError()) {\n      reply = this.push(event);\n    } else if (event.isEnd()) {\n      buffer.end = event;\n      if (!buffer.scheduled) {\n        buffer.flush();\n      }\n    } else {\n      buffer.values.push(event.value());\n\n      onInput(buffer);\n    }\n    return reply;\n  }));\n};\n\nBacon.Observable.prototype.filter = function (f) {\n  assertObservableIsProperty(f);\n\n  for (var _len10 = arguments.length, args = Array(_len10 > 1 ? _len10 - 1 : 0), _key10 = 1; _key10 < _len10; _key10++) {\n    args[_key10 - 1] = arguments[_key10];\n  }\n\n  return convertArgsToFunction(this, f, args, function (f) {\n    return withDesc(new Bacon.Desc(this, \"filter\", [f]), this.withHandler(function (event) {\n      if (event.filter(f)) {\n        return this.push(event);\n      } else {\n        return Bacon.more;\n      }\n    }));\n  });\n};\n\nBacon.once = function (value) {\n  return new EventStream(new Desc(Bacon, \"once\", [value]), function (sink) {\n    sink(toEvent(value));\n    sink(endEvent());\n    return nop;\n  });\n};\n\nBacon.EventStream.prototype.concat = function (right) {\n  var left = this;\n  return new EventStream(new Bacon.Desc(left, \"concat\", [right]), function (sink) {\n    var unsubRight = nop;\n    var unsubLeft = left.dispatcher.subscribe(function (e) {\n      if (e.isEnd()) {\n        unsubRight = right.toEventStream().dispatcher.subscribe(sink);\n        return unsubRight;\n      } else {\n        return sink(e);\n      }\n    });\n    return function () {\n      return unsubLeft(), unsubRight();\n    };\n  });\n};\n\nBacon.Property.prototype.concat = function (right) {\n  return addPropertyInitValueToStream(this, this.changes().concat(right));\n};\n\nBacon.concatAll = function () {\n  var streams = argumentsToObservables(arguments);\n  if (streams.length) {\n    return withDesc(new Bacon.Desc(Bacon, \"concatAll\", streams), _.fold(_.tail(streams), _.head(streams).toEventStream(), function (a, b) {\n      return a.concat(b);\n    }));\n  } else {\n    return Bacon.never();\n  }\n};\n\nvar addPropertyInitValueToStream = function (property, stream) {\n  var justInitValue = new EventStream(describe(property, \"justInitValue\"), function (sink) {\n    var value = undefined;\n    var unsub = property.dispatcher.subscribe(function (event) {\n      if (!event.isEnd()) {\n        value = event;\n      }\n      return Bacon.noMore;\n    });\n    UpdateBarrier.whenDoneWith(justInitValue, function () {\n      if (typeof value !== \"undefined\" && value !== null) {\n        sink(value);\n      }\n      return sink(endEvent());\n    });\n    return unsub;\n  });\n  return justInitValue.concat(stream).toProperty();\n};\n\nBacon.Observable.prototype.flatMap = function () {\n  return flatMap_(this, makeSpawner(arguments));\n};\n\nBacon.Observable.prototype.flatMapFirst = function () {\n  return flatMap_(this, makeSpawner(arguments), true);\n};\n\nvar makeSpawner = function (args) {\n  if (args.length === 1 && isObservable(args[0])) {\n    return _.always(args[0]);\n  } else {\n    return makeFunctionArgs(args);\n  }\n};\n\nvar makeObservable = function (x) {\n  if (isObservable(x)) {\n    return x;\n  } else {\n    return Bacon.once(x);\n  }\n};\n\nvar flatMap_ = function (root, f, firstOnly, limit) {\n  var rootDep = [root];\n  var childDeps = [];\n  var desc = new Bacon.Desc(root, \"flatMap\" + (firstOnly ? \"First\" : \"\"), [f]);\n  var result = new EventStream(desc, function (sink) {\n    var composite = new CompositeUnsubscribe();\n    var queue = [];\n    var spawn = function (event) {\n      var child = makeObservable(f(event.value()));\n      childDeps.push(child);\n      return composite.add(function (unsubAll, unsubMe) {\n        return child.dispatcher.subscribe(function (event) {\n          if (event.isEnd()) {\n            _.remove(child, childDeps);\n            checkQueue();\n            checkEnd(unsubMe);\n            return Bacon.noMore;\n          } else {\n            if (typeof event !== \"undefined\" && event !== null ? event._isInitial : undefined) {\n              event = event.toNext();\n            }\n            var reply = sink(event);\n            if (reply === Bacon.noMore) {\n              unsubAll();\n            }\n            return reply;\n          }\n        });\n      });\n    };\n    var checkQueue = function () {\n      var event = queue.shift();\n      if (event) {\n        return spawn(event);\n      }\n    };\n    var checkEnd = function (unsub) {\n      unsub();\n      if (composite.empty()) {\n        return sink(endEvent());\n      }\n    };\n    composite.add(function (__, unsubRoot) {\n      return root.dispatcher.subscribe(function (event) {\n        if (event.isEnd()) {\n          return checkEnd(unsubRoot);\n        } else if (event.isError()) {\n          return sink(event);\n        } else if (firstOnly && composite.count() > 1) {\n          return Bacon.more;\n        } else {\n          if (composite.unsubscribed) {\n            return Bacon.noMore;\n          }\n          if (limit && composite.count() > limit) {\n            return queue.push(event);\n          } else {\n            return spawn(event);\n          }\n        }\n      });\n    });\n    return composite.unsubscribe;\n  });\n  result.internalDeps = function () {\n    if (childDeps.length) {\n      return rootDep.concat(childDeps);\n    } else {\n      return rootDep;\n    }\n  };\n  return result;\n};\n\nBacon.Observable.prototype.flatMapWithConcurrencyLimit = function (limit) {\n  for (var _len11 = arguments.length, args = Array(_len11 > 1 ? _len11 - 1 : 0), _key11 = 1; _key11 < _len11; _key11++) {\n    args[_key11 - 1] = arguments[_key11];\n  }\n\n  var desc = new Bacon.Desc(this, \"flatMapWithConcurrencyLimit\", [limit].concat(args));\n  return withDesc(desc, flatMap_(this, makeSpawner(args), false, limit));\n};\n\nBacon.Observable.prototype.flatMapConcat = function () {\n  var desc = new Bacon.Desc(this, \"flatMapConcat\", Array.prototype.slice.call(arguments, 0));\n  return withDesc(desc, this.flatMapWithConcurrencyLimit.apply(this, [1].concat(_slice.call(arguments))));\n};\n\nBacon.later = function (delay, value) {\n  return withDesc(new Bacon.Desc(Bacon, \"later\", [delay, value]), Bacon.fromBinder(function (sink) {\n    var sender = function () {\n      return sink([value, endEvent()]);\n    };\n    var id = Bacon.scheduler.setTimeout(sender, delay);\n    return function () {\n      return Bacon.scheduler.clearTimeout(id);\n    };\n  }));\n};\n\nBacon.Observable.prototype.bufferingThrottle = function (minimumInterval) {\n  var desc = new Bacon.Desc(this, \"bufferingThrottle\", [minimumInterval]);\n  return withDesc(desc, this.flatMapConcat(function (x) {\n    return Bacon.once(x).concat(Bacon.later(minimumInterval).filter(false));\n  }));\n};\n\nBacon.Property.prototype.bufferingThrottle = function () {\n  return Bacon.Observable.prototype.bufferingThrottle.apply(this, arguments).toProperty();\n};\n\nfunction Bus() {\n  if (!(this instanceof Bus)) {\n    return new Bus();\n  }\n\n  this.unsubAll = _.bind(this.unsubAll, this);\n  this.subscribeAll = _.bind(this.subscribeAll, this);\n  this.guardedSink = _.bind(this.guardedSink, this);\n\n  this.sink = undefined;\n  this.subscriptions = [];\n  this.ended = false;\n  EventStream.call(this, new Bacon.Desc(Bacon, \"Bus\", []), this.subscribeAll);\n}\n\ninherit(Bus, EventStream);\nextend(Bus.prototype, {\n  unsubAll: function () {\n    var iterable = this.subscriptions;\n    for (var i = 0, sub; i < iterable.length; i++) {\n      sub = iterable[i];\n      if (typeof sub.unsub === \"function\") {\n        sub.unsub();\n      }\n    }\n  },\n\n  subscribeAll: function (newSink) {\n    if (this.ended) {\n      newSink(endEvent());\n    } else {\n      this.sink = newSink;\n      var iterable = cloneArray(this.subscriptions);\n      for (var i = 0, subscription; i < iterable.length; i++) {\n        subscription = iterable[i];\n        this.subscribeInput(subscription);\n      }\n    }\n    return this.unsubAll;\n  },\n\n  guardedSink: function (input) {\n    var _this8 = this;\n\n    return function (event) {\n      if (event.isEnd()) {\n        _this8.unsubscribeInput(input);\n        return Bacon.noMore;\n      } else {\n        return _this8.sink(event);\n      }\n    };\n  },\n\n  subscribeInput: function (subscription) {\n    subscription.unsub = subscription.input.dispatcher.subscribe(this.guardedSink(subscription.input));\n    return subscription.unsub;\n  },\n\n  unsubscribeInput: function (input) {\n    var iterable = this.subscriptions;\n    for (var i = 0, sub; i < iterable.length; i++) {\n      sub = iterable[i];\n      if (sub.input === input) {\n        if (typeof sub.unsub === \"function\") {\n          sub.unsub();\n        }\n        this.subscriptions.splice(i, 1);\n        return;\n      }\n    }\n  },\n\n  plug: function (input) {\n    var _this9 = this;\n\n    assertObservable(input);\n    if (this.ended) {\n      return;\n    }\n    var sub = { input: input };\n    this.subscriptions.push(sub);\n    if (typeof this.sink !== \"undefined\") {\n      this.subscribeInput(sub);\n    }\n    return function () {\n      return _this9.unsubscribeInput(input);\n    };\n  },\n\n  end: function () {\n    this.ended = true;\n    this.unsubAll();\n    if (typeof this.sink === \"function\") {\n      return this.sink(endEvent());\n    }\n  },\n\n  push: function (value) {\n    if (!this.ended && typeof this.sink === \"function\") {\n      var rootPush = !this.pushing;\n      if (!rootPush) {\n        if (!this.pushQueue) this.pushQueue = [];\n        this.pushQueue.push(value);\n\n        return;\n      }\n      this.pushing = true;\n      try {\n        return this.sink(nextEvent(value));\n      } finally {\n        if (rootPush && this.pushQueue) {\n          var i = 0;\n          while (i < this.pushQueue.length) {\n            var value = this.pushQueue[i];\n            this.sink(nextEvent(value));\n            i++;\n          }\n          this.pushQueue = null;\n        }\n        this.pushing = false;\n      }\n    }\n  },\n\n  error: function (error) {\n    if (typeof this.sink === \"function\") {\n      return this.sink(new Error(error));\n    }\n  }\n});\n\nBacon.Bus = Bus;\n\nvar liftCallback = function (desc, wrapped) {\n  return withMethodCallSupport(function (f) {\n    var stream = partiallyApplied(wrapped, [function (values, callback) {\n      return f.apply(undefined, values.concat([callback]));\n    }]);\n\n    for (var _len12 = arguments.length, args = Array(_len12 > 1 ? _len12 - 1 : 0), _key12 = 1; _key12 < _len12; _key12++) {\n      args[_key12 - 1] = arguments[_key12];\n    }\n\n    return withDesc(new Bacon.Desc(Bacon, desc, [f].concat(args)), Bacon.combineAsArray(args).flatMap(stream));\n  });\n};\n\nBacon.fromCallback = liftCallback(\"fromCallback\", function (f) {\n  for (var _len13 = arguments.length, args = Array(_len13 > 1 ? _len13 - 1 : 0), _key13 = 1; _key13 < _len13; _key13++) {\n    args[_key13 - 1] = arguments[_key13];\n  }\n\n  return Bacon.fromBinder(function (handler) {\n    makeFunction(f, args)(handler);\n    return nop;\n  }, function (value) {\n    return [value, endEvent()];\n  });\n});\n\nBacon.fromNodeCallback = liftCallback(\"fromNodeCallback\", function (f) {\n  for (var _len14 = arguments.length, args = Array(_len14 > 1 ? _len14 - 1 : 0), _key14 = 1; _key14 < _len14; _key14++) {\n    args[_key14 - 1] = arguments[_key14];\n  }\n\n  return Bacon.fromBinder(function (handler) {\n    makeFunction(f, args)(handler);\n    return nop;\n  }, function (error, value) {\n    if (error) {\n      return [new Error(error), endEvent()];\n    }\n    return [value, endEvent()];\n  });\n});\n\nBacon.combineTemplate = function (template) {\n  function current(ctxStack) {\n    return ctxStack[ctxStack.length - 1];\n  }\n  function setValue(ctxStack, key, value) {\n    current(ctxStack)[key] = value;\n    return value;\n  }\n  function applyStreamValue(key, index) {\n    return function (ctxStack, values) {\n      setValue(ctxStack, key, values[index]);\n    };\n  }\n  function constantValue(key, value) {\n    return function (ctxStack) {\n      setValue(ctxStack, key, value);\n    };\n  }\n\n  function mkContext(template) {\n    return isArray(template) ? [] : {};\n  }\n\n  function pushContext(key, value) {\n    return function (ctxStack) {\n      var newContext = mkContext(value);\n      setValue(ctxStack, key, newContext);\n      ctxStack.push(newContext);\n    };\n  }\n\n  function containsObservables(value) {\n    if (isObservable(value)) {\n      return true;\n    } else if (value && (value.constructor == Object || value.constructor == Array)) {\n      for (var key in value) {\n        if (Object.prototype.hasOwnProperty.call(value, key)) {\n          var child = value[key];\n          if (containsObservables(child)) return true;\n        }\n      }\n    }\n  }\n\n  function compile(key, value) {\n    if (isObservable(value)) {\n      streams.push(value);\n      funcs.push(applyStreamValue(key, streams.length - 1));\n    } else if (containsObservables(value)) {\n      var popContext = function (ctxStack) {\n        ctxStack.pop();\n      };\n      funcs.push(pushContext(key, value));\n      compileTemplate(value);\n      funcs.push(popContext);\n    } else {\n      funcs.push(constantValue(key, value));\n    }\n  }\n\n  function combinator(values) {\n    var rootContext = mkContext(template);\n    var ctxStack = [rootContext];\n    for (var i = 0, f; i < funcs.length; i++) {\n      f = funcs[i];\n      f(ctxStack, values);\n    }\n    return rootContext;\n  }\n\n  function compileTemplate(template) {\n    _.each(template, compile);\n  }\n\n  var funcs = [];\n  var streams = [];\n\n  var resultProperty = containsObservables(template) ? (compileTemplate(template), Bacon.combineAsArray(streams).map(combinator)) : Bacon.constant(template);\n\n  return withDesc(new Bacon.Desc(Bacon, \"combineTemplate\", [template]), resultProperty);\n};\n\nBacon.Observable.prototype.mapEnd = function () {\n  var f = makeFunctionArgs(arguments);\n  return withDesc(new Bacon.Desc(this, \"mapEnd\", [f]), this.withHandler(function (event) {\n    if (event.isEnd()) {\n      this.push(nextEvent(f(event)));\n      this.push(endEvent());\n      return Bacon.noMore;\n    } else {\n      return this.push(event);\n    }\n  }));\n};\n\nBacon.Observable.prototype.skipErrors = function () {\n  return withDesc(new Bacon.Desc(this, \"skipErrors\", []), this.withHandler(function (event) {\n    if (event.isError()) {\n      return Bacon.more;\n    } else {\n      return this.push(event);\n    }\n  }));\n};\n\nBacon.EventStream.prototype.takeUntil = function (stopper) {\n  var endMarker = {};\n  return withDesc(new Bacon.Desc(this, \"takeUntil\", [stopper]), Bacon.groupSimultaneous(this.mapEnd(endMarker), stopper.skipErrors()).withHandler(function (event) {\n    if (!event.hasValue()) {\n      return this.push(event);\n    } else {\n      var _event$value = event.value();\n\n      var data = _event$value[0];\n      var stopper = _event$value[1];\n\n      if (stopper.length) {\n        return this.push(endEvent());\n      } else {\n        var reply = Bacon.more;\n        for (var i = 0, value; i < data.length; i++) {\n          value = data[i];\n          if (value === endMarker) {\n            reply = this.push(endEvent());\n          } else {\n            reply = this.push(nextEvent(value));\n          }\n        }\n        return reply;\n      }\n    }\n  }));\n};\n\nBacon.Property.prototype.takeUntil = function (stopper) {\n  var changes = this.changes().takeUntil(stopper);\n  return withDesc(new Bacon.Desc(this, \"takeUntil\", [stopper]), addPropertyInitValueToStream(this, changes));\n};\n\nBacon.Observable.prototype.flatMapLatest = function () {\n  var f = makeSpawner(arguments);\n  var stream = this.toEventStream();\n  return withDesc(new Bacon.Desc(this, \"flatMapLatest\", [f]), stream.flatMap(function (value) {\n    return makeObservable(f(value)).takeUntil(stream);\n  }));\n};\n\nBacon.Property.prototype.delayChanges = function (desc, f) {\n  return withDesc(desc, addPropertyInitValueToStream(this, f(this.changes())));\n};\n\nBacon.EventStream.prototype.delayChanges = function (desc, f) {\n  return withDesc(desc, f(this));\n};\n\nBacon.Observable.prototype.delay = function (delay) {\n  return this.delayChanges(new Bacon.Desc(this, \"delay\", [delay]), function (changes) {\n    return changes.flatMap(function (value) {\n      return Bacon.later(delay, value);\n    });\n  });\n};\n\nBacon.Observable.prototype.debounce = function (delay) {\n  return this.delayChanges(new Bacon.Desc(this, \"debounce\", [delay]), function (changes) {\n    return changes.flatMapLatest(function (value) {\n      return Bacon.later(delay, value);\n    });\n  });\n};\n\nBacon.Observable.prototype.debounceImmediate = function (delay) {\n  return this.delayChanges(new Bacon.Desc(this, \"debounceImmediate\", [delay]), function (changes) {\n    return changes.flatMapFirst(function (value) {\n      return Bacon.once(value).concat(Bacon.later(delay).filter(false));\n    });\n  });\n};\n\nBacon.Observable.prototype.decode = function (cases) {\n  return withDesc(new Bacon.Desc(this, \"decode\", [cases]), this.combine(Bacon.combineTemplate(cases), function (key, values) {\n    return values[key];\n  }));\n};\n\nBacon.Observable.prototype.scan = function (seed, f) {\n  var _this10 = this;\n\n  var resultProperty;\n  f = toCombinator(f);\n  var acc = toOption(seed);\n  var initHandled = false;\n  var subscribe = function (sink) {\n    var initSent = false;\n    var unsub = nop;\n    var reply = Bacon.more;\n    var sendInit = function () {\n      if (!initSent) {\n        return acc.forEach(function (value) {\n          initSent = initHandled = true;\n          reply = sink(new Initial(function () {\n            return value;\n          }));\n          if (reply === Bacon.noMore) {\n            unsub();\n            unsub = nop;\n            return unsub;\n          }\n        });\n      }\n    };\n    unsub = _this10.dispatcher.subscribe(function (event) {\n      if (event.hasValue()) {\n        if (initHandled && event.isInitial()) {\n          return Bacon.more;\n        } else {\n            if (!event.isInitial()) {\n              sendInit();\n            }\n            initSent = initHandled = true;\n            var prev = acc.getOrElse(undefined);\n            var next = f(prev, event.value());\n\n            acc = new Some(next);\n            return sink(event.apply(function () {\n              return next;\n            }));\n          }\n      } else {\n        if (event.isEnd()) {\n          reply = sendInit();\n        }\n        if (reply !== Bacon.noMore) {\n          return sink(event);\n        }\n      }\n    });\n    UpdateBarrier.whenDoneWith(resultProperty, sendInit);\n    return unsub;\n  };\n  resultProperty = new Property(new Bacon.Desc(this, \"scan\", [seed, f]), subscribe);\n  return resultProperty;\n};\n\nBacon.Observable.prototype.diff = function (start, f) {\n  f = toCombinator(f);\n  return withDesc(new Bacon.Desc(this, \"diff\", [start, f]), this.scan([start], function (prevTuple, next) {\n    return [next, f(prevTuple[0], next)];\n  }).filter(function (tuple) {\n    return tuple.length === 2;\n  }).map(function (tuple) {\n    return tuple[1];\n  }));\n};\n\nBacon.Observable.prototype.doAction = function () {\n  var f = makeFunctionArgs(arguments);\n  return withDesc(new Bacon.Desc(this, \"doAction\", [f]), this.withHandler(function (event) {\n    if (event.hasValue()) {\n      f(event.value());\n    }\n    return this.push(event);\n  }));\n};\n\nBacon.Observable.prototype.doEnd = function () {\n  var f = makeFunctionArgs(arguments);\n  return withDesc(new Bacon.Desc(this, \"doEnd\", [f]), this.withHandler(function (event) {\n    if (event.isEnd()) {\n      f();\n    }\n    return this.push(event);\n  }));\n};\n\nBacon.Observable.prototype.doError = function () {\n  var f = makeFunctionArgs(arguments);\n  return withDesc(new Bacon.Desc(this, \"doError\", [f]), this.withHandler(function (event) {\n    if (event.isError()) {\n      f(event.error);\n    }\n    return this.push(event);\n  }));\n};\n\nBacon.Observable.prototype.doLog = function () {\n  for (var _len15 = arguments.length, args = Array(_len15), _key15 = 0; _key15 < _len15; _key15++) {\n    args[_key15] = arguments[_key15];\n  }\n\n  return withDesc(new Bacon.Desc(this, \"doLog\", args), this.withHandler(function (event) {\n    if (typeof console !== \"undefined\" && console !== null && typeof console.log === \"function\") {\n      console.log.apply(console, args.concat([event.log()]));\n    }\n    return this.push(event);\n  }));\n};\n\nBacon.Observable.prototype.endOnError = function (f) {\n  if (!(typeof f !== \"undefined\" && f !== null)) {\n    f = true;\n  }\n\n  for (var _len16 = arguments.length, args = Array(_len16 > 1 ? _len16 - 1 : 0), _key16 = 1; _key16 < _len16; _key16++) {\n    args[_key16 - 1] = arguments[_key16];\n  }\n\n  return convertArgsToFunction(this, f, args, function (f) {\n    return withDesc(new Bacon.Desc(this, \"endOnError\", []), this.withHandler(function (event) {\n      if (event.isError() && f(event.error)) {\n        this.push(event);\n        return this.push(endEvent());\n      } else {\n        return this.push(event);\n      }\n    }));\n  });\n};\n\nObservable.prototype.errors = function () {\n  return withDesc(new Bacon.Desc(this, \"errors\", []), this.filter(function () {\n    return false;\n  }));\n};\n\nBacon.Observable.prototype.take = function (count) {\n  if (count <= 0) {\n    return Bacon.never();\n  }\n  return withDesc(new Bacon.Desc(this, \"take\", [count]), this.withHandler(function (event) {\n    if (!event.hasValue()) {\n      return this.push(event);\n    } else {\n      count--;\n      if (count > 0) {\n        return this.push(event);\n      } else {\n        if (count === 0) {\n          this.push(event);\n        }\n        this.push(endEvent());\n        return Bacon.noMore;\n      }\n    }\n  }));\n};\n\nBacon.Observable.prototype.first = function () {\n  return withDesc(new Bacon.Desc(this, \"first\", []), this.take(1));\n};\n\nBacon.Observable.prototype.mapError = function () {\n  var f = makeFunctionArgs(arguments);\n  return withDesc(new Bacon.Desc(this, \"mapError\", [f]), this.withHandler(function (event) {\n    if (event.isError()) {\n      return this.push(nextEvent(f(event.error)));\n    } else {\n      return this.push(event);\n    }\n  }));\n};\n\nBacon.Observable.prototype.flatMapError = function (fn) {\n  var desc = new Bacon.Desc(this, \"flatMapError\", [fn]);\n  return withDesc(desc, this.mapError(function (err) {\n    return new Error(err);\n  }).flatMap(function (x) {\n    if (x instanceof Error) {\n      return fn(x.error);\n    } else {\n      return Bacon.once(x);\n    }\n  }));\n};\n\nBacon.EventStream.prototype.flatScan = function (seed, f) {\n  var current = seed;\n  return this.flatMapConcat(function (next) {\n    return makeObservable(f(current, next)).doAction(function (updated) {\n      return current = updated;\n    });\n  }).toProperty(seed);\n};\n\nBacon.EventStream.prototype.sampledBy = function (sampler, combinator) {\n  return withDesc(new Bacon.Desc(this, \"sampledBy\", [sampler, combinator]), this.toProperty().sampledBy(sampler, combinator));\n};\n\nBacon.Property.prototype.sampledBy = function (sampler, combinator) {\n  var lazy = false;\n  if (typeof combinator !== \"undefined\" && combinator !== null) {\n    combinator = toCombinator(combinator);\n  } else {\n    lazy = true;\n    combinator = function (f) {\n      return f.value();\n    };\n  }\n  var thisSource = new Source(this, false, lazy);\n  var samplerSource = new Source(sampler, true, lazy);\n  var stream = Bacon.when([thisSource, samplerSource], combinator);\n  var result = sampler._isProperty ? stream.toProperty() : stream;\n  return withDesc(new Bacon.Desc(this, \"sampledBy\", [sampler, combinator]), result);\n};\n\nBacon.Property.prototype.sample = function (interval) {\n  return withDesc(new Bacon.Desc(this, \"sample\", [interval]), this.sampledBy(Bacon.interval(interval, {})));\n};\n\nBacon.Observable.prototype.map = function (p) {\n  if (p && p._isProperty) {\n    return p.sampledBy(this, former);\n  } else {\n    for (var _len17 = arguments.length, args = Array(_len17 > 1 ? _len17 - 1 : 0), _key17 = 1; _key17 < _len17; _key17++) {\n      args[_key17 - 1] = arguments[_key17];\n    }\n\n    return convertArgsToFunction(this, p, args, function (f) {\n      return withDesc(new Bacon.Desc(this, \"map\", [f]), this.withHandler(function (event) {\n        return this.push(event.fmap(f));\n      }));\n    });\n  }\n};\n\nBacon.Observable.prototype.fold = function (seed, f) {\n  return withDesc(new Bacon.Desc(this, \"fold\", [seed, f]), this.scan(seed, f).sampledBy(this.filter(false).mapEnd().toProperty()));\n};\n\nObservable.prototype.reduce = Observable.prototype.fold;\n\nvar eventMethods = [[\"addEventListener\", \"removeEventListener\"], [\"addListener\", \"removeListener\"], [\"on\", \"off\"], [\"bind\", \"unbind\"]];\n\nvar findHandlerMethods = function (target) {\n  var pair;\n  for (var i = 0; i < eventMethods.length; i++) {\n    pair = eventMethods[i];\n    var methodPair = [target[pair[0]], target[pair[1]]];\n    if (methodPair[0] && methodPair[1]) {\n      return methodPair;\n    }\n  }\n  for (var j = 0; j < eventMethods.length; j++) {\n    pair = eventMethods[j];\n    var addListener = target[pair[0]];\n    if (addListener) {\n      return [addListener, function () {}];\n    }\n  }\n  throw new Error(\"No suitable event methods in \" + target);\n};\n\nBacon.fromEventTarget = function (target, eventName, eventTransformer) {\n  var _findHandlerMethods = findHandlerMethods(target);\n\n  var sub = _findHandlerMethods[0];\n  var unsub = _findHandlerMethods[1];\n\n  var desc = new Bacon.Desc(Bacon, \"fromEvent\", [target, eventName]);\n  return withDesc(desc, Bacon.fromBinder(function (handler) {\n    sub.call(target, eventName, handler);\n    return function () {\n      return unsub.call(target, eventName, handler);\n    };\n  }, eventTransformer));\n};\n\nBacon.fromEvent = Bacon.fromEventTarget;\n\nBacon.fromPoll = function (delay, poll) {\n  var desc = new Bacon.Desc(Bacon, \"fromPoll\", [delay, poll]);\n  return withDesc(desc, Bacon.fromBinder(function (handler) {\n    var id = Bacon.scheduler.setInterval(handler, delay);\n    return function () {\n      return Bacon.scheduler.clearInterval(id);\n    };\n  }, poll));\n};\n\nfunction valueAndEnd(value) {\n  return [value, endEvent()];\n}\n\nBacon.fromPromise = function (promise, abort) {\n  var eventTransformer = arguments.length <= 2 || arguments[2] === undefined ? valueAndEnd : arguments[2];\n\n  return withDesc(new Bacon.Desc(Bacon, \"fromPromise\", [promise]), Bacon.fromBinder(function (handler) {\n    var bound = promise.then(handler, function (e) {\n      return handler(new Error(e));\n    });\n    if (bound && typeof bound.done === \"function\") {\n      bound.done();\n    }\n\n    if (abort) {\n      return function () {\n        if (typeof promise.abort === \"function\") {\n          return promise.abort();\n        }\n      };\n    } else {\n      return function () {};\n    }\n  }, eventTransformer));\n};\n\nBacon.Observable.prototype.groupBy = function (keyF) {\n  var limitF = arguments.length <= 1 || arguments[1] === undefined ? Bacon._.id : arguments[1];\n\n  var streams = {};\n  var src = this;\n  return src.filter(function (x) {\n    return !streams[keyF(x)];\n  }).map(function (x) {\n    var key = keyF(x);\n    var similar = src.filter(function (x) {\n      return keyF(x) === key;\n    });\n    var data = Bacon.once(x).concat(similar);\n    var limited = limitF(data, x).withHandler(function (event) {\n      this.push(event);\n      if (event.isEnd()) {\n        return delete streams[key];\n      }\n    });\n    streams[key] = limited;\n    return limited;\n  });\n};\n\nBacon.fromArray = function (values) {\n  assertArray(values);\n  if (!values.length) {\n    return withDesc(new Bacon.Desc(Bacon, \"fromArray\", values), Bacon.never());\n  } else {\n    var i = 0;\n    var stream = new EventStream(new Bacon.Desc(Bacon, \"fromArray\", [values]), function (sink) {\n      var unsubd = false;\n      var reply = Bacon.more;\n      var pushing = false;\n      var pushNeeded = false;\n      function push() {\n        pushNeeded = true;\n        if (pushing) {\n          return;\n        }\n        pushing = true;\n        while (pushNeeded) {\n          pushNeeded = false;\n          if (reply !== Bacon.noMore && !unsubd) {\n            var value = values[i++];\n            reply = sink(toEvent(value));\n            if (reply !== Bacon.noMore) {\n              if (i === values.length) {\n                sink(endEvent());\n              } else {\n                UpdateBarrier.afterTransaction(stream, push);\n              }\n            }\n          }\n        }\n        pushing = false;\n        return pushing;\n      };\n\n      push();\n      return function () {\n        unsubd = true;\n        return unsubd;\n      };\n    });\n    return stream;\n  }\n};\n\nBacon.EventStream.prototype.holdWhen = function (valve) {\n  var onHold = false;\n  var bufferedValues = [];\n  var src = this;\n  var srcIsEnded = false;\n  return new EventStream(new Bacon.Desc(this, \"holdWhen\", [valve]), function (sink) {\n    var composite = new CompositeUnsubscribe();\n    var subscribed = false;\n    var endIfBothEnded = function (unsub) {\n      if (typeof unsub === \"function\") {\n        unsub();\n      }\n      if (composite.empty() && subscribed) {\n        return sink(endEvent());\n      }\n    };\n    composite.add(function (unsubAll, unsubMe) {\n      return valve.subscribeInternal(function (event) {\n        if (event.hasValue()) {\n          onHold = event.value();\n          if (!onHold) {\n            var toSend = bufferedValues;\n            bufferedValues = [];\n            return (function () {\n              var result = [];\n              for (var i = 0, value; i < toSend.length; i++) {\n                value = toSend[i];\n                result.push(sink(nextEvent(value)));\n              }\n              if (srcIsEnded) {\n                result.push(sink(endEvent()));\n                unsubMe();\n              }\n              return result;\n            })();\n          }\n        } else if (event.isEnd()) {\n          return endIfBothEnded(unsubMe);\n        } else {\n          return sink(event);\n        }\n      });\n    });\n    composite.add(function (unsubAll, unsubMe) {\n      return src.subscribeInternal(function (event) {\n        if (onHold && event.hasValue()) {\n          return bufferedValues.push(event.value());\n        } else if (event.isEnd() && bufferedValues.length) {\n          srcIsEnded = true;\n          return endIfBothEnded(unsubMe);\n        } else {\n          return sink(event);\n        }\n      });\n    });\n    subscribed = true;\n    endIfBothEnded();\n    return composite.unsubscribe;\n  });\n};\n\nBacon.interval = function (delay) {\n  var value = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n  return withDesc(new Bacon.Desc(Bacon, \"interval\", [delay, value]), Bacon.fromPoll(delay, function () {\n    return nextEvent(value);\n  }));\n};\n\nBacon.$ = {};\nBacon.$.asEventStream = function (eventName, selector, eventTransformer) {\n  var _this11 = this;\n\n  if (_.isFunction(selector)) {\n    eventTransformer = selector;\n    selector = undefined;\n  }\n\n  return withDesc(new Bacon.Desc(this.selector || this, \"asEventStream\", [eventName]), Bacon.fromBinder(function (handler) {\n    _this11.on(eventName, selector, handler);\n    return function () {\n      return _this11.off(eventName, selector, handler);\n    };\n  }, eventTransformer));\n};\n\nif (typeof jQuery !== \"undefined\" && jQuery) {\n  jQuery.fn.asEventStream = Bacon.$.asEventStream;\n}\n\nif (typeof Zepto !== \"undefined\" && Zepto) {\n  Zepto.fn.asEventStream = Bacon.$.asEventStream;\n}\n\nBacon.Observable.prototype.last = function () {\n  var lastEvent;\n\n  return withDesc(new Bacon.Desc(this, \"last\", []), this.withHandler(function (event) {\n    if (event.isEnd()) {\n      if (lastEvent) {\n        this.push(lastEvent);\n      }\n      this.push(endEvent());\n      return Bacon.noMore;\n    } else {\n      lastEvent = event;\n    }\n  }));\n};\n\nBacon.Observable.prototype.log = function () {\n  for (var _len18 = arguments.length, args = Array(_len18), _key18 = 0; _key18 < _len18; _key18++) {\n    args[_key18] = arguments[_key18];\n  }\n\n  this.subscribe(function (event) {\n    if (typeof console !== \"undefined\" && typeof console.log === \"function\") {\n      console.log.apply(console, args.concat([event.log()]));\n    }\n  });\n  return this;\n};\n\nBacon.EventStream.prototype.merge = function (right) {\n  assertEventStream(right);\n  var left = this;\n  return withDesc(new Bacon.Desc(left, \"merge\", [right]), Bacon.mergeAll(this, right));\n};\n\nBacon.mergeAll = function () {\n  var streams = argumentsToObservables(arguments);\n  if (streams.length) {\n    return new EventStream(new Bacon.Desc(Bacon, \"mergeAll\", streams), function (sink) {\n      var ends = 0;\n      var smartSink = function (obs) {\n        return function (unsubBoth) {\n          return obs.dispatcher.subscribe(function (event) {\n            if (event.isEnd()) {\n              ends++;\n              if (ends === streams.length) {\n                return sink(endEvent());\n              } else {\n                return Bacon.more;\n              }\n            } else {\n              var reply = sink(event);\n              if (reply === Bacon.noMore) {\n                unsubBoth();\n              }\n              return reply;\n            }\n          });\n        };\n      };\n      var sinks = _.map(smartSink, streams);\n      return new Bacon.CompositeUnsubscribe(sinks).unsubscribe;\n    });\n  } else {\n    return Bacon.never();\n  }\n};\n\nBacon.repeatedly = function (delay, values) {\n  var index = 0;\n  return withDesc(new Bacon.Desc(Bacon, \"repeatedly\", [delay, values]), Bacon.fromPoll(delay, function () {\n    return values[index++ % values.length];\n  }));\n};\n\nBacon.repeat = function (generator) {\n  var index = 0;\n  return Bacon.fromBinder(function (sink) {\n    var flag = false;\n    var reply = Bacon.more;\n    var unsub = function () {};\n    function handleEvent(event) {\n      if (event.isEnd()) {\n        if (!flag) {\n          return flag = true;\n        } else {\n          return subscribeNext();\n        }\n      } else {\n        return reply = sink(event);\n      }\n    };\n    function subscribeNext() {\n      var next;\n      flag = true;\n      while (flag && reply !== Bacon.noMore) {\n        next = generator(index++);\n        flag = false;\n        if (next) {\n          unsub = next.subscribeInternal(handleEvent);\n        } else {\n          sink(endEvent());\n        }\n      }\n      return flag = true;\n    };\n    subscribeNext();\n    return function () {\n      return unsub();\n    };\n  });\n};\n\nBacon.retry = function (options) {\n  if (!_.isFunction(options.source)) {\n    throw new Exception(\"'source' option has to be a function\");\n  }\n  var source = options.source;\n  var retries = options.retries || 0;\n  var retriesDone = 0;\n  var delay = options.delay || function () {\n    return 0;\n  };\n  var isRetryable = options.isRetryable || function () {\n    return true;\n  };\n  var finished = false;\n  var error = null;\n\n  return withDesc(new Bacon.Desc(Bacon, \"retry\", [options]), Bacon.repeat(function (count) {\n    function valueStream() {\n      return source(count).endOnError().withHandler(function (event) {\n        if (event.isError()) {\n          error = event;\n          if (!(isRetryable(error.error) && (retries === 0 || retriesDone < retries))) {\n            finished = true;\n            return this.push(event);\n          }\n        } else {\n          if (event.hasValue()) {\n            error = null;\n            finished = true;\n          }\n          return this.push(event);\n        }\n      });\n    }\n\n    if (finished) {\n      return null;\n    } else if (error) {\n      var context = {\n        error: error.error,\n        retriesDone: retriesDone\n      };\n      var pause = Bacon.later(delay(context)).filter(false);\n      retriesDone++;\n      return pause.concat(Bacon.once().flatMap(valueStream));\n    } else {\n      return valueStream();\n    }\n  }));\n};\n\nBacon.sequentially = function (delay, values) {\n  var index = 0;\n  return withDesc(new Bacon.Desc(Bacon, \"sequentially\", [delay, values]), Bacon.fromPoll(delay, function () {\n    var value = values[index++];\n    if (index < values.length) {\n      return value;\n    } else if (index === values.length) {\n      return [value, endEvent()];\n    } else {\n      return endEvent();\n    }\n  }));\n};\n\nBacon.Observable.prototype.skip = function (count) {\n  return withDesc(new Bacon.Desc(this, \"skip\", [count]), this.withHandler(function (event) {\n    if (!event.hasValue()) {\n      return this.push(event);\n    } else if (count > 0) {\n      count--;\n      return Bacon.more;\n    } else {\n      return this.push(event);\n    }\n  }));\n};\n\nBacon.EventStream.prototype.skipUntil = function (starter) {\n  var started = starter.take(1).map(true).toProperty(false);\n  return withDesc(new Bacon.Desc(this, \"skipUntil\", [starter]), this.filter(started));\n};\n\nBacon.EventStream.prototype.skipWhile = function (f) {\n  assertObservableIsProperty(f);\n  var ok = false;\n\n  for (var _len19 = arguments.length, args = Array(_len19 > 1 ? _len19 - 1 : 0), _key19 = 1; _key19 < _len19; _key19++) {\n    args[_key19 - 1] = arguments[_key19];\n  }\n\n  return convertArgsToFunction(this, f, args, function (f) {\n    return withDesc(new Bacon.Desc(this, \"skipWhile\", [f]), this.withHandler(function (event) {\n      if (ok || !event.hasValue() || !f(event.value())) {\n        if (event.hasValue()) {\n          ok = true;\n        }\n        return this.push(event);\n      } else {\n        return Bacon.more;\n      }\n    }));\n  });\n};\n\nBacon.Observable.prototype.slidingWindow = function (n) {\n  var minValues = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\n  return withDesc(new Bacon.Desc(this, \"slidingWindow\", [n, minValues]), this.scan([], function (window, value) {\n    return window.concat([value]).slice(-n);\n  }).filter(function (values) {\n    return values.length >= minValues;\n  }));\n};\n\nvar spies = [];\nvar registerObs = function (obs) {\n  if (spies.length) {\n    if (!registerObs.running) {\n      try {\n        registerObs.running = true;\n        spies.forEach(function (spy) {\n          spy(obs);\n        });\n      } finally {\n        delete registerObs.running;\n      }\n    }\n  }\n};\n\nBacon.spy = function (spy) {\n  return spies.push(spy);\n};\n\nBacon.Property.prototype.startWith = function (seed) {\n  return withDesc(new Bacon.Desc(this, \"startWith\", [seed]), this.scan(seed, function (prev, next) {\n    return next;\n  }));\n};\n\nBacon.EventStream.prototype.startWith = function (seed) {\n  return withDesc(new Bacon.Desc(this, \"startWith\", [seed]), Bacon.once(seed).concat(this));\n};\n\nBacon.Observable.prototype.takeWhile = function (f) {\n  assertObservableIsProperty(f);\n\n  for (var _len20 = arguments.length, args = Array(_len20 > 1 ? _len20 - 1 : 0), _key20 = 1; _key20 < _len20; _key20++) {\n    args[_key20 - 1] = arguments[_key20];\n  }\n\n  return convertArgsToFunction(this, f, args, function (f) {\n    return withDesc(new Bacon.Desc(this, \"takeWhile\", [f]), this.withHandler(function (event) {\n      if (event.filter(f)) {\n        return this.push(event);\n      } else {\n        this.push(endEvent());\n        return Bacon.noMore;\n      }\n    }));\n  });\n};\n\nBacon.Observable.prototype.throttle = function (delay) {\n  return this.delayChanges(new Bacon.Desc(this, \"throttle\", [delay]), function (changes) {\n    return changes.bufferWithTime(delay).map(function (values) {\n      return values[values.length - 1];\n    });\n  });\n};\n\nObservable.prototype.firstToPromise = function (PromiseCtr) {\n  var _this12 = this;\n\n  if (typeof PromiseCtr !== \"function\") {\n    if (typeof Promise === \"function\") {\n      PromiseCtr = Promise;\n    } else {\n      throw new Exception(\"There isn't default Promise, use shim or parameter\");\n    }\n  }\n\n  return new PromiseCtr(function (resolve, reject) {\n    return _this12.subscribe(function (event) {\n      if (event.hasValue()) {\n        resolve(event.value());\n      }\n      if (event.isError()) {\n        reject(event.error);\n      }\n\n      return Bacon.noMore;\n    });\n  });\n};\n\nObservable.prototype.toPromise = function (PromiseCtr) {\n  return this.last().firstToPromise(PromiseCtr);\n};\n\nBacon[\"try\"] = function (f) {\n  return function (value) {\n    try {\n      return Bacon.once(f(value));\n    } catch (e) {\n      return new Bacon.Error(e);\n    }\n  };\n};\n\nBacon.update = function (initial) {\n  function lateBindFirst(f) {\n    return function () {\n      for (var _len22 = arguments.length, args = Array(_len22), _key22 = 0; _key22 < _len22; _key22++) {\n        args[_key22] = arguments[_key22];\n      }\n\n      return function (i) {\n        return f.apply(undefined, [i].concat(args));\n      };\n    };\n  }\n\n  for (var _len21 = arguments.length, patterns = Array(_len21 > 1 ? _len21 - 1 : 0), _key21 = 1; _key21 < _len21; _key21++) {\n    patterns[_key21 - 1] = arguments[_key21];\n  }\n\n  var i = patterns.length - 1;\n  while (i > 0) {\n    if (!(patterns[i] instanceof Function)) {\n      patterns[i] = _.always(patterns[i]);\n    }\n    patterns[i] = lateBindFirst(patterns[i]);\n    i = i - 2;\n  }\n  return withDesc(new Bacon.Desc(Bacon, \"update\", [initial].concat(patterns)), Bacon.when.apply(Bacon, patterns).scan(initial, function (x, f) {\n    return f(x);\n  }));\n};\n\nBacon.zipAsArray = function () {\n  for (var _len23 = arguments.length, args = Array(_len23), _key23 = 0; _key23 < _len23; _key23++) {\n    args[_key23] = arguments[_key23];\n  }\n\n  var streams = argumentsToObservables(args);\n  return withDesc(new Bacon.Desc(Bacon, \"zipAsArray\", streams), Bacon.zipWith(streams, function () {\n    for (var _len24 = arguments.length, xs = Array(_len24), _key24 = 0; _key24 < _len24; _key24++) {\n      xs[_key24] = arguments[_key24];\n    }\n\n    return xs;\n  }));\n};\n\nBacon.zipWith = function () {\n  for (var _len25 = arguments.length, args = Array(_len25), _key25 = 0; _key25 < _len25; _key25++) {\n    args[_key25] = arguments[_key25];\n  }\n\n  var observablesAndFunction = argumentsToObservablesAndFunction(args);\n  var streams = observablesAndFunction[0];\n  var f = observablesAndFunction[1];\n\n  streams = _.map(function (s) {\n    return s.toEventStream();\n  }, streams);\n  return withDesc(new Bacon.Desc(Bacon, \"zipWith\", [f].concat(streams)), Bacon.when(streams, f));\n};\n\nBacon.Observable.prototype.zip = function (other, f) {\n  return withDesc(new Bacon.Desc(this, \"zip\", [other]), Bacon.zipWith([this, other], f || Array));\n};\n\nfunction ESObservable(observable) {\n  this.observable = observable;\n}\n\nESObservable.prototype.subscribe = function (observerOrOnNext, onError, onComplete) {\n  var observer = typeof observerOrOnNext === 'function' ? { next: observerOrOnNext, error: onError, complete: onComplete } : observerOrOnNext;\n  var subscription = {\n    closed: false,\n    unsubscribe: function () {\n      subscription.closed = true;\n      cancel();\n    }\n  };\n\n  var cancel = this.observable.subscribe(function (event) {\n    if (event.isError()) {\n      if (observer.error) observer.error(event.error);\n      subscription.unsubscribe();\n    } else if (event.isEnd()) {\n      subscription.closed = true;\n      if (observer.complete) observer.complete();\n    } else if (observer.next) {\n      observer.next(event.value());\n    }\n  });\n  return subscription;\n};\n\nESObservable.prototype[symbol('observable')] = function () {\n  return this;\n};\n\nBacon.Observable.prototype.toESObservable = function () {\n  return new ESObservable(this);\n};\n\nBacon.Observable.prototype[symbol('observable')] = Bacon.Observable.prototype.toESObservable;\n\nBacon.fromESObservable = function (_observable) {\n  var observable;\n  if (_observable[symbol(\"observable\")]) {\n    observable = _observable[symbol(\"observable\")]();\n  } else {\n    observable = _observable;\n  }\n\n  var desc = new Bacon.Desc(Bacon, \"fromESObservable\", [observable]);\n  return new Bacon.EventStream(desc, function (sink) {\n    var cancel = observable.subscribe({\n      error: function () {\n        sink(new Bacon.Error());\n        sink(new Bacon.End());\n      },\n      next: function (value) {\n        sink(new Bacon.Next(value, true));\n      },\n      complete: function () {\n        sink(new Bacon.End());\n      }\n    });\n\n    if (cancel.unsubscribe) {\n      return function () {\n        cancel.unsubscribe();\n      };\n    } else {\n      return cancel;\n    }\n  });\n};\n\nif (typeof define !== \"undefined\" && define !== null && define.amd != null) {\n  define([], function () {\n    return Bacon;\n  });\n  if (typeof this !== \"undefined\" && this !== null) {\n    this.Bacon = Bacon;\n  }\n} else if (typeof module !== \"undefined\" && module !== null && module.exports != null) {\n  module.exports = Bacon;\n  Bacon.Bacon = Bacon;\n} else {\n    this.Bacon = Bacon;\n  }\n}).call(this);\n","export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nvar fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","/**\n * For documentation of this class, see docs/javascript_api.rst\n */\n\n/** @jsx h */\nimport * as utils from './utils'\nimport BuildInput from './BuildInput'\nimport ZoomContainer from './ZoomContainer'\nimport Map from './Map'\nimport CobraModel from './CobraModel'\nimport Brush from './Brush'\nimport CallbackManager from './CallbackManager'\nimport Settings from './Settings'\nimport TextEditInput from './TextEditInput'\nimport * as dataStyles from './dataStyles'\nimport renderWrapper from './renderWrapper'\nimport SettingsMenu from './SettingsMenu'\nimport MenuBar from './MenuBar'\nimport SearchBar from './SearchBar'\nimport ButtonPanel from './ButtonPanel'\nimport TooltipContainer from './TooltipContainer'\nimport DefaultTooltip from './DefaultTooltip'\nimport _ from 'underscore'\nimport {\n  select as d3Select,\n  selection as d3Selection\n} from 'd3-selection'\n\n// Include custom font set for icons\nimport '../icons/css/fontello.css'\n\n// Include GUI CSS normally with webpack\nimport './Builder.css'\n\n// Import CSS as a string to embed. This also works from lib because css/src get\n// uploaded to NPM.\n// eslint-disable-next-line import/no-webpack-loader-syntax\nimport builderEmbed from '!!raw-loader!./Builder-embed.css'\n\nclass Builder {\n  constructor(mapData, modelData, embeddedCss, selection, options) {\n    // Defaults\n    if (!selection) {\n      selection = d3Select('body').append('div')\n    } else if (selection instanceof d3Selection) {\n      // D3 V4 selection\n    } else if ('node' in selection) {\n      // If user passes in a selection from an different d3 version/instance,\n      // then reselect.\n      selection = d3Select(selection.node())\n    } else {\n      // HTML Element\n      selection = d3Select(selection)\n    }\n    if (!options) {\n      options = {}\n    }\n    if (!embeddedCss) {\n      embeddedCss = builderEmbed\n    }\n\n    this.map_data = mapData\n    this.model_data = modelData\n    this.embeddedCss = embeddedCss\n    this.selection = selection\n    this.menu_div = null\n    this.button_div = null\n    this.search_bar_div = null\n    this.searchBarRef = null\n    this.semanticOptions = null\n    this.mode = 'zoom'\n\n    // apply this object as data for the selection\n    this.selection.datum(this)\n    this.selection.__builder__ = this\n\n    // Remember if the user provided a custom value for reaction_styles\n    this.has_custom_reaction_styles = Boolean(options.reaction_styles)\n\n    // set defaults\n    const optionsWithDefaults = utils.set_options(options, {\n      // view options\n      menu: 'all',\n      scroll_behavior: 'pan',\n      use_3d_transform: false,\n      enable_editing: true,\n      enable_keys: true,\n      enable_search: true,\n      fill_screen: false,\n      zoom_to_element: null,\n      full_screen_button: false,\n      ignore_bootstrap: false,\n      disabled_buttons: null,\n      semantic_zoom: null,\n      // map, model, and styles\n      starting_reaction: null,\n      never_ask_before_quit: false,\n      unique_map_id: null, // deprecated\n      primary_metabolite_radius: 20,\n      secondary_metabolite_radius: 10,\n      marker_radius: 5,\n      gene_font_size: 18,\n      hide_secondary_metabolites: false,\n      show_gene_reaction_rules: false,\n      hide_all_labels: false,\n      canvas_size_and_loc: null,\n      // applied data\n      // reaction\n      reaction_data: null,\n      reaction_styles: ['color', 'size', 'text'],\n      reaction_compare_style: 'log2_fold',\n      reaction_scale: null,\n      reaction_scale_preset: 'GaBuGeRd',\n      reaction_no_data_color: '#dcdcdc',\n      reaction_no_data_size: 8,\n      // gene\n      gene_data: null,\n      and_method_in_gene_reaction_rule: 'mean',\n      // metabolite\n      metabolite_data: null,\n      metabolite_styles: ['color', 'size', 'text'],\n      metabolite_compare_style: 'log2_fold',\n      metabolite_scale: null,\n      metabolite_scale_preset: 'WhYlRd',\n      metabolite_no_data_color: '#ffffff',\n      metabolite_no_data_size: 10,\n      // View and build options\n      identifiers_on_map: 'bigg_id',\n      highlight_missing: false,\n      allow_building_duplicate_reactions: false,\n      cofactors: [\n        'atp', 'adp', 'nad', 'nadh', 'nadp', 'nadph', 'gtp', 'gdp', 'h', 'coa',\n        'ump', 'h2o', 'ppi'\n      ],\n      // Extensions\n      tooltip_component: DefaultTooltip,\n      enable_tooltips: ['label'],\n      enable_keys_with_tooltip: true,\n      // Callbacks\n      first_load_callback: null\n    }, {\n      primary_metabolite_radius: true,\n      secondary_metabolite_radius: true,\n      marker_radius: true,\n      gene_font_size: true,\n      reaction_no_data_size: true,\n      metabolite_no_data_size: true\n    })\n\n    // Check the location\n    if (utils.check_for_parent_tag(this.selection, 'svg')) {\n      throw new Error('Builder cannot be placed within an svg node ' +\n        'because UI elements are html-based.')\n    }\n\n    // The options that are erased when the settings menu is canceled\n    var conditional = [\n      'identifiers_on_map',\n      'scroll_behavior',\n      'hide_secondary_metabolites',\n      'show_gene_reaction_rules',\n      'hide_all_labels',\n      'allow_building_duplicate_reactions',\n      'highlight_missing',\n      'enable_tooltips',\n      'reaction_scale_preset',\n      'reaction_no_data_color',\n      'reaction_no_data_size',\n      'reaction_scale',\n      'reaction_styles',\n      'reaction_compare_style',\n      'and_method_in_gene_reaction_rule',\n      'metabolite_scale_preset',\n      'metabolite_scale',\n      'metabolite_styles',\n      'metabolite_compare_style',\n      'metabolite_no_data_color',\n      'metabolite_no_data_size'\n    ]\n    // this.options and this.settings used to have different functions, but now\n    // they are aliases\n    this.settings = new Settings(optionsWithDefaults, conditional)\n\n    // Warn if full/fill screen options conflict\n    if (this.settings.get('fill_screen') && this.settings.get('full_screen_button')) {\n      this.settings.set('full_screen_button', false)\n      console.warn('The option full_screen_button has no effect when fill_screen is true')\n    }\n\n    // force full screen for fill_screen option\n    this.isFullScreen = false\n    if (this.settings.get('fill_screen')) {\n      d3Select('html').classed('fill-screen', true)\n      d3Select('body').classed('fill-screen', true)\n      this.selection.classed('fill-screen-div', true)\n      this.isFullScreen = true\n    }\n    this.savedFullScreenSettings = null\n    this.savedFullScreenParent = null\n    this.clearFullScreenEscape = null\n\n    // Set up this callback manager\n    this.callback_manager = new CallbackManager()\n    const firstLoadCallback = this.settings.get('first_load_callback')\n    if (firstLoadCallback !== null) {\n      this.callback_manager.set('first_load', () => {\n        firstLoadCallback(this)\n      })\n    }\n\n    // Set up the zoom container\n    this.zoom_container = new ZoomContainer(this.selection,\n      this.settings.get('scroll_behavior'),\n      this.settings.get('use_3d_transform'))\n    // Zoom container status changes\n    // this.zoom_container.callbackManager.set('svg_start', () => {\n    //   if (this.map) this.map.set_status('Drawing ...')\n    // })\n    // this.zoom_container.callbackManager.set('svg_finish', () => {\n    //   if (this.map) this.map.set_status('')\n    // })\n    this.zoom_container.callbackManager.set('zoom_change', () => {\n      if (this.settings.get('semantic_zoom')) {\n        const scale = this.zoom_container.windowScale\n        const optionObject = this.settings.get('semantic_zoom')\n          .sort((a, b) => a.zoomLevel - b.zoomLevel)\n          .find(a => a.zoomLevel > scale)\n        if (optionObject) {\n          let didChange = false\n          _.mapObject(optionObject.options, (value, key) => {\n            if (this.settings.get(key) !== value) {\n              this.settings.set(key, value)\n              didChange = true\n            }\n          })\n          if (didChange) this._updateData(false, true)\n        }\n      }\n    })\n    this.settings.streams.use_3d_transform.onValue(val => {\n      this.zoom_container.setUse3dTransform(val)\n    })\n    this.settings.streams.scroll_behavior.onValue(val => {\n      this.zoom_container.setScrollBehavior(val)\n    })\n\n    // Reactive tooltip settings\n    this.settings.streams.enable_tooltips.onValue(val => {\n      this._updateTooltipSetting(val)\n    })\n\n    // Make a container for other map-related tools that will be reset on map load\n    // TODO only create these once in the Builder constructor\n    this.mapToolsContainer = this.selection.append('div')\n      .attr('class', 'map-tools-container')\n\n    // Status in both modes\n    this._createStatus(this.selection)\n\n    // Load the model, map, and update data in both\n    this.load_model(this.model_data, false)\n\n    // Append the bars and menu divs to the document\n    var s = this.selection\n      .append('div').attr('class', 'search-menu-container')\n      .append('div').attr('class', 'search-menu-container-inline')\n    this.menu_div = s.append('div')\n    this.search_bar_div = s.append('div')\n    this.button_div = this.selection.append('div')\n\n    // Need to defer map loading to let webpack CSS load properly. Hack:\n    // Delaying 50ms to make sure the css calculations on map size take\n    // place.\n    _.delay(() => {\n      this.load_map(this.map_data, false)\n\n      const messageFn = this._reactionCheckAddAbs()\n      this._updateData(true, true)\n\n      // Setting callbacks. TODO enable atomic updates. Right now, every time the\n      // menu closes, everything is drawn.\n      this.settings.statusBus.onValue(x => {\n        if (x === 'accept') {\n          this._updateData(true, true, ['reaction', 'metabolite'], false)\n          if (this.zoom_container !== null) {\n            // TODO make this automatic\n            const newBehavior = this.settings.get('scroll_behavior')\n            this.zoom_container.setScrollBehavior(newBehavior)\n          }\n          if (this.map !== null) {\n            this.map.draw_all_nodes(false)\n            this.map.draw_all_reactions(true, false)\n            this.map.select_none()\n          }\n        }\n      })\n\n      if (messageFn !== null) setTimeout(messageFn, 500)\n\n      // Finally run callback\n      _.defer(() => this.callback_manager.run('first_load', this))\n    }, 50)\n  }\n\n  // builder.options is deprecated\n  get options() {\n    throw new Error('builder.options is deprecated. Use builder.settings.get() ' +\n      'and builder.settings.set() instead.')\n  }\n  set options(_) {\n    throw new Error('builder.options is deprecated. Use builder.settings.get() ' +\n      'and builder.settings.set() instead.')\n  }\n\n  /**\n   * For documentation of this function, see docs/javascript_api.rst.\n   */\n  load_model(modelData, shouldUpdateData = true) { // eslint-disable-line camelcase\n    // Check the cobra model\n    if (_.isNull(modelData)) {\n      this.cobra_model = null\n    } else {\n      this.cobra_model = CobraModel.from_cobra_json(modelData)\n    }\n\n    if (this.map) {\n      this.map.cobra_model = this.cobra_model\n      if (shouldUpdateData) {\n        this._updateData(true, false)\n      }\n      if (this.settings.get('highlight_missing')) {\n        this.map.draw_all_reactions(false, false)\n      }\n    }\n\n    this.callback_manager.run('load_model', null, modelData, shouldUpdateData)\n  }\n\n  /**\n   * For documentation of this function, see docs/javascript_api.rst\n   */\n  load_map(mapData, shouldUpdateData = true) { // eslint-disable-line camelcase\n    // Store map options that might be changed by semantic_zoom function\n    const tempSemanticOptions = {}\n    if (this.settings.get('semantic_zoom')) {\n      for (let level of this.settings.get('semantic_zoom')) {\n        Object.keys(level.options).map(option => {\n          if (tempSemanticOptions[option] === undefined) {\n            tempSemanticOptions[option] = this.settings.get(option)\n          }\n        })\n      }\n      this.semanticOptions = Object.assign({}, tempSemanticOptions)\n    }\n\n    // remove the old map and related divs\n    utils.remove_child_nodes(this.zoom_container.zoomedSel)\n    utils.remove_child_nodes(this.mapToolsContainer)\n\n    const zoomedSel = this.zoom_container.zoomedSel\n    const svg = this.zoom_container.svg\n\n    // remove the old map side effects\n    if (this.map) {\n      this.map.key_manager.toggle(false)\n    }\n\n    if (mapData !== null) {\n      // import map\n      this.map = Map.from_data(mapData,\n        svg,\n        this.embeddedCss,\n        zoomedSel,\n        this.zoom_container,\n        this.settings,\n        this.cobra_model,\n        this.settings.get('enable_search'))\n    } else {\n      // new map\n      this.map = new Map(svg,\n        this.embeddedCss,\n        zoomedSel,\n        this.zoom_container,\n        this.settings,\n        this.cobra_model,\n        this.settings.get('canvas_size_and_loc'),\n        this.settings.get('enable_search'))\n    }\n\n    // Connect status bar\n    this._setupStatus(this.map)\n    this.map.set_status('Loading map ...')\n\n    // Connect tooltips\n    this._updateTooltipSetting(this.settings.get('enable_tooltips'))\n\n    // Set the data for the map\n    if (shouldUpdateData) {\n      this._updateData(false, true)\n    }\n\n    // Set up the reaction input with complete.ly\n    this.build_input = new BuildInput(this.mapToolsContainer, this.map,\n      this.zoom_container, this.settings)\n\n    // Set up the text edit input\n    this.text_edit_input = new TextEditInput(this.mapToolsContainer, this.map,\n      this.zoom_container)\n\n    // Set up the Brush\n    this.brush = new Brush(zoomedSel, false, this.map, '.canvas-group')\n    // reset brush when canvas resizes in brush mode\n    this.map.canvas.callbackManager.set('resize', () => {\n      if (this.mode === 'brush') this.brush.toggle(true)\n    })\n\n    // Set up menus\n    this.setUpSettingsMenu(this.mapToolsContainer)\n    this.setUpButtonPanel(this.mapToolsContainer)\n\n    // share a parent container for menu bar and search bar\n    const sel = this.mapToolsContainer\n      .append('div').attr('class', 'search-menu-container')\n      .append('div').attr('class', 'search-menu-container-inline')\n    this.setUpMenuBar(sel)\n    this.setUpSearchBar(sel)\n\n    // Set up the tooltip container\n    this.tooltip_container = new TooltipContainer(\n      this.mapToolsContainer,\n      this.settings.get('tooltip_component'),\n      this.zoom_container,\n      this.map,\n      this.settings\n    )\n\n    // Set up key manager\n    this.map.key_manager.assignedKeys = this.getKeys()\n    // Tell the key manager about the reaction input and search bar\n    this.map.key_manager.inputList = [\n      this.build_input,\n      this.searchBarRef,\n      () => this.settingsMenuRef,\n      this.text_edit_input\n    ]\n    if (!this.settings.get('enable_keys_with_tooltip')) {\n      this.map.key_manager.inputList.push(this.tooltip_container)\n    }\n    // Make sure the key manager remembers all those changes\n    this.map.key_manager.update()\n    // Turn it on/off\n    this.map.key_manager.toggle(this.settings.get('enable_keys'))\n    this.settings.streams.enable_keys.onValue(val => {\n      // get keys given latest settings\n      this.map.key_manager.toggle(val)\n    })\n\n    // Disable clears\n    const newDisabledButtons = this.settings.get('disabled_buttons') || []\n    if (!this.settings.get('reaction_data')) {\n      newDisabledButtons.push('Clear reaction data')\n    }\n    if (!this.settings.get('gene_data')) {\n      newDisabledButtons.push('Clear gene data')\n    }\n    if (!this.settings.get('metabolite_data')) {\n      newDisabledButtons.push('Clear metabolite data')\n    }\n    if (!this.settings.get('enable_search')) {\n      newDisabledButtons.push('Find')\n    }\n    if (!this.settings.get('enable_editing')) {\n      newDisabledButtons.push('Show control points')\n    }\n    this.settings.set('disabled_buttons', newDisabledButtons)\n\n    // Set up selection box\n    if (this.settings.get('zoom_to_element')) {\n      const type = this.settings.get('zoom_to_element').type\n      const elementId = this.settings.get('zoom_to_element').id\n      if (_.isUndefined(type) || ['reaction', 'node'].indexOf(type) === -1) {\n        throw new Error('zoom_to_element type must be \"reaction\" or \"node\"')\n      }\n      if (_.isUndefined(elementId)) {\n        throw new Error('zoom_to_element must include id')\n      }\n      if (type === 'reaction') {\n        this.map.zoom_to_reaction(elementId)\n      } else if (type === 'node') {\n        this.map.zoom_to_node(elementId)\n      }\n    } else if (mapData) {\n      this.map.zoom_extent_canvas()\n    } else {\n      if (this.settings.get('starting_reaction') && this.cobra_model !== null) {\n        // Draw default reaction if no map is provided\n        const size = this.zoom_container.get_size()\n        const startCoords = { x: size.width / 2, y: size.height / 4 }\n        this.map.new_reaction_from_scratch(this.settings.get('starting_reaction'),\n          startCoords, 90)\n        this.map.zoom_extent_nodes()\n      } else if (this.cobra_model !== null) {\n        // Auto-layout based on subsystems\n        const subsystems = {}\n        const subsystemPadding = 600 // spacing between subsystems\n        const reactionPadding = 80 // spacing between reactions in a subsystem\n        const reactionsPerCol = 10;\n\n        // Group reactions by subsystem\n        for (let r_id in this.cobra_model.reactions) {\n          const reaction = this.cobra_model.reactions[r_id]\n          const sub = reaction.subsystem || 'Unassigned'\n          if (!subsystems[sub]) subsystems[sub] = []\n          subsystems[sub].push(reaction.bigg_id)\n        }\n\n        // Arrange subsystems in a grid\n        const subsList = Object.keys(subsystems).sort()\n        const subCols = Math.ceil(Math.sqrt(subsList.length))\n\n        let subX = 0\n        let subY = 0\n\n        subsList.forEach((sub, i) => {\n          // Calculate subsystem origin\n          const col = i % subCols\n          const row = Math.floor(i / subCols)\n          const originX = col * subsystemPadding * 1.5\n          const originY = row * subsystemPadding * 1.5 // Extra vertical space\n\n          // Add label for subsystem (using a text node trick or just reaction placement)\n          // Since we don't have a direct \"add label\" easily exposed here without ID management,\n          // we'll just place reactions.\n\n          subsystems[sub].forEach((r_id, j) => {\n            const rCol = Math.floor(j / reactionsPerCol)\n            const rRow = j % reactionsPerCol\n\n            const x = originX + (rCol * reactionPadding * 3)\n            const y = originY + (rRow * reactionPadding)\n\n            this.map.new_reaction_from_scratch(r_id, { x, y }, 90)\n          })\n        })\n        this.map.zoom_extent_nodes()\n      } else {\n        this.map.zoom_extent_canvas()\n      }\n    }\n\n    // Start in zoom mode for builder, view mode for viewer\n    if (this.settings.get('enable_editing')) {\n      this.zoom_mode()\n    } else {\n      this.view_mode()\n    }\n    // when enabled_editing changes, go to view mode\n    this.settings.streams.enable_editing.onValue(val => {\n      if (val) this.zoom_mode()\n      else this.view_mode()\n    })\n\n    // confirm before leaving the page\n    if (this.settings.get('enable_editing')) {\n      this._setupConfirmBeforeExit()\n    }\n\n    // draw\n    this.map.draw_everything()\n\n    this.map.set_status('')\n\n    this.callback_manager.run('load_map', null, mapData, shouldUpdateData)\n  }\n\n  /**\n   * Function to pass props for the settings menu. Run without an argument to\n   * rerender the component\n   * @param {Object} props - Props that the settings menu will use\n   */\n  passPropsSettingsMenu(props = {}) {\n    this.map.callback_manager.run('pass_props_settings_menu', null, props)\n  }\n\n  /**\n   * Initialize the settings menu\n   */\n  setUpSettingsMenu(sel) {\n    this.settingsMenuRef = null\n    renderWrapper(\n      SettingsMenu,\n      instance => { this.settingsMenuRef = instance },\n      passProps => this.map.callback_manager.set('pass_props_settings_menu', passProps),\n      sel.append('div').node()\n    )\n    this.passPropsSettingsMenu({\n      display: false,\n      settings: this.settings,\n      map: this.map\n    })\n\n    // redraw menu when settings change\n    _.mapObject(this.settings.streams, (stream, key) => {\n      stream.onValue(value => {\n        this.passPropsSettingsMenu()\n      })\n    })\n\n    // recalculate data when switching to/from absolute value\n    this.settings.streams.reaction_styles\n      .map(x => _.contains(x, 'abs'))\n      .skipDuplicates()\n      .onValue(() => this._updateData(false, true))\n    this.settings.streams.metabolite_styles\n      .map(x => _.contains(x, 'abs'))\n      .skipDuplicates()\n      .onValue(() => this._updateData(false, true))\n  }\n\n  /**\n   * Function to pass props for the menu bar\n   * @param {Object} props - Props that the menu bar will use\n   */\n  passPropsMenuBar(props = {}) {\n    this.map.callback_manager.run('pass_props_menu_bar', null, props)\n  }\n\n  /**\n   * Initialize the menu bar\n   * @param {D3 Selection} sel - The d3 selection to render in.\n   */\n  setUpMenuBar(sel) {\n    this.menuBarRef = null\n    renderWrapper(\n      MenuBar,\n      instance => { this.menuBarRef = instance },\n      passProps => this.map.callback_manager.set('pass_props_menu_bar', passProps),\n      sel.append('div').node()\n    )\n    this.passPropsMenuBar({\n      display: this.settings.get('menu') === 'all',\n      settings: this.settings,\n      sel: this.selection,\n      mode: this.mode,\n      map: this.map,\n      saveMap: () => {\n        // Revert options changed by semanticZoom to their original values if option is active\n        if (this.semanticOptions) {\n          Object.entries(this.semanticOptions).map(([key, value]) => {\n            this.settings.set(key, value)\n          })\n          this._updateData()\n        }\n        this.map.save()\n      },\n      loadMap: file => this.load_map(file),\n      assignKeyLoadMap: fn => {\n        // connect the key for this input\n        this.map.key_manager.assignedKeys.load_map.fn = fn\n      },\n      save_svg: () => this.map.save_svg(),\n      save_png: () => this.map.save_png(),\n      clear_map: () => { this.clear_map() },\n      loadModel: file => this.load_model(file, true),\n      assignKeyLoadModel: fn => {\n        // connect the key for this input\n        this.map.key_manager.assignedKeys.load_model.fn = fn\n      },\n      clearModel: () => {\n        this.load_model(null)\n        this.callback_manager.run('clear_model')\n      },\n      updateRules: () => this.map.convert_map(),\n      setReactionData: d => this.set_reaction_data(d),\n      clearReactionData: () => this.set_reaction_data(null),\n      setGeneData: d => this.set_gene_data(d),\n      clearGeneData: () => this.set_gene_data(null, true),\n      setMetaboliteData: d => this.set_metabolite_data(d),\n      clearMetaboliteData: d => this.set_metabolite_data(null),\n      setMode: mode => this._setMode(mode),\n      deleteSelected: () => this.map.delete_selected(),\n      undo: () => this.map.undo_stack.undo(),\n      redo: () => this.map.undo_stack.redo(),\n      align_vertical: () => this.map.align_vertical(),\n      align_horizontal: () => this.map.align_horizontal(),\n      togglePrimary: () => this.map.toggle_selected_node_primary(),\n      cyclePrimary: () => this.map.cycle_primary_node(),\n      selectAll: () => this.map.select_all(),\n      selectNone: () => this.map.select_none(),\n      invertSelection: () => this.map.invert_selection(),\n      zoom_in: () => this.zoom_container.zoom_in(),\n      zoom_out: () => this.zoom_container.zoom_out(),\n      zoomExtentNodes: () => this.map.zoom_extent_nodes(),\n      zoomExtentCanvas: () => this.map.zoom_extent_canvas(),\n      full_screen: () => this.full_screen(),\n      search: () => this.passPropsSearchBar({ display: true }),\n      toggleBeziers: () => this.map.toggle_beziers(),\n      renderSettingsMenu: () => this.passPropsSettingsMenu({ display: true })\n    })\n\n    // redraw when beziers change\n    this.map.callback_manager.set('toggle_beziers', () => {\n      this.passPropsMenuBar()\n    })\n\n    // redraw when disabledButtons change\n    this.settings.streams.disabled_buttons.onValue(value => {\n      this.passPropsMenuBar()\n    })\n\n    // redraw when mode changes\n    this.callback_manager.set('set_mode', mode => {\n      this.passPropsMenuBar({ mode })\n    })\n\n    // redraw when menu option changes\n    this.settings.streams.menu.onValue(menu => {\n      this.passPropsMenuBar({ display: menu === 'all' })\n    })\n\n    // redraw when full screen button changes\n    this.settings.streams.full_screen_button.onValue(value => {\n      this.passPropsMenuBar()\n    })\n  }\n\n  /**\n   * Function to pass props for the search bar\n   * @param {Object} props - Props that the search bar will use\n   */\n  passPropsSearchBar(props = {}) {\n    this.map.callback_manager.run('pass_props_search_bar', null, props)\n  }\n\n  /**\n   * Initialize the search bar\n   * @param {D3 Selection} sel - The d3 selection to render in.\n   */\n  setUpSearchBar(sel) {\n    this.searchBarRef = null\n    renderWrapper(\n      SearchBar,\n      instance => { this.searchBarRef = instance },\n      passProps => this.map.callback_manager.set('pass_props_search_bar', passProps),\n      sel.append('div').node()\n    )\n    this.passPropsSearchBar({\n      display: false,\n      searchIndex: this.map.search_index,\n      map: this.map\n    })\n  }\n\n  /**\n   * Function to pass props for the button panel\n   * @param {Object} props - Props that the tooltip will use\n   */\n  passPropsButtonPanel(props = {}) {\n    this.map.callback_manager.run('pass_props_button_panel', null, props)\n  }\n\n  /**\n   * Initialize the button panel\n   */\n  setUpButtonPanel(sel) {\n    renderWrapper(\n      ButtonPanel,\n      null,\n      passProps => this.map.callback_manager.set('pass_props_button_panel', passProps),\n      sel.append('div').node()\n    )\n    this.passPropsButtonPanel({\n      display: _.contains(['all', 'zoom'], this.settings.get('menu')),\n      mode: this.mode,\n      settings: this.settings,\n      setMode: mode => this._setMode(mode),\n      zoomContainer: this.zoom_container,\n      map: this.map,\n      buildInput: this.build_input,\n      full_screen: () => this.full_screen()\n    })\n\n    // redraw when mode changes\n    this.callback_manager.set('set_mode', mode => {\n      this.passPropsButtonPanel({ mode })\n    })\n\n    // redraw when full screen button changes\n    this.settings.streams.full_screen_button.onValue(value => {\n      this.passPropsButtonPanel()\n    })\n  }\n\n  /**\n   * Set the mode\n   */\n  _setMode(mode) {\n    this.mode = mode\n\n    // input\n    this.build_input.toggle(mode === 'build')\n    this.build_input.direction_arrow.toggle(mode === 'build')\n    // brush\n    this.brush.toggle(mode === 'brush')\n    // zoom\n    this.zoom_container.togglePanDrag(mode === 'zoom' || mode === 'view')\n    // resize canvas\n    this.map.canvas.toggleResize(mode !== 'view')\n\n    // Behavior. Be careful of the order becuase rotation and\n    // toggle_selectable_drag both use Behavior.selectableDrag.\n    if (mode === 'rotate') {\n      this.map.behavior.toggleSelectableDrag(false) // before toggle_rotation_mode\n      this.map.behavior.toggleRotationMode(true) // XX\n    } else {\n      this.map.behavior.toggleRotationMode(mode === 'rotate') // before toggleSelectableDrag\n      this.map.behavior.toggleSelectableDrag(mode === 'brush') // XX\n    }\n    this.map.behavior.toggleSelectableClick(mode === 'build' || mode === 'brush') // XX\n    this.map.behavior.toggleLabelDrag(mode === 'brush') // XX\n    this.map.behavior.toggleTextLabelEdit(mode === 'text') // XX\n    this.map.behavior.toggleBezierDrag(mode === 'brush') // XX\n\n    // edit selections\n    if (mode === 'view' || mode === 'text') {\n      this.map.select_none()\n    }\n    if (mode === 'rotate') {\n      this.map.deselect_text_labels()\n    }\n\n    this.map.draw_everything()\n    // what's not allowing me to delete this? XX above\n\n    // callback\n    this.callback_manager.run('set_mode', null, mode)\n  }\n\n  /** For documentation of this function, see docs/javascript_api.rst. */\n  view_mode() { // eslint-disable-line camelcase\n    this.callback_manager.run('view_mode')\n    this._setMode('view')\n  }\n\n  /** For documentation of this function, see docs/javascript_api.rst. */\n  build_mode() { // eslint-disable-line camelcase\n    this.callback_manager.run('build_mode')\n    this._setMode('build')\n  }\n\n  /** For documentation of this function, see docs/javascript_api.rst. */\n  brush_mode() { // eslint-disable-line camelcase\n    this.callback_manager.run('brush_mode')\n    this._setMode('brush')\n  }\n\n  /** For documentation of this function, see docs/javascript_api.rst. */\n  zoom_mode() { // eslint-disable-line camelcase\n    this.callback_manager.run('zoom_mode')\n    this._setMode('zoom')\n  }\n\n  /** For documentation of this function, see docs/javascript_api.rst. */\n  rotate_mode() { // eslint-disable-line camelcase\n    this.callback_manager.run('rotate_mode')\n    this._setMode('rotate')\n  }\n\n  /** For documentation of this function, see docs/javascript_api.rst. */\n  text_mode() { // eslint-disable-line camelcase\n    this.callback_manager.run('text_mode')\n    this._setMode('text')\n  }\n\n  _reactionCheckAddAbs() {\n    const currStyle = this.settings.get('reaction_styles')\n    if (\n      this.settings.get('reaction_data') &&\n      !this.has_custom_reaction_styles &&\n      !_.contains(currStyle, 'abs')\n    ) {\n      this.settings.set('reaction_styles', currStyle.concat('abs'))\n      return () => {\n        this.map.set_status('Visualizing absolute value of reaction data. ' +\n          'Change this option in Settings.', 5000)\n      }\n    }\n    return null\n  }\n\n  /**\n   * For documentation of this function, see docs/javascript_api.rst.\n   */\n  set_reaction_data(data) { // eslint-disable-line camelcase\n    this.settings.set('reaction_data', data)\n\n    // clear gene data\n    if (data) {\n      this.settings._options.gene_data = null\n    }\n\n    var messageFn = this._reactionCheckAddAbs()\n\n    this._updateData(true, true, ['reaction'])\n\n    if (messageFn) messageFn()\n    else this.map.set_status('')\n\n    const disabledButtons = this.settings.get('disabled_buttons') || []\n    const buttonName = 'Clear reaction data'\n    const geneButtonName = 'Clear gene data'\n    const index = disabledButtons.indexOf(buttonName)\n    if (data && index !== -1) {\n      disabledButtons.splice(index, 1)\n      const gInd = disabledButtons.indexOf(geneButtonName)\n      if (gInd === -1) disabledButtons.push(geneButtonName)\n      this.settings.set('disabled_buttons', disabledButtons)\n    } else if (!data && index === -1) {\n      disabledButtons.push(buttonName)\n      this.settings.set('disabled_buttons', disabledButtons)\n    }\n  }\n\n  /**\n   * For documentation of this function, see docs/javascript_api.rst.\n   */\n  set_gene_data(data, clearGeneReactionRules = false) { // eslint-disable-line camelcase\n    this.settings.set('gene_data', data)\n\n    if (clearGeneReactionRules) {\n      this.settings.set('show_gene_reaction_rules', false)\n    }\n\n    // clear reaction data; show gene reaction rules\n    if (data) {\n      this.settings._options.reaction_data = null\n      this.settings.set('show_gene_reaction_rules', true)\n    }\n\n    this._updateData(true, true, ['reaction'])\n    this.map.set_status('')\n\n    const disabledButtons = this.settings.get('disabled_buttons') || []\n    const index = disabledButtons.indexOf('Clear gene data')\n    const buttonName = 'Clear gene data'\n    const reactionButtonName = 'Clear reaction data'\n    if (index > -1 && data) {\n      disabledButtons.splice(index, 1)\n      const rInd = disabledButtons.indexOf('Clear reaction data')\n      if (rInd === -1) disabledButtons.push(reactionButtonName)\n      this.settings.set('disabled_buttons', disabledButtons)\n    } else if (index === -1 && !data) {\n      disabledButtons.push(buttonName)\n      this.settings.set('disabled_buttons', disabledButtons)\n    }\n  }\n\n  /**\n   * For documentation of this function, see docs/javascript_api.rst.\n   */\n  set_metabolite_data(data) { // eslint-disable-line camelcase\n    this.settings.set('metabolite_data', data)\n\n    this._updateData(true, true, ['metabolite'])\n    this.map.set_status('')\n\n    const disabledButtons = this.settings.get('disabled_buttons') || []\n    const buttonName = 'Clear metabolite data'\n    const index = disabledButtons.indexOf(buttonName)\n    if (index > -1 && data) {\n      disabledButtons.splice(index, 1)\n      this.settings.set('disabled_buttons', disabledButtons)\n    } else if (index === -1 && !data) {\n      disabledButtons.push(buttonName)\n      this.settings.set('disabled_buttons', disabledButtons)\n    }\n  }\n\n  _makeGeneDataObject(geneData, cobraModel, map) {\n    const allReactions = {}\n    if (cobraModel !== null) {\n      utils.extend(allReactions, cobraModel.reactions)\n    }\n    // extend, overwrite\n    if (map !== null) {\n      utils.extend(allReactions, map.reactions, true)\n    }\n\n    // this object has reaction keys and values containing associated genes\n    return dataStyles.importAndCheck(geneData, 'gene_data', allReactions)\n  }\n\n  /**\n   * Clear the map\n   */\n  clear_map() { // eslint-disable-line camelcase\n    this.callback_manager.run('clear_map')\n    this.map.clearMapData()\n    this._updateData(true, true, ['reaction', 'metabolite'], false)\n    this.map.draw_everything()\n  }\n\n  /**\n   * Set data and settings for the model.\n   * update_model: (Boolean) Update data for the model.\n   * update_map: (Boolean) Update data for the map.\n   * kind: (Optional, Default: all) An array defining which data is being updated\n   * that can include any of: ['reaction', 'metabolite'].\n   * should_draw: (Optional, Default: true) Whether to redraw the update sections\n   * of the map.\n   */\n  _updateData(\n    updateModel = false,\n    updateMap = false,\n    kind = ['reaction', 'metabolite'],\n    shouldDraw = true\n  ) {\n    const updateReactionData = _.contains(kind, 'reaction')\n    const updateMetaboliteData = _.contains(kind, 'metabolite')\n    let metaboliteDataObject\n    let reactionDataObject\n    let geneDataObject\n\n    // -------------------\n    // First map, and draw\n    // -------------------\n\n    // metabolite data\n    if (updateMetaboliteData && updateMap && this.map !== null) {\n      metaboliteDataObject = dataStyles.importAndCheck(this.settings.get('metabolite_data'),\n        'metabolite_data')\n      this.map.apply_metabolite_data_to_map(metaboliteDataObject)\n      if (shouldDraw) {\n        this.map.draw_all_nodes(false)\n      }\n    }\n\n    // reaction data\n    if (updateReactionData) {\n      if (this.settings.get('reaction_data') && updateMap && this.map !== null) {\n        reactionDataObject = dataStyles.importAndCheck(this.settings.get('reaction_data'),\n          'reaction_data')\n        this.map.apply_reaction_data_to_map(reactionDataObject)\n        if (shouldDraw) {\n          this.map.draw_all_reactions(false, false)\n        }\n      } else if (this.settings.get('gene_data') && updateMap && this.map !== null) {\n        geneDataObject = this._makeGeneDataObject(this.settings.get('gene_data'),\n          this.cobra_model, this.map)\n        this.map.apply_gene_data_to_map(geneDataObject)\n        if (shouldDraw) {\n          this.map.draw_all_reactions(false, false)\n        }\n      } else if (updateMap && this.map !== null) {\n        // clear the data\n        this.map.apply_reaction_data_to_map(null)\n        if (shouldDraw) {\n          this.map.draw_all_reactions(false, false)\n        }\n      }\n    }\n\n    // ----------------------------------------------------------------\n    // Then the model, after drawing. Delay by 5ms so the the map draws\n    // first.\n    // ----------------------------------------------------------------\n\n    // If this function runs again, cancel the previous model update\n    if (this.update_model_timer) {\n      clearTimeout(this.update_model_timer)\n    }\n\n    const delay = 5\n    this.update_model_timer = setTimeout(() => {\n      // metabolite_data\n      if (updateMetaboliteData && updateModel && this.cobra_model !== null) {\n        // if we haven't already made this\n        if (!metaboliteDataObject) {\n          metaboliteDataObject = dataStyles.importAndCheck(this.settings.get('metabolite_data'),\n            'metabolite_data')\n        }\n        this.cobra_model.apply_metabolite_data(metaboliteDataObject,\n          this.settings.get('metabolite_styles'),\n          this.settings.get('metabolite_compare_style'))\n      }\n\n      // reaction data\n      if (updateReactionData) {\n        if (this.settings.get('reaction_data') && updateModel && this.cobra_model !== null) {\n          // if we haven't already made this\n          if (!reactionDataObject) {\n            reactionDataObject = dataStyles.importAndCheck(this.settings.get('reaction_data'),\n              'reaction_data')\n          }\n          this.cobra_model.apply_reaction_data(reactionDataObject,\n            this.settings.get('reaction_styles'),\n            this.settings.get('reaction_compare_style'))\n        } else if (this.settings.get('gene_data') && updateModel && this.cobra_model !== null) {\n          if (!geneDataObject) {\n            geneDataObject = this._makeGeneDataObject(this.settings.get('gene_data'),\n              this.cobra_model, this.map)\n          }\n          this.cobra_model.apply_gene_data(geneDataObject,\n            this.settings.get('reaction_styles'),\n            this.settings.get('identifiers_on_map'),\n            this.settings.get('reaction_compare_style'),\n            this.settings.get('and_method_in_gene_reaction_rule'))\n        } else if (updateModel && this.cobra_model !== null) {\n          // clear the data\n          this.cobra_model.apply_reaction_data(null,\n            this.settings.get('reaction_styles'),\n            this.settings.get('reaction_compare_style'))\n        }\n      }\n\n      // callback\n      this.callback_manager.run('update_data', null, updateModel, updateMap,\n        kind, shouldDraw)\n    }, delay)\n  }\n\n  _createStatus(selection) {\n    this.status_bar = selection.append('div').attr('id', 'status')\n  }\n\n  _setupStatus(map) {\n    map.callback_manager.set('set_status', status => this.status_bar.html(status))\n  }\n\n  _updateTooltipSetting(setting) {\n    this.map.behavior.toggleLabelMouseover(setting && setting.includes('label'))\n    this.map.behavior.toggleObjectMouseover(setting && setting.includes('object'))\n  }\n\n  /**\n   * Define keyboard shortcuts\n   */\n  getKeys() {\n    const map = this.map\n    const zoom_container = this.zoom_container // eslint-disable-line camelcase\n    return {\n      save: {\n        key: 'ctrl+s',\n        target: map,\n        fn: map.save\n      },\n      save_svg: {\n        key: 'ctrl+shift+s',\n        target: map,\n        fn: map.save_svg\n      },\n      save_png: {\n        key: 'ctrl+shift+p',\n        target: map,\n        fn: map.save_png\n      },\n      load_map: {\n        key: 'ctrl+o',\n        fn: null // defined by button\n      },\n      convert_map: {\n        target: map,\n        fn: map.convert_map\n      },\n      load_model: {\n        key: 'ctrl+m',\n        fn: null // defined by button\n      },\n      zoom_in_ctrl: {\n        key: 'ctrl+=',\n        target: zoom_container,\n        fn: zoom_container.zoom_in\n      },\n      zoom_in: {\n        key: '=',\n        target: zoom_container,\n        fn: zoom_container.zoom_in,\n        ignoreWithInput: true\n      },\n      zoom_out_ctrl: {\n        key: 'ctrl+-',\n        target: zoom_container,\n        fn: zoom_container.zoom_out\n      },\n      zoom_out: {\n        key: '-',\n        target: zoom_container,\n        fn: zoom_container.zoom_out,\n        ignoreWithInput: true\n      },\n      extent_nodes_ctrl: {\n        key: 'ctrl+0',\n        target: map,\n        fn: map.zoom_extent_nodes\n      },\n      extent_nodes: {\n        key: '0',\n        target: map,\n        fn: map.zoom_extent_nodes,\n        ignoreWithInput: true\n      },\n      extent_canvas_ctrl: {\n        key: 'ctrl+1',\n        target: map,\n        fn: map.zoom_extent_canvas\n      },\n      extent_canvas: {\n        key: '1',\n        target: map,\n        fn: map.zoom_extent_canvas,\n        ignoreWithInput: true\n      },\n      view_mode: {\n        target: this,\n        fn: this.view_mode,\n        ignoreWithInput: true\n      },\n      show_settings_ctrl: {\n        key: 'ctrl+,',\n        fn: () => this.passPropsSettingsMenu({ display: true })\n      },\n      show_settings: {\n        key: ',',\n        fn: () => this.passPropsSettingsMenu({ display: true }),\n        ignoreWithInput: true\n      },\n      build_mode: {\n        key: 'n',\n        target: this,\n        fn: this.build_mode,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      zoom_mode: {\n        key: 'z',\n        target: this,\n        fn: this.zoom_mode,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      brush_mode: {\n        key: 'v',\n        target: this,\n        fn: this.brush_mode,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      rotate_mode: {\n        key: 'r',\n        target: this,\n        fn: this.rotate_mode,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      text_mode: {\n        key: 't',\n        target: this,\n        fn: this.text_mode,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      toggle_beziers: {\n        key: 'b',\n        target: map,\n        fn: map.toggle_beziers,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      delete_ctrl: {\n        key: 'ctrl+backspace',\n        target: map,\n        fn: map.delete_selected,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      delete: {\n        key: 'backspace',\n        target: map,\n        fn: map.delete_selected,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      delete_del: {\n        key: 'del',\n        target: map,\n        fn: map.delete_selected,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      align_vertical: {\n        key: 'alt+l',\n        target: map,\n        fn: map.align_vertical\n      },\n      align_horizontal: {\n        key: 'shift+alt+l',\n        target: map,\n        fn: map.align_horizontal\n      },\n      toggle_primary: {\n        key: 'p',\n        target: map,\n        fn: map.toggle_selected_node_primary,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      cycle_primary: {\n        key: 'c',\n        target: map,\n        fn: map.cycle_primary_node,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      direction_arrow_right: {\n        key: 'right',\n        target: this.build_input.direction_arrow,\n        fn: this.build_input.direction_arrow.right,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      direction_arrow_down: {\n        key: 'down',\n        target: this.build_input.direction_arrow,\n        fn: this.build_input.direction_arrow.down,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      direction_arrow_left: {\n        key: 'left',\n        target: this.build_input.direction_arrow,\n        fn: this.build_input.direction_arrow.left,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      direction_arrow_up: {\n        key: 'up',\n        target: this.build_input.direction_arrow,\n        fn: this.build_input.direction_arrow.up,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      undo: {\n        key: 'ctrl+z',\n        target: map.undo_stack,\n        fn: map.undo_stack.undo,\n        requires: 'enable_editing'\n      },\n      redo: {\n        key: 'ctrl+shift+z',\n        target: map.undo_stack,\n        fn: map.undo_stack.redo,\n        requires: 'enable_editing'\n      },\n      select_all: {\n        key: 'ctrl+a',\n        target: map,\n        fn: map.select_all,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      select_none: {\n        key: 'ctrl+shift+a',\n        target: map,\n        fn: map.select_none,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      invert_selection: {\n        target: map,\n        fn: map.invert_selection,\n        requires: 'enable_editing'\n      },\n      search_ctrl: {\n        key: 'ctrl+f',\n        fn: () => this.passPropsSearchBar({ display: true }),\n        requires: 'enable_search'\n      },\n      search: {\n        key: 'f',\n        fn: () => this.passPropsSearchBar({ display: true }),\n        ignoreWithInput: true,\n        requires: 'enable_search'\n      }\n    }\n  }\n\n  /**\n   * Ask if the user wants to exit the page (to avoid unplanned refresh).\n   */\n  _setupConfirmBeforeExit() {\n    window.onbeforeunload = _ => this.settings.get('never_ask_before_quit')\n      ? null\n      : 'You will lose any unsaved changes.'\n  }\n\n  /**\n   * Toggle full screen mode.\n   */\n  full_screen() { // eslint-disable-line camelcase\n    // these settings can update in full screen if provided\n    const fullScreenSettings = [\n      'menu',\n      'scroll_behavior',\n      'enable_editing',\n      'enable_keys',\n      'enable_tooltips'\n    ]\n\n    if (this.isFullScreen) {\n      d3Select('html').classed('fill-screen', false)\n      d3Select('body').classed('fill-screen', false)\n      this.selection.classed('fill-screen-div', false)\n      this.isFullScreen = false\n\n      // clear escape listener\n      if (this.clearFullScreenEscape) {\n        this.clearFullScreenEscape()\n        this.clearFullScreenEscape = null\n      }\n\n      // hack for full screen in jupyterlab / notebook\n      if (this.savedFullScreenParent) {\n        const parentNode = this.savedFullScreenParent.node()\n        parentNode.insertBefore(this.selection.remove().node(), parentNode.firstChild)\n        this.savedFullScreenParent = null\n      }\n\n      // apply the saved settings\n      if (this.savedFullScreenSettings !== null) {\n        _.mapObject(this.savedFullScreenSettings, (v, k) => {\n          this.settings.set(k, v)\n        })\n      }\n      this.savedFullScreenSettings = null\n    } else {\n      // save current settings\n      const fullScreenButton = this.settings.get('full_screen_button')\n      if (_.isObject(fullScreenButton)) {\n        this.savedFullScreenSettings = (\n          _.chain(fullScreenButton)\n            .pairs()\n            .map(([k, v]) => {\n              if (_.contains(fullScreenSettings, k)) {\n                const currentSetting = this.settings.get(k)\n                this.settings.set(k, v)\n                return [k, currentSetting]\n              } else {\n                console.warn(`${k} not recognized as an option for full_screen_button`)\n                return [null, null]\n              }\n            })\n            .filter(([k, v]) => k)\n            .object()\n            .value()\n        )\n      }\n\n      d3Select('html').classed('fill-screen', true)\n      d3Select('body').classed('fill-screen', true)\n      this.selection.classed('fill-screen-div', true)\n      this.isFullScreen = true\n\n      // hack for full screen in jupyterlab\n      this.savedFullScreenParent = d3Select(this.selection.node().parentNode)\n      const bodyNode = d3Select('body').node()\n      bodyNode.insertBefore(this.selection.remove().node(), bodyNode.firstChild)\n\n      // set escape listener\n      this.clearFullScreenEscape = this.map.key_manager.addEscapeListener(\n        () => this.full_screen()\n      )\n    }\n    this.map.zoom_extent_canvas()\n    this.passPropsButtonPanel({ isFullScreen: this.isFullScreen })\n    this.passPropsMenuBar({ isFullScreen: this.isFullScreen })\n  }\n}\n\nexport default utils.class_with_optional_new(Builder)\n","/**\r\n* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.\r\n*\r\n* Copyright (c) 2012 Vadim Kiryukhin\r\n* vkiryukhin @ gmail.com\r\n* http://www.eslinstructor.net/vkbeautify/\r\n*\r\n* Dual licensed under the MIT and GPL licenses:\r\n*   http://www.opensource.org/licenses/mit-license.php\r\n*   http://www.gnu.org/licenses/gpl.html\r\n*\r\n*   Pretty print\r\n*\r\n*        vkbeautify.xml(text [,indent_pattern]);\r\n*        vkbeautify.json(text [,indent_pattern]);\r\n*        vkbeautify.css(text [,indent_pattern]);\r\n*        vkbeautify.sql(text [,indent_pattern]);\r\n*\r\n*        @text - String; text to beatufy;\r\n*        @indent_pattern - Integer | String;\r\n*                Integer:  number of white spaces;\r\n*                String:   character string to visualize indentation ( can also be a set of white spaces )\r\n*   Minify\r\n*\r\n*        vkbeautify.xmlmin(text [,preserve_comments]);\r\n*        vkbeautify.jsonmin(text);\r\n*        vkbeautify.cssmin(text [,preserve_comments]);\r\n*        vkbeautify.sqlmin(text);\r\n*\r\n*        @text - String; text to minify;\r\n*        @preserve_comments - Bool; [optional];\r\n*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )\r\n*\r\n*   Examples:\r\n*        vkbeautify.xml(text); // pretty print XML\r\n*        vkbeautify.json(text, 4 ); // pretty print JSON\r\n*        vkbeautify.css(text, '. . . .'); // pretty print CSS\r\n*        vkbeautify.sql(text, '----'); // pretty print SQL\r\n*\r\n*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments\r\n*        vkbeautify.jsonmin(text);// minify JSON\r\n*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )\r\n*        vkbeautify.sqlmin(text);// minify SQL\r\n*\r\n*/\r\nfunction createShiftArr(step) {\r\n\r\n\tvar space = '    ';\r\n\r\n\tif ( isNaN(parseInt(step)) ) {  // argument is string\r\n\t\tspace = step;\r\n\t} else { // argument is integer\r\n\t\tswitch(step) {\r\n\t\t\tcase 1: space = ' '; break;\r\n\t\t\tcase 2: space = '  '; break;\r\n\t\t\tcase 3: space = '   '; break;\r\n\t\t\tcase 4: space = '    '; break;\r\n\t\t\tcase 5: space = '     '; break;\r\n\t\t\tcase 6: space = '      '; break;\r\n\t\t\tcase 7: space = '       '; break;\r\n\t\t\tcase 8: space = '        '; break;\r\n\t\t\tcase 9: space = '         '; break;\r\n\t\t\tcase 10: space = '          '; break;\r\n\t\t\tcase 11: space = '           '; break;\r\n\t\t\tcase 12: space = '            '; break;\r\n\t\t}\r\n\t}\r\n\r\n\tvar shift = ['\\n']; // array of shifts\r\n\tfor(var ix=0;ix<100;ix++) {\r\n\t\tshift.push(shift[ix]+space);\r\n\t}\r\n\treturn shift;\r\n}\r\n\r\nfunction vkbeautify(){\r\n\tthis.step = '    '; // 4 spaces\r\n\tthis.shift = createShiftArr(this.step);\r\n};\r\n\r\nvkbeautify.prototype.xml = function(text,step) {\r\n\r\n\tvar ar = text.replace(/>\\s{0,}</g,\"><\")\r\n\t\t\t\t .replace(/</g,\"~::~<\")\r\n\t\t\t\t .replace(/\\s*xmlns\\:/g,\"~::~xmlns:\")\r\n\t\t\t\t .replace(/\\s*xmlns\\=/g,\"~::~xmlns=\")\r\n\t\t\t\t .split('~::~'),\r\n\t\tlen = ar.length,\r\n\t\tinComment = false,\r\n\t\tdeep = 0,\r\n\t\tstr = '',\r\n\t\tix = 0,\r\n\t\tshift = step ? createShiftArr(step) : this.shift;\r\n\r\n\t\tfor(ix=0;ix<len;ix++) {\r\n\t\t\t// start comment or <![CDATA[...]]> or <!DOCTYPE //\r\n\t\t\tif(ar[ix].search(/<!/) > -1) {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t\tinComment = true;\r\n\t\t\t\t// end comment  or <![CDATA[...]]> //\r\n\t\t\t\tif(ar[ix].search(/-->/) > -1 || ar[ix].search(/\\]>/) > -1 || ar[ix].search(/!DOCTYPE/) > -1 ) {\r\n\t\t\t\t\tinComment = false;\r\n\t\t\t\t}\r\n\t\t\t} else\r\n\t\t\t// end comment  or <![CDATA[...]]> //\r\n\t\t\tif(ar[ix].search(/-->/) > -1 || ar[ix].search(/\\]>/) > -1) {\r\n\t\t\t\tstr += ar[ix];\r\n\t\t\t\tinComment = false;\r\n\t\t\t} else\r\n\t\t\t// <elm></elm> //\r\n\t\t\tif( /^<\\w/.exec(ar[ix-1]) && /^<\\/\\w/.exec(ar[ix]) &&\r\n\t\t\t\t/^<[\\w:\\-\\.\\,]+/.exec(ar[ix-1]) == /^<\\/[\\w:\\-\\.\\,]+/.exec(ar[ix])[0].replace('/','')) {\r\n\t\t\t\tstr += ar[ix];\r\n\t\t\t\tif(!inComment) deep--;\r\n\t\t\t} else\r\n\t\t\t // <elm> //\r\n\t\t\tif(ar[ix].search(/<\\w/) > -1 && ar[ix].search(/<\\//) == -1 && ar[ix].search(/\\/>/) == -1 ) {\r\n\t\t\t\tstr = !inComment ? str += shift[deep++]+ar[ix] : str += ar[ix];\r\n\t\t\t} else\r\n\t\t\t // <elm>...</elm> //\r\n\t\t\tif(ar[ix].search(/<\\w/) > -1 && ar[ix].search(/<\\//) > -1) {\r\n\t\t\t\tstr = !inComment ? str += shift[deep]+ar[ix] : str += ar[ix];\r\n\t\t\t} else\r\n\t\t\t// </elm> //\r\n\t\t\tif(ar[ix].search(/<\\//) > -1) {\r\n\t\t\t\tstr = !inComment ? str += shift[--deep]+ar[ix] : str += ar[ix];\r\n\t\t\t} else\r\n\t\t\t// <elm/> //\r\n\t\t\tif(ar[ix].search(/\\/>/) > -1 ) {\r\n\t\t\t\tstr = !inComment ? str += shift[deep]+ar[ix] : str += ar[ix];\r\n\t\t\t} else\r\n\t\t\t// <? xml ... ?> //\r\n\t\t\tif(ar[ix].search(/<\\?/) > -1) {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t} else\r\n\t\t\t// xmlns //\r\n\t\t\tif( ar[ix].search(/xmlns\\:/) > -1  || ar[ix].search(/xmlns\\=/) > -1) {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\tstr += ar[ix];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\treturn  (str[0] == '\\n') ? str.slice(1) : str;\r\n}\r\n\r\nvkbeautify.prototype.json = function(text,step) {\r\n\r\n\tvar step = step ? step : this.step;\r\n\r\n\tif (typeof JSON === 'undefined' ) return text;\r\n\r\n\tif ( typeof text === \"string\" ) return JSON.stringify(JSON.parse(text), null, step);\r\n\tif ( typeof text === \"object\" ) return JSON.stringify(text, null, step);\r\n\r\n\treturn text; // text is not string nor object\r\n}\r\n\r\nvkbeautify.prototype.css = function(text, step) {\r\n\r\n\tvar ar = text.replace(/\\s{1,}/g,' ')\r\n\t\t\t\t.replace(/\\{/g,\"{~::~\")\r\n\t\t\t\t.replace(/\\}/g,\"~::~}~::~\")\r\n\t\t\t\t.replace(/\\;/g,\";~::~\")\r\n\t\t\t\t.replace(/\\/\\*/g,\"~::~/*\")\r\n\t\t\t\t.replace(/\\*\\//g,\"*/~::~\")\r\n\t\t\t\t.replace(/~::~\\s{0,}~::~/g,\"~::~\")\r\n\t\t\t\t.split('~::~'),\r\n\t\tlen = ar.length,\r\n\t\tdeep = 0,\r\n\t\tstr = '',\r\n\t\tix = 0,\r\n\t\tshift = step ? createShiftArr(step) : this.shift;\r\n\r\n\t\tfor(ix=0;ix<len;ix++) {\r\n\r\n\t\t\tif( /\\{/.exec(ar[ix]))  {\r\n\t\t\t\tstr += shift[deep++]+ar[ix];\r\n\t\t\t} else\r\n\t\t\tif( /\\}/.exec(ar[ix]))  {\r\n\t\t\t\tstr += shift[--deep]+ar[ix];\r\n\t\t\t} else\r\n\t\t\tif( /\\*\\\\/.exec(ar[ix]))  {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str.replace(/^\\n{1,}/,'');\r\n}\r\n\r\n//----------------------------------------------------------------------------\r\n\r\nfunction isSubquery(str, parenthesisLevel) {\r\n\treturn  parenthesisLevel - (str.replace(/\\(/g,'').length - str.replace(/\\)/g,'').length )\r\n}\r\n\r\nfunction split_sql(str, tab) {\r\n\r\n\treturn str.replace(/\\s{1,}/g,\" \")\r\n\r\n\t\t\t\t.replace(/ AND /ig,\"~::~\"+tab+tab+\"AND \")\r\n\t\t\t\t.replace(/ BETWEEN /ig,\"~::~\"+tab+\"BETWEEN \")\r\n\t\t\t\t.replace(/ CASE /ig,\"~::~\"+tab+\"CASE \")\r\n\t\t\t\t.replace(/ ELSE /ig,\"~::~\"+tab+\"ELSE \")\r\n\t\t\t\t.replace(/ END /ig,\"~::~\"+tab+\"END \")\r\n\t\t\t\t.replace(/ FROM /ig,\"~::~FROM \")\r\n\t\t\t\t.replace(/ GROUP\\s{1,}BY/ig,\"~::~GROUP BY \")\r\n\t\t\t\t.replace(/ HAVING /ig,\"~::~HAVING \")\r\n\t\t\t\t//.replace(/ SET /ig,\" SET~::~\")\r\n\t\t\t\t.replace(/ IN /ig,\" IN \")\r\n\r\n\t\t\t\t.replace(/ JOIN /ig,\"~::~JOIN \")\r\n\t\t\t\t.replace(/ CROSS~::~{1,}JOIN /ig,\"~::~CROSS JOIN \")\r\n\t\t\t\t.replace(/ INNER~::~{1,}JOIN /ig,\"~::~INNER JOIN \")\r\n\t\t\t\t.replace(/ LEFT~::~{1,}JOIN /ig,\"~::~LEFT JOIN \")\r\n\t\t\t\t.replace(/ RIGHT~::~{1,}JOIN /ig,\"~::~RIGHT JOIN \")\r\n\r\n\t\t\t\t.replace(/ ON /ig,\"~::~\"+tab+\"ON \")\r\n\t\t\t\t.replace(/ OR /ig,\"~::~\"+tab+tab+\"OR \")\r\n\t\t\t\t.replace(/ ORDER\\s{1,}BY/ig,\"~::~ORDER BY \")\r\n\t\t\t\t.replace(/ OVER /ig,\"~::~\"+tab+\"OVER \")\r\n\r\n\t\t\t\t.replace(/\\(\\s{0,}SELECT /ig,\"~::~(SELECT \")\r\n\t\t\t\t.replace(/\\)\\s{0,}SELECT /ig,\")~::~SELECT \")\r\n\r\n\t\t\t\t.replace(/ THEN /ig,\" THEN~::~\"+tab+\"\")\r\n\t\t\t\t.replace(/ UNION /ig,\"~::~UNION~::~\")\r\n\t\t\t\t.replace(/ USING /ig,\"~::~USING \")\r\n\t\t\t\t.replace(/ WHEN /ig,\"~::~\"+tab+\"WHEN \")\r\n\t\t\t\t.replace(/ WHERE /ig,\"~::~WHERE \")\r\n\t\t\t\t.replace(/ WITH /ig,\"~::~WITH \")\r\n\r\n\t\t\t\t//.replace(/\\,\\s{0,}\\(/ig,\",~::~( \")\r\n\t\t\t\t//.replace(/\\,/ig,\",~::~\"+tab+tab+\"\")\r\n\r\n\t\t\t\t.replace(/ ALL /ig,\" ALL \")\r\n\t\t\t\t.replace(/ AS /ig,\" AS \")\r\n\t\t\t\t.replace(/ ASC /ig,\" ASC \")\r\n\t\t\t\t.replace(/ DESC /ig,\" DESC \")\r\n\t\t\t\t.replace(/ DISTINCT /ig,\" DISTINCT \")\r\n\t\t\t\t.replace(/ EXISTS /ig,\" EXISTS \")\r\n\t\t\t\t.replace(/ NOT /ig,\" NOT \")\r\n\t\t\t\t.replace(/ NULL /ig,\" NULL \")\r\n\t\t\t\t.replace(/ LIKE /ig,\" LIKE \")\r\n\t\t\t\t.replace(/\\s{0,}SELECT /ig,\"SELECT \")\r\n\t\t\t\t.replace(/\\s{0,}UPDATE /ig,\"UPDATE \")\r\n\t\t\t\t.replace(/ SET /ig,\" SET \")\r\n\r\n\t\t\t\t.replace(/~::~{1,}/g,\"~::~\")\r\n\t\t\t\t.split('~::~');\r\n}\r\n\r\nvkbeautify.prototype.sql = function(text,step) {\r\n\r\n\tvar ar_by_quote = text.replace(/\\s{1,}/g,\" \")\r\n\t\t\t\t\t\t\t.replace(/\\'/ig,\"~::~\\'\")\r\n\t\t\t\t\t\t\t.split('~::~'),\r\n\t\tlen = ar_by_quote.length,\r\n\t\tar = [],\r\n\t\tdeep = 0,\r\n\t\ttab = this.step,//+this.step,\r\n\t\tinComment = true,\r\n\t\tinQuote = false,\r\n\t\tparenthesisLevel = 0,\r\n\t\tstr = '',\r\n\t\tix = 0,\r\n\t\tshift = step ? createShiftArr(step) : this.shift;;\r\n\r\n\t\tfor(ix=0;ix<len;ix++) {\r\n\t\t\tif(ix%2) {\r\n\t\t\t\tar = ar.concat(ar_by_quote[ix]);\r\n\t\t\t} else {\r\n\t\t\t\tar = ar.concat(split_sql(ar_by_quote[ix], tab) );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlen = ar.length;\r\n\t\tfor(ix=0;ix<len;ix++) {\r\n\r\n\t\t\tparenthesisLevel = isSubquery(ar[ix], parenthesisLevel);\r\n\r\n\t\t\tif( /\\s{0,}\\s{0,}SELECT\\s{0,}/.exec(ar[ix]))  {\r\n\t\t\t\tar[ix] = ar[ix].replace(/\\,/g,\",\\n\"+tab+tab+\"\")\r\n\t\t\t}\r\n\r\n\t\t\tif( /\\s{0,}\\s{0,}SET\\s{0,}/.exec(ar[ix]))  {\r\n\t\t\t\tar[ix] = ar[ix].replace(/\\,/g,\",\\n\"+tab+tab+\"\")\r\n\t\t\t}\r\n\r\n\t\t\tif( /\\s{0,}\\(\\s{0,}SELECT\\s{0,}/.exec(ar[ix]))  {\r\n\t\t\t\tdeep++;\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t} else\r\n\t\t\tif( /\\'/.exec(ar[ix]) )  {\r\n\t\t\t\tif(parenthesisLevel<1 && deep) {\r\n\t\t\t\t\tdeep--;\r\n\t\t\t\t}\r\n\t\t\t\tstr += ar[ix];\r\n\t\t\t}\r\n\t\t\telse  {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t\tif(parenthesisLevel<1 && deep) {\r\n\t\t\t\t\tdeep--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar junk = 0;\r\n\t\t}\r\n\r\n\t\tstr = str.replace(/^\\n{1,}/,'').replace(/\\n{1,}/g,\"\\n\");\r\n\t\treturn str;\r\n}\r\n\r\n\r\nvkbeautify.prototype.xmlmin = function(text, preserveComments) {\r\n\r\n\tvar str = preserveComments ? text\r\n\t\t\t\t\t\t\t   : text.replace(/\\<![ \\r\\n\\t]*(--([^\\-]|[\\r\\n]|-[^\\-])*--[ \\r\\n\\t]*)\\>/g,\"\")\r\n\t\t\t\t\t\t\t\t\t .replace(/[ \\r\\n\\t]{1,}xmlns/g, ' xmlns');\r\n\treturn  str.replace(/>\\s{0,}</g,\"><\");\r\n}\r\n\r\nvkbeautify.prototype.jsonmin = function(text) {\r\n\r\n\tif (typeof JSON === 'undefined' ) return text;\r\n\r\n\treturn JSON.stringify(JSON.parse(text), null, 0);\r\n\r\n}\r\n\r\nvkbeautify.prototype.cssmin = function(text, preserveComments) {\r\n\r\n\tvar str = preserveComments ? text\r\n\t\t\t\t\t\t\t   : text.replace(/\\/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+\\//g,\"\") ;\r\n\r\n\treturn str.replace(/\\s{1,}/g,' ')\r\n\t\t\t  .replace(/\\{\\s{1,}/g,\"{\")\r\n\t\t\t  .replace(/\\}\\s{1,}/g,\"}\")\r\n\t\t\t  .replace(/\\;\\s{1,}/g,\";\")\r\n\t\t\t  .replace(/\\/\\*\\s{1,}/g,\"/*\")\r\n\t\t\t  .replace(/\\*\\/\\s{1,}/g,\"*/\");\r\n}\r\n\r\nvkbeautify.prototype.sqlmin = function(text) {\r\n\treturn text.replace(/\\s{1,}/g,\" \").replace(/\\s{1,}\\(/,\"(\").replace(/\\s{1,}\\)/,\")\");\r\n}\r\n\r\nmodule.exports = new vkbeautify();\r\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import utils from './utils'\nimport CallbackManager from './CallbackManager'\n\nimport _ from 'underscore'\nimport { event } from 'd3-selection'\nimport {\n  zoom as d3Zoom,\n  zoomIdentity as d3ZoomIdentity\n} from 'd3-zoom'\n\n/**\n * ZoomContainer\n */\nexport default class ZoomContainer {\n  /**\n   * Make a container that will manage panning and zooming. Creates a new SVG\n   * element, with a parent div for CSS3 3D transforms.\n   * @param {D3 Selection} selection - A d3 selection of a HTML node to put the\n   * zoom container in. Should have a defined width and height.\n   * @param {String} scroll_behavior - Either 'zoom' or 'pan'.\n   * @param {Boolean} use3dTransform - If true, then use CSS3 3D transform to\n   * speed up pan and zoom.\n   */\n  constructor (selection, scrollBehavior, use3dTransform) {\n    // set the selection class\n    selection.classed('escher-container', true)\n\n    // Stop scrolling on mobile\n    // Only necessary for Safari because touch-action CSS is supported by all other browsers\n    // TODO Zak needs to figure out why this doesn't work on Safari\n    if (navigator && navigator.userAgent && navigator.userAgent.indexOf('Safari') !== -1 && navigator.userAgent.indexOf('Mozilla') === -1) {\n      selection.on('touchstart touchmove', function () {\n        event.stopPropagation()\n      })\n    }\n\n    // make the svg\n    const container = selection.append('div')\n          .attr('class', 'escher-zoom-container')\n    const css3TransformContainer = container.append('div')\n          .attr('class', 'escher-3d-transform-container')\n\n    const svg = css3TransformContainer.append('svg')\n          .attr('class', 'escher-svg')\n          .attr('xmlns', 'http://www.w3.org/2000/svg')\n\n    // set up the zoom container\n    svg.select('.zoom-g').remove()\n    const zoomedSel = svg.append('g').attr('class', 'zoom-g')\n\n    // attributes\n    this.selection = selection\n    this.container = container\n    this.css3TransformContainer = css3TransformContainer\n    this.svg = svg\n    this.zoomedSel = zoomedSel\n    this.windowTranslate = { x: 0, y: 0 }\n    this.windowScale = 1.0\n\n    this._scrollBehavior = scrollBehavior\n    this._use3dTransform = use3dTransform\n    this._panDragOn = true\n    this._zoomBehavior = null\n    this._zoomTimeout = null\n    this._svgScale = this.windowScale\n    this._svgTranslate = this.windowTranslate\n    this._3dTransform = null\n    this._requestedFrame = false\n    // this._lastSvgMs = null\n\n    // set up the callbacks\n    this.callbackManager = new CallbackManager()\n\n    // update the scroll behavior\n    this._updateScroll()\n  }\n\n  /**\n   * Set up pan or zoom on scroll.\n   * @param {String} scroll_behavior - 'none', 'pan' or 'zoom'.\n   */\n  setScrollBehavior (scrollBehavior) {\n    this._scrollBehavior = scrollBehavior\n    this._updateScroll()\n  }\n\n  /**\n   * Set the option use3dTransform\n   */\n  setUse3dTransform (use3dTransform) {\n    this._use3dTransform = use3dTransform\n  }\n\n  /**\n   * Toggle the zoom drag and the cursor UI for it.\n   */\n  togglePanDrag (onOff) {\n    if (_.isUndefined(onOff)) {\n      this._panDragOn = !this._panDragOn\n    } else {\n      this._panDragOn = onOff\n    }\n\n    if (this._panDragOn) {\n      // turn on the hand. Performance note: In previous versions of Escher, we\n      // enabled the \"grabbing\" cursor during pan events. However, this causes a\n      // browser layout and costs about 400ms, so we turned it off.\n      this.zoomedSel.style('cursor', 'grab')\n    } else {\n      // turn off the hand\n      if (this.zoomedSel.style('cursor') === 'grab') {\n        this.zoomedSel.style('cursor', null)\n      }\n    }\n\n    // update the behaviors\n    this._updateScroll()\n  }\n\n  /**\n   * Update the pan and zoom behaviors. The behaviors are applied to the\n   * css3TransformContainer node.\n   */\n  _updateScroll () {\n    if (!_.contains([ 'zoom', 'pan', 'none' ], this._scrollBehavior)) {\n      throw Error('Bad value for scroll_behavior: ' + this._scrollBehavior)\n    }\n\n    // clear all behaviors\n    this.container.on('mousewheel.zoom', null) // zoom scroll behaviors\n      .on('DOMMouseScroll.zoom', null) // disables older versions of Firefox\n      .on('wheel.zoom', null) // disables newer versions of Firefox\n      .on('dblclick.zoom', null)\n      .on('mousewheel.escher', null) // pan scroll behaviors\n      .on('DOMMouseScroll.escher', null)\n      .on('wheel.escher', null)\n      .on('mousedown.zoom', null) // drag behaviors\n      .on('touchstart.zoom', null)\n      .on('touchmove.zoom', null)\n      .on('touchend.zoom', null)\n\n    // This handles dragging to pan, and touch events (in any scroll mode). It\n    // also handles scrolling to zoom (only 'zoom' mode). It also raises an\n    // exception in node, so catch that during testing. This may be a bug with\n    // d3 related to d3 using the global this.document. TODO look into this.\n    this._zoomBehavior = d3Zoom()\n      .on('start', () => {\n        // Prevent default zoom behavior, specifically for mobile pinch zoom\n        if (event.sourceEvent !== null) {\n          event.sourceEvent.stopPropagation()\n          event.sourceEvent.preventDefault()\n        }\n      })\n      .on('zoom', () => {\n        this._goToCallback(event.transform.k, {\n          x: event.transform.x,\n          y: event.transform.y\n        })\n      })\n\n    // Set it up\n    this.container.call(this._zoomBehavior)\n\n    // Always turn off double-clicking to zoom\n    this.container.on('dblclick.zoom', null)\n\n    // If panning is off, then turn off these listeners\n    if (!this._panDragOn) {\n      this.container.on('mousedown.zoom', null)\n        .on('touchstart.zoom', null)\n        .on('touchmove.zoom', null)\n        .on('touchend.zoom', null)\n    }\n\n    // If scroll to zoom is off, then turn off these listeners\n    if (this._scrollBehavior !== 'zoom') {\n      this.container\n        .on('mousewheel.zoom', null) // zoom scroll behaviors\n        .on('DOMMouseScroll.zoom', null) // disables older versions of Firefox\n        .on('wheel.zoom', null) // disables newer versions of Firefox\n    }\n\n    // add listeners for scrolling to pan\n    if (this._scrollBehavior === 'pan') {\n      // Add the wheel listener\n      const wheelFn = () => {\n        const ev = event\n        const sensitivity = 0.5\n        // stop scroll in parent elements\n        ev.stopPropagation()\n        ev.preventDefault()\n        ev.returnValue = false\n        // change the location\n        const getDirectionalDisp = (wheelDelta, delta) => {\n          const theDelt = _.isUndefined(wheelDelta) ? delta : -wheelDelta / 1.5\n          return theDelt * sensitivity\n        }\n        const newTranslate = {\n          x: this.windowTranslate.x - getDirectionalDisp(ev.wheelDeltaX, ev.deltaX),\n          y: this.windowTranslate.y - getDirectionalDisp(ev.wheelDeltaY, ev.deltaY)\n        }\n        this.goTo(this.windowScale, newTranslate)\n      }\n\n      // apply it\n      this.container.on('mousewheel.escher', wheelFn)\n      this.container.on('DOMMouseScroll.escher', wheelFn)\n      this.container.on('wheel.escher', wheelFn)\n    }\n\n    // Set current location\n    this.goTo(this.windowScale, this.windowTranslate)\n  }\n\n  // ------------------------------------------------------------\n  // Functions to scale and translate\n  // ------------------------------------------------------------\n\n  /**\n   * Zoom the container to a specified location.\n   * @param {Number} scale - The scale, between 0 and 1.\n   * @param {Object} translate - The location, of the form {x: 2.0, y: 3.0}.\n   */\n  goTo (scale, translate) {\n    // Check inputs\n    if (!scale) {\n      console.error('Bad scale value')\n      return\n    }\n    if (!translate || !('x' in translate) || !('y' in translate) ||\n        _.isNaN(translate.x) || _.isNaN(translate.y)) {\n      console.error('Bad translate value')\n      return\n    }\n\n    // Save to zoom behavior, which will call _goTo_callback\n    const newZoom = d3ZoomIdentity\n          .translate(translate.x, translate.y)\n          .scale(scale)\n    this.container.call(this._zoomBehavior.transform, newZoom)\n  }\n\n  /**\n   * Execute the zoom called by the d3 zoom behavior.\n   * @param {Number} scale - The scale, between 0 and 1\n   * @param {Object} translate - The location, of the form { x: 2.0, y: 3.0 }\n   */\n  _goToCallback (scale, translate) {\n    // if the scale changes, run the zoom_change callback\n    if (this.windowScale !== scale) {\n      this.windowScale = scale\n      this.callbackManager.run('zoom_change')\n    }\n    this.windowTranslate = translate\n\n    if (this._use3dTransform) { // 3d transform\n      // cancel all timeouts\n      if (!_.isNull(this._zoomTimeout)) {\n        clearTimeout(this._zoomTimeout)\n      }\n\n      // set the 3d transform\n      this._goTo3d(scale, translate, this._svgScale, this._svgTranslate)\n\n      // if another goTo does not happen within the delay time, then\n      // redraw the svg\n      this._zoomTimeout = _.delay(() => {\n        // redraw the svg\n        this._requestedFrame = false\n        this._goToSvg(scale, translate)\n      }, 100) // between 100 and 600 seems to be usable\n    } else { // no 3d transform\n      this._goToSvg(scale, translate)\n    }\n\n    this.callbackManager.run('go_to')\n  }\n\n  _goTo3dFrame () {\n    if (!this._requestedFrame) {\n      this._requestedFrame = true\n      window.requestAnimationFrame(() => {\n        this._requestedFrame = false\n        const transform = this._3dTransform\n        if (transform) {\n          this.css3TransformContainer.style('transform', transform)\n          this.css3TransformContainer.style('-webkit-transform', transform)\n          this.css3TransformContainer.style('transform-origin', '0 0')\n          this.css3TransformContainer.style('-webkit-transform-origin', '0 0')\n        } else {\n          console.warn('No _3dTransform defined')\n        }\n      })\n    }\n  }\n\n  /**\n   * Zoom & pan the CSS 3D transform container\n   */\n  _goTo3d (scale, translate, svgScale, svgTranslate) {\n    const nScale = scale / svgScale\n    const nTranslate = utils.c_minus_c(translate,\n                                        utils.c_times_scalar(svgTranslate, nScale))\n    const transform = ('translate(' + nTranslate.x + 'px,' + nTranslate.y + 'px) ' +\n                       'scale(' + nScale + ')')\n    this._3dTransform = transform\n    this._goTo3dFrame()\n  }\n\n  _clear3d () {\n    if (this._3dTransform) {\n      this._3dTransform = null\n      this.css3TransformContainer.style('transform', null)\n      this.css3TransformContainer.style('-webkit-transform', null)\n      this.css3TransformContainer.style('transform-origin', null)\n      this.css3TransformContainer.style('-webkit-transform-origin', null)\n    }\n  }\n\n  _goToSvgFrame (callback = null) {\n    if (!this._requestedFrame || callback) {\n      this._requestedFrame = true\n      window.requestAnimationFrame(() => {\n        this._requestedFrame = false\n\n        // reset the 3d transform\n        this._clear3d()\n\n        const scale = this._svgScale\n        const translate = this._svgTranslate\n        this.zoomedSel\n          .attr('transform',\n                'translate(' + translate.x + ',' + translate.y + ') ' +\n                'scale(' + scale + ')')\n        if (callback) callback()\n      })\n    }\n  }\n\n  /**\n   * Zoom & pan the svg element. Also runs the svg_start and svg_finish callbacks.\n   * @param {Number} scale - The scale, between 0 and 1.\n   * @param {Object} translate - The location, of the form {x: 2.0, y: 3.0}.\n   * @param {Function} callback - (optional) A callback to run after scaling.\n   */\n  _goToSvg (scale, translate, callback = null) {\n    // redraw the svg\n    // save svg location\n    this._svgScale = scale\n    this._svgTranslate = translate\n    this._goToSvgFrame(callback)\n  }\n\n  /**\n   * Zoom by a specified multiplier.\n   * @param {Number} amount - A multiplier for the zoom. Greater than 1 zooms in\n   * and less than 1 zooms out.\n   */\n  zoomBy (amount) {\n    var size = this.get_size()\n    var shift = {\n      x: size.width / 2 - ((size.width / 2 - this.windowTranslate.x) * amount +\n                           this.windowTranslate.x),\n      y: size.height / 2 - ((size.height / 2 - this.windowTranslate.y) * amount +\n                            this.windowTranslate.y)\n    }\n    this.goTo(this.windowScale * amount,\n               utils.c_plus_c(this.windowTranslate, shift))\n  }\n\n  /**\n   * Zoom in by the default amount with the default options.\n   */\n  zoom_in () { // eslint-disable-line camelcase\n    this.zoomBy(1.5)\n  }\n\n  /**\n   * Zoom out by the default amount with the default options.\n   */\n  zoom_out () { // eslint-disable-line camelcase\n    this.zoomBy(0.667)\n  }\n\n  /**\n   * Return the size of the zoom container as coordinates. Throws an error if\n   * width or height is not defined.\n   * @returns {Object} The size coordinates, e.g. { x: 2, y: 3 }.\n   */\n  get_size () { // eslint-disable-line camelcase\n    const {width, height} = this.selection.node().getBoundingClientRect()\n    return { width, height }\n  }\n\n  /**\n   * Shift window if new reaction will draw off the screen.\n   */\n  translateOffScreen (coords) {\n    // TODO BUG not accounting for scale correctly\n\n    var margin = 120 // pixels\n    var size = this.get_size()\n    var current = {\n      x: {\n        min: -this.windowTranslate.x / this.windowScale +\n          margin / this.windowScale,\n        max: -this.windowTranslate.x / this.windowScale +\n          (size.width - margin) / this.windowScale\n      },\n      y: {\n        min: -this.windowTranslate.y / this.windowScale +\n          margin / this.windowScale,\n        max: -this.windowTranslate.y / this.windowScale +\n          (size.height - margin) / this.windowScale\n      }\n    }\n\n    if (coords.x < current.x.min) {\n      this.windowTranslate.x = this.windowTranslate.x -\n        (coords.x - current.x.min) * this.windowScale\n      this.goTo(this.windowScale, this.windowTranslate)\n    } else if (coords.x > current.x.max) {\n      this.windowTranslate.x = this.windowTranslate.x -\n        (coords.x - current.x.max) * this.windowScale\n      this.goTo(this.windowScale, this.windowTranslate)\n    }\n    if (coords.y < current.y.min) {\n      this.windowTranslate.y = this.windowTranslate.y -\n        (coords.y - current.y.min) * this.windowScale\n      this.goTo(this.windowScale, this.windowTranslate)\n    } else if (coords.y > current.y.max) {\n      this.windowTranslate.y = this.windowTranslate.y -\n        (coords.y - current.y.max) * this.windowScale\n      this.goTo(this.windowScale, this.windowTranslate)\n    }\n  }\n}\n","import * as utils from './utils'\nimport Draw from './Draw'\nimport Behavior from './Behavior'\nimport Scale from './Scale'\nimport * as build from './build'\nimport UndoStack from './UndoStack'\nimport CallbackManager from './CallbackManager'\nimport KeyManager from './KeyManager'\nimport Canvas from './Canvas'\nimport * as dataStyles from './dataStyles'\nimport SearchIndex from './SearchIndex'\n\nimport bacon from 'baconjs'\nimport _ from 'underscore'\nimport { select as d3Select } from 'd3-selection'\n\nfunction _on_array (fn) {\n  return function (array) { return fn.apply(null, array) }\n}\n\n/**\n * Map - Defines the metabolic map data, and manages drawing and building.\n * @param svg: The parent SVG container for the map.\n * @param css:\n * @param selection: A d3 selection for a node to place the map inside.\n * @param selection:\n * @param zoomContainer:\n * @param settings:\n * @param cobra_model:\n * @param canvas_size_and_loc:\n * @param enable_search:\n * @param map_name: (Optional, Default: 'new map')\n * @param map_id: (Optional, Default: A string of random characters.)\n * @param map_description: (Optional, Default: '')\n *\n * Callbacks\n * ---------\n *\n * map.callback_manager.run('set_status', null, status)\n * map.callback_manager.run('toggle_beziers', null, beziers_enabled)\n * map.callback_manager.run('select_metabolite_with_id', null, selected_node, coords)\n * map.callback_manager.run('select_selectable', null, node_count, selected_node, coords)\n * map.callback_manager.run('deselect_nodes')\n * map.callback_manager.run('select_text_label')\n * map.callback_manager.run('before_svg_export')\n * map.callback_manager.run('after_svg_export')\n * map.callback_manager.run('before_png_export')\n * map.callback_manager.run('after_png_export')\n * map.callback_manager.run('before_convert_map')\n * map.callback_manager.run('after_convert_map')\n * this.callback_manager.run('calc_data_stats__reaction', null, changed)\n * this.callback_manager.run('calc_data_stats__metabolite', null, changed)\n *\n */\nexport default class Map {\n  constructor (svg, css, selection, zoomContainer, settings, cobra_model,\n               canvas_size_and_loc, enable_search, map_name, map_id,\n               map_description) {\n    if (canvas_size_and_loc === null) {\n      var size = zoomContainer.get_size()\n      canvas_size_and_loc = {\n        x: -size.width,\n        y: -size.height,\n        width: size.width*3,\n        height: size.height*3\n      }\n    }\n\n    if (_.isUndefined(map_name) || map_name === null || map_name === '') {\n      map_name = 'new_map'\n    } else {\n      map_name = String(map_name)\n    }\n\n    if (_.isUndefined(map_id) || map_id === null || map_id === '') {\n      map_id = utils.generate_map_id()\n    } else {\n      map_id = String(map_id)\n    }\n\n    if (_.isUndefined(map_description) || map_description === null) {\n      map_description = ''\n    } else {\n      map_description = String(map_description)\n    }\n\n    // set up the callbacks\n    this.callback_manager = new CallbackManager()\n\n    // set up the defs\n    this.svg = svg\n    this.defs = utils.setup_defs(svg, css)\n\n    // make the canvas\n    this.canvas = new Canvas(selection, canvas_size_and_loc)\n\n    this.setup_containers(selection)\n    this.sel = selection\n    this.zoomContainer = zoomContainer\n\n    this.settings = settings\n\n    // set the model AFTER loading the datasets\n    this.cobra_model = cobra_model\n\n    this.largest_ids = {\n      reactions: -1,\n      nodes: -1,\n      segments: -1,\n      text_labels: -1\n    }\n\n    // make the undo/redo stack\n    this.undo_stack = new UndoStack()\n\n    // make a behavior object\n    this.behavior = new Behavior(this, this.undo_stack)\n\n    // draw manager\n    this.draw = new Draw(this.behavior, this.settings, this)\n\n    // make a key manager\n    this.key_manager = new KeyManager()\n    this.key_manager.settings = settings\n    this.key_manager.ctrlEqualsCmd = true\n\n    // make the search index\n    this.enable_search = enable_search\n    this.search_index = new SearchIndex()\n\n    // map properties\n    this.map_name = map_name\n    this.map_id = map_id\n    this.map_description = map_description\n\n    // deal with the window\n    var window_translate = { x: 0, y: 0 }\n    var window_scale = 1\n\n    // hide beziers\n    this.beziers_enabled = false\n\n    // data\n    this.has_data_on_reactions = false\n    this.has_data_on_nodes = false\n    this.imported_reaction_data = null\n    this.imported_metabolite_data = null\n    this.imported_gene_data = null\n\n    this.nodes = {}\n    this.reactions = {}\n    this.beziers = {}\n    this.text_labels = {}\n\n    // Update data with null to populate data-specific attributes. Also calculates\n    // data stats for the first time.\n    this.apply_reaction_data_to_map(null)\n    this.apply_metabolite_data_to_map(null)\n    this.apply_gene_data_to_map(null)\n\n    // make the scales\n    this.scale = new Scale()\n    // initialize stats\n    this.scale.connectToSettings(this.settings, this, this.get_data_statistics.bind(this))\n\n    // rotation mode off\n    this.rotation_on = false\n  }\n\n  /**\n   * Load a json map and add necessary fields for rendering.\n   */\n  static from_data (map_data, svg, css, selection, zoomContainer, settings,\n                    cobra_model, enable_search) {\n    var canvas = map_data[1].canvas\n    var map_name = map_data[0].map_name\n    var map_id = map_data[0].map_id\n    var map_description = (map_data[0].map_description.replace(/(\\nLast Modified.*)+$/g, '')\n                           + '\\nLast Modified ' + Date(Date.now()).toString())\n    var map = new Map(svg, css, selection, zoomContainer, settings, cobra_model,\n                      canvas, enable_search, map_name, map_id, map_description)\n\n    map.reactions = map_data[1].reactions\n    map.nodes = map_data[1].nodes\n    map.text_labels = map_data[1].text_labels\n\n    for (var n_id in map.nodes) {\n      var node = map.nodes[n_id]\n\n      // clear all the connected segments\n      node.connected_segments = []\n\n      // Check and apply custom colors if they exist\n      if (node.fillColor !== undefined) {\n\n        node.fillColor = node.fillColor\n      }\n      if (node.strokeColor !== undefined) {\n       \n        node.strokeColor = node.strokeColor\n      }\n\n      //  populate the nodes search index.\n      if (enable_search) {\n        if (node.node_type !== 'metabolite') continue\n        map.search_index.insert('n' + n_id, { name: node.bigg_id,\n                                              data: { type: 'metabolite',\n                                                      node_id: n_id }})\n        map.search_index.insert('n_name' + n_id, { name: node.name,\n                                                   data: { type: 'metabolite',\n                                                           node_id: n_id }})\n      }\n    }\n\n    // Propagate coefficients and reversibility, build the connected\n    // segments, add bezier points, and populate the reaction search index.\n    for (var r_id in map.reactions) {\n      var reaction = map.reactions[r_id]\n\n      // reaction search index\n      if (enable_search) {\n        map.search_index.insert('r' + r_id,\n                                { 'name': reaction.bigg_id,\n                                  'data': { type: 'reaction',\n                                            reaction_id: r_id }})\n        map.search_index.insert('r_name' + r_id,\n                                { 'name': reaction.name,\n                                  'data': { type: 'reaction',\n                                            reaction_id: r_id }})\n        for (var g_id in reaction.genes) {\n          var gene = reaction.genes[g_id]\n          map.search_index.insert('r' + r_id + '_g' + g_id,\n                                  { 'name': gene.bigg_id,\n                                    'data': { type: 'reaction',\n                                              reaction_id: r_id }})\n          map.search_index.insert('r' + r_id + '_g_name' + g_id,\n                                  { 'name': gene.name,\n                                    'data': { type: 'reaction',\n                                              reaction_id: r_id }})\n        }\n      }\n\n      // keep track of any bad segments\n      var segments_to_delete = []\n      for (var s_id in reaction.segments) {\n        var segment = reaction.segments[s_id]\n\n        // propagate reversibility\n        segment.reversibility = reaction.reversibility\n\n        // if there is an error with to_ or from_ nodes, remove this segment\n        if (!(segment.from_node_id in map.nodes) || !(segment.to_node_id in map.nodes)) {\n          console.warn('Bad node references in segment ' + s_id + '. Deleting segment.')\n          segments_to_delete.push(s_id)\n          continue\n        }\n\n        const from_node = map.nodes[segment.from_node_id]\n        const to_node = map.nodes[segment.to_node_id]\n\n        // propagate coefficients\n        reaction.metabolites.forEach(function(met) {\n          if (met.bigg_id === from_node.bigg_id) {\n            segment.from_node_coefficient = met.coefficient\n          } else if (met.bigg_id === to_node.bigg_id) {\n            segment.to_node_coefficient = met.coefficient\n          }\n        })\n\n        // build connected segments\n        ;[from_node, to_node].forEach(function(node) {\n          node.connected_segments.push({ segment_id: s_id,\n                                         reaction_id: r_id })\n        })\n\n        // If the metabolite has no bezier points, then add them.\n        var start = map.nodes[segment.from_node_id],\n            end = map.nodes[segment.to_node_id]\n        if (start['node_type']=='metabolite' || end['node_type']=='metabolite') {\n          var midpoint = utils.c_plus_c(start, utils.c_times_scalar(utils.c_minus_c(end, start), 0.5))\n          if (segment.b1 === null) segment.b1 = midpoint\n          if (segment.b2 === null) segment.b2 = midpoint\n        }\n\n      }\n      // delete the bad segments\n      segments_to_delete.forEach(function(s_id) {\n        delete reaction.segments[s_id]\n      })\n    }\n\n    // add text_labels to the search index\n    if (enable_search) {\n      for (var label_id in map.text_labels) {\n        var label = map.text_labels[label_id]\n        map.search_index.insert('l'+label_id, { 'name': label.text,\n                                                'data': { type: 'text_label',\n                                                          text_label_id: label_id }})\n      }\n    }\n\n    // populate the beziers\n    map.beziers = build.newBeziersForReactions(map.reactions)\n\n    // get largest ids for adding new reactions, nodes, text labels, and\n    // segments\n    map.largest_ids.reactions = get_largest_id(map.reactions)\n    map.largest_ids.nodes = get_largest_id(map.nodes)\n    map.largest_ids.text_labels = get_largest_id(map.text_labels)\n\n    var largest_segment_id = 0\n    for (var id in map.reactions) {\n      largest_segment_id = get_largest_id(map.reactions[id].segments,\n                                          largest_segment_id)\n    }\n    map.largest_ids.segments = largest_segment_id\n\n    // update data with null to populate data-specific attributes\n    map.apply_reaction_data_to_map(null)\n    map.apply_metabolite_data_to_map(null)\n    map.apply_gene_data_to_map(null)\n\n    return map\n\n    /**\n     * Return the largest integer key in obj, or current_largest, whichever is\n     * bigger.\n     */\n    function get_largest_id (obj, current_largest) {\n      if (_.isUndefined(current_largest)) current_largest = 0\n      if (_.isUndefined(obj)) return current_largest\n      return Math.max.apply(null, Object.keys(obj).map(function(x) {\n        return parseInt(x)\n      }).concat([current_largest]))\n    }\n  }\n\n  // ---------------------------------------------------------------------\n  // more setup\n  // ---------------------------------------------------------------------\n\n  setup_containers (sel) {\n    sel.append('g')\n      .attr('id', 'reactions')\n    sel.append('g')\n      .attr('id', 'nodes')\n    sel.append('g')\n      .attr('id', 'beziers')\n    sel.append('g')\n      .attr('id', 'text-labels')\n  }\n\n  reset_containers () {\n    this.sel.select('#reactions')\n      .selectAll('.reaction')\n      .remove()\n    this.sel.select('#nodes')\n      .selectAll('.node')\n      .remove()\n    this.sel.select('#beziers')\n      .selectAll('.bezier')\n      .remove()\n    this.sel.select('#text-labels')\n      .selectAll('.text-label')\n      .remove()\n  }\n\n  // -------------------------------------------------------------------------\n  // Appearance\n  // -------------------------------------------------------------------------\n\n  /** Set the status of the map, with an optional expiration\n      time. Rendering the status is taken care of by the Builder.\n\n      Arguments\n      ---------\n\n      status: The status string.\n\n      time: An optional time, in ms, after which the status is set to ''.\n\n  */\n\n  set_status (status, time) {\n    this.callback_manager.run('set_status', null, status)\n    // clear any other timers on the status bar\n    clearTimeout(this._status_timer)\n    this._status_timer = null\n\n    if (time!==undefined) {\n      this._status_timer = setTimeout(function() {\n        this.callback_manager.run('set_status', null, '')\n      }.bind(this), time)\n    }\n  }\n\n  /**\n   * Clear the map data\n   */\n  clearMapData () {\n    this.reactions = {}\n    this.beziers = {}\n    this.nodes = {}\n    this.text_labels = {}\n    this.map_name = 'new_map'\n    this.map_id = utils.generate_map_id()\n    this.map_description = ''\n  }\n\n  has_cobra_model () {\n    return (this.cobra_model !== null)\n  }\n\n  /**\n   * Draw the all reactions, nodes, & text labels.\n   */\n  draw_everything () {\n    this.draw_all_reactions(true, true); // also draw beziers\n    this.draw_all_nodes(true)\n    this.draw_all_text_labels()\n  }\n\n  /** Draw all reactions, and clear deleted reactions.\n\n      Arguments\n      ---------\n\n      draw_beziers: (Boolean, default True) Whether to also draw the bezier\n      control points.\n\n      clear_deleted: (Optional, Default: true) Boolean, if true, then also\n      clear deleted nodes.\n\n  */\n  draw_all_reactions (draw_beziers, clear_deleted) {\n    if (_.isUndefined(draw_beziers)) draw_beziers = true\n    if (_.isUndefined(clear_deleted)) clear_deleted = true\n\n    // Draw all reactions.\n    var reaction_ids = []\n    for (var reaction_id in this.reactions) {\n      reaction_ids.push(reaction_id)\n    }\n    // If draw_beziers is true, just draw them all, rather than deciding\n    // which ones to draw.\n    this.draw_these_reactions(reaction_ids, false)\n    if (draw_beziers && this.beziers_enabled)\n      this.draw_all_beziers()\n\n    // Clear all deleted reactions.\n    if (clear_deleted)\n      this.clear_deleted_reactions(draw_beziers)\n  }\n\n  /**\n   * Draw specific reactions. Does nothing with exit selection. Use\n   * clear_deleted_reactions to remove reactions from the DOM.\n   * reactions_ids: An array of reaction_ids to update.\n   * draw_beziers: (Boolean, default True) Whether to also draw the bezier control\n   * points.\n   */\n  draw_these_reactions (reaction_ids, draw_beziers) {\n    if (_.isUndefined(draw_beziers)) draw_beziers = true\n\n    // find reactions for reaction_ids\n    var reaction_subset = utils.object_slice_for_ids_ref(this.reactions,\n                                                         reaction_ids)\n\n    // function to update reactions\n    var update_fn = function(sel) {\n      return this.draw.update_reaction(sel, this.scale, this.cobra_model,\n                                       this.nodes, this.defs,\n                                       this.has_data_on_reactions)\n    }.bind(this)\n\n    // draw the reactions\n    utils.draw_an_object(this.sel, '#reactions', '.reaction', reaction_subset,\n                         'reaction_id', this.draw.create_reaction.bind(this.draw),\n                         update_fn)\n\n    if (draw_beziers) {\n      // particular beziers to draw\n      var bezier_ids = build.bezierIdsForReactionIds(reaction_subset)\n      this.draw_these_beziers(bezier_ids)\n    }\n  }\n\n  /**\n   * Remove any reactions that are not in *this.reactions*.\n   * draw_beziers: (Boolean, default True) Whether to also clear deleted bezier\n   * control points.\n   */\n  clear_deleted_reactions (draw_beziers) {\n    if (_.isUndefined(draw_beziers)) draw_beziers = true\n\n    // Remove deleted reactions and segments\n    utils.draw_an_object(\n      this.sel, '#reactions', '.reaction', this.reactions, 'reaction_id', null,\n      function (update_selection) {\n        // Draw segments\n        utils.draw_a_nested_object(\n          update_selection, '.segment-group', 'segments', 'segment_id', null,\n          null, function(sel) { sel.remove() }\n        )\n      },\n      function (sel) {\n        sel.remove()\n      }\n    )\n\n    if (draw_beziers === true) {\n      this.clear_deleted_beziers()\n    }\n  }\n\n  /**\n   * Draw all nodes, and clear deleted nodes.\n   * @param clear_deleted: (Optional, Default: true) Boolean, if true, then also\n   * @param clear deleted nodes.\n   */\n  draw_all_nodes (clear_deleted) {\n    if (clear_deleted === undefined) clear_deleted = true\n\n    var node_ids = []\n    for (var node_id in this.nodes) {\n      node_ids.push(node_id)\n    }\n    this.draw_these_nodes(node_ids)\n\n    // clear the deleted nodes\n    if (clear_deleted)\n      this.clear_deleted_nodes()\n  }\n\n  /** Draw specific nodes.\n\n      Does nothing with exit selection. Use clear_deleted_nodes to remove\n      nodes from the DOM.\n\n      Arguments\n      ---------\n\n      nodes_ids: An array of node_ids to update.\n\n  */\n  draw_these_nodes (node_ids) {\n    // find reactions for reaction_ids\n    var node_subset = utils.object_slice_for_ids_ref(this.nodes, node_ids)\n\n    // functions to create and update nodes\n    var create_fn = function(sel) {\n      return this.draw.create_node(sel,\n                                   this.nodes,\n                                   this.reactions)\n    }.bind(this)\n    var update_fn = function (sel) {\n      return this.draw.update_node(sel,\n                                   this.scale,\n                                   this.has_data_on_nodes,\n                                   this.behavior.selectableMousedown,\n                                   this.behavior.selectableClick,\n                                   this.behavior.nodeMouseover,\n                                   this.behavior.nodeMouseout,\n                                   this.behavior.selectableDrag,\n                                   this.behavior.nodeLabelDrag)\n    }.bind(this)\n\n    // draw the nodes\n    utils.draw_an_object(this.sel, '#nodes', '.node', node_subset, 'node_id',\n                         create_fn, update_fn)\n  }\n\n  /**\n   * Remove any nodes that are not in *this.nodes*.\n   */\n  clear_deleted_nodes() {\n    // Run remove for exit selection\n    utils.draw_an_object(this.sel, '#nodes', '.node', this.nodes, 'node_id',\n                         null, null, function (sel) { sel.remove() })\n  }\n\n  /**\n   * Draw all text_labels.\n   */\n  draw_all_text_labels () {\n    this.draw_these_text_labels(Object.keys(this.text_labels))\n\n    // Clear all deleted text_labels\n    this.clear_deleted_text_labels()\n  }\n\n  /**\n   * Draw specific text_labels. Does nothing with exit selection. Use\n   * clear_deleted_text_labels to remove text_labels from the DOM.\n   * @param {Array} text_labels_ids - An array of text_label_ids to update.\n   */\n  draw_these_text_labels (text_label_ids) {\n    // Find reactions for reaction_ids\n    var text_label_subset = utils.object_slice_for_ids_ref(this.text_labels, text_label_ids)\n\n    // Draw the text_labels\n    utils.draw_an_object(this.sel, '#text-labels', '.text-label',\n                         text_label_subset, 'text_label_id',\n                         this.draw.create_text_label.bind(this.draw),\n                         this.draw.update_text_label.bind(this.draw))\n  }\n\n  /**\n   * Remove any text_labels that are not in *this.text_labels*.\n   */\n  clear_deleted_text_labels () {\n    utils.draw_an_object(this.sel, '#text-labels', '.text-label',\n                         this.text_labels, 'text_label_id', null, null,\n                         function (sel) { sel.remove() })\n  }\n\n  /**\n   * Draw all beziers, and clear deleted reactions.\n   */\n  draw_all_beziers () {\n    var bezier_ids = []\n    for (var bezier_id in this.beziers) {\n      bezier_ids.push(bezier_id)\n    }\n    this.draw_these_beziers(bezier_ids)\n\n    // clear delete beziers\n    this.clear_deleted_beziers()\n  }\n\n  draw_these_beziers(bezier_ids) {\n    /** Draw specific beziers.\n\n        Does nothing with exit selection. Use clear_deleted_beziers to remove\n        beziers from the DOM.\n\n        Arguments\n        ---------\n\n        beziers_ids: An array of bezier_ids to update.\n\n    */\n    // find reactions for reaction_ids\n    var bezier_subset = utils.object_slice_for_ids_ref(this.beziers, bezier_ids)\n\n    // function to update beziers\n    var update_fn = function(sel) {\n      return this.draw.update_bezier(sel,\n                                     this.beziers_enabled,\n                                     this.behavior.bezierDrag,\n                                     this.behavior.bezierMouseover,\n                                     this.behavior.bezierMouseout,\n                                     this.nodes,\n                                     this.reactions)\n    }.bind(this)\n\n    // draw the beziers\n    utils.draw_an_object(this.sel, '#beziers', '.bezier', bezier_subset,\n                         'bezier_id', this.draw.create_bezier.bind(this.draw),\n                         update_fn)\n  }\n\n  clear_deleted_beziers() {\n    /** Remove any beziers that are not in *this.beziers*.\n\n     */\n    // remove deleted\n    utils.draw_an_object(this.sel, '#beziers', '.bezier', this.beziers,\n                         'bezier_id', null, null,\n                         function(sel) { sel.remove(); })\n  }\n\n  show_beziers () {\n    this.toggle_beziers(true)\n  }\n\n  hide_beziers () {\n    this.toggle_beziers(false)\n  }\n\n  toggle_beziers (on_off) {\n    if (_.isUndefined(on_off)) this.beziers_enabled = !this.beziers_enabled\n    else this.beziers_enabled = on_off\n    this.draw_all_beziers()\n    this.callback_manager.run('toggle_beziers', null, this.beziers_enabled)\n  }\n\n  /**\n   * Returns True if the scale has changed.\n   * @param {Array} keys - (Optional) The keys in reactions to apply data to.\n   */\n  apply_reaction_data_to_map (data, keys) {\n    const styles = this.settings.get('reaction_styles')\n    const compareStyle = this.settings.get('reaction_compare_style')\n    const hasData = dataStyles.apply_reaction_data_to_reactions(\n      this.reactions,\n      data,\n      styles,\n      compareStyle,\n      keys\n    )\n    this.has_data_on_reactions = hasData\n    this.imported_reaction_data = hasData ? data : null\n\n    return this.calc_data_stats('reaction')\n  }\n\n  /**\n   * Returns True if the scale has changed.\n   * @param {Array} keys - (Optional) The keys in nodes to apply data to.\n   */\n  apply_metabolite_data_to_map (data, keys) {\n    const styles = this.settings.get('metabolite_styles')\n    const compare_style = this.settings.get('metabolite_compare_style')\n\n    const has_data = dataStyles.apply_metabolite_data_to_nodes(this.nodes,\n                                                               data, styles,\n                                                               compare_style,\n                                                               keys)\n    this.has_data_on_nodes = has_data\n    this.imported_metabolite_data = has_data ? data : null\n\n    return this.calc_data_stats('metabolite')\n  }\n\n  /**\n   * Returns True if the scale has changed.\n   * gene_data_obj: The gene data object, with the following style:\n   * { reaction_id: { rule: 'rule_string', genes: { gene_id: value } } }\n   * @param {Array} keys - (Optional) The keys in reactions to apply data to.\n   */\n  apply_gene_data_to_map (gene_data_obj, keys) {\n    var styles = this.settings.get('reaction_styles'),\n        compare_style = this.settings.get('reaction_compare_style'),\n        identifiers_on_map = this.settings.get('identifiers_on_map'),\n        and_method_in_gene_reaction_rule = this.settings.get('and_method_in_gene_reaction_rule')\n\n    var has_data = dataStyles.apply_gene_data_to_reactions(this.reactions, gene_data_obj,\n                                                            styles, identifiers_on_map,\n                                                            compare_style,\n                                                            and_method_in_gene_reaction_rule,\n                                                            keys)\n    this.has_data_on_reactions = has_data\n    this.imported_gene_data = has_data ? gene_data_obj : null\n\n    return this.calc_data_stats('reaction')\n  }\n\n  // ------------------------------------------------\n  // Data domains\n  // ------------------------------------------------\n\n  get_data_statistics () {\n    return this.data_statistics\n  }\n\n  /**\n   * Returns True if the stats have changed.\n   * @param {String} type - Either 'metabolite' or 'reaction'\n   */\n  calc_data_stats (type) {\n    if ([ 'reaction', 'metabolite' ].indexOf(type) === -1) {\n      throw new Error('Bad type ' + type)\n    }\n\n    // make the data structure\n    if (!('data_statistics' in this)) {\n      this.data_statistics = {}\n      this.data_statistics[type] = null\n    } else if (!(type in this.data_statistics)) {\n      this.data_statistics[type] = null\n    }\n\n    // default min and max\n    const vals = []\n    if (type === 'metabolite') {\n      for (let node_id in this.nodes) {\n        var node = this.nodes[node_id]\n        // check number\n        if (_.isUndefined(node.data)) {\n          console.error('metabolite missing ')\n        } else if (node.data !== null) {\n          vals.push(node.data)\n        }\n      }\n    } else if (type == 'reaction') {\n      for (let reaction_id in this.reactions) {\n        var reaction = this.reactions[reaction_id]\n        // check number\n        if (_.isUndefined(reaction.data)) {\n          console.error('reaction data missing ')\n        } else if (reaction.data !== null) {\n          vals.push(reaction.data)\n        }\n      }\n    }\n\n    // If no vals, then set to null\n    if (vals.length === 0) {\n      const wasNull = this.data_statistics[type] === null\n      this.data_statistics[type] = null\n      if (type === 'reaction') {\n        this.callback_manager.run('calc_data_stats__reaction', null, !wasNull)\n      } else {\n        this.callback_manager.run('calc_data_stats__metabolite', null, !wasNull)\n      }\n      return !wasNull // true means did change which means was not null\n    }\n\n    // If there are vals and it was previously null, then create an object\n    if (this.data_statistics[type] === null) {\n      this.data_statistics[type] = {}\n    }\n\n    let same = true\n\n    // calculate these statistics\n    var quartiles = utils.quartiles(vals)\n    var funcs = [\n      [ 'min',    _on_array(Math.min) ],\n      [ 'max',    _on_array(Math.max) ],\n      [ 'mean',   utils.mean ],\n      [ 'Q1',     function () { return quartiles[0] } ],\n      [ 'median', function () { return quartiles[1] } ],\n      [ 'Q3',     function () { return quartiles[2] } ],\n    ]\n    funcs.forEach(function (ar) {\n      var new_val\n      var name = ar[0]\n      if (vals.length === 0) {\n        new_val = null\n      } else {\n        var fn = ar[1]\n        new_val = fn(vals)\n      }\n      if (new_val != this.data_statistics[type][name]) {\n        same = false\n      }\n      this.data_statistics[type][name] = new_val\n    }.bind(this))\n\n    // Deal with max === min\n    if (this.data_statistics[type]['min'] === this.data_statistics[type]['max'] &&\n        this.data_statistics[type]['min'] !== null) {\n      var min = this.data_statistics[type]['min']\n      var max = this.data_statistics[type]['max']\n      this.data_statistics[type]['min'] = min - 1 - (Math.abs(min) * 0.1)\n      this.data_statistics[type]['max'] = max + 1 + (Math.abs(max) * 0.1)\n    }\n\n    if (type === 'reaction') {\n      this.callback_manager.run('calc_data_stats__reaction', null, !same)\n    } else {\n      this.callback_manager.run('calc_data_stats__metabolite', null, !same)\n    }\n    return !same\n  }\n\n  // ---------------------------------------------------------------------\n  // Node interaction\n  // ---------------------------------------------------------------------\n\n  get_coords_for_node (node_id) {\n    var node = this.nodes[node_id],\n        coords = { x: node.x, y: node.y }\n    return coords\n  }\n\n  get_selected_node_ids () {\n    var selected_node_ids = []\n    this.sel.select('#nodes')\n      .selectAll('.selected')\n      .each(function (d) { selected_node_ids.push(d.node_id) })\n    return selected_node_ids\n  }\n\n  getSelectedNodes () {\n    var selected_nodes = {}\n    this.sel.select('#nodes')\n      .selectAll('.selected')\n      .each(function(d) {\n        selected_nodes[d.node_id] = this.nodes[d.node_id]\n      }.bind(this))\n    return selected_nodes\n  }\n\n  get_selected_text_label_ids () {\n    var selected_text_label_ids = []\n    this.sel.select('#text-labels')\n      .selectAll('.selected')\n      .each(function (d) { selected_text_label_ids.push(d.text_label_id) })\n    return selected_text_label_ids\n  }\n\n  get_selected_text_labels () {\n    var selected_text_labels = {}\n    this.sel.select('#text-labels')\n      .selectAll('.selected')\n      .each(function(d) {\n        selected_text_labels[d.text_label_id] = this.text_labels[d.text_label_id]\n      }.bind(this))\n    return selected_text_labels\n  }\n\n  select_all () {\n    /** Select all nodes and text labels.\n\n     */\n    this.sel.selectAll('#nodes,#text-labels')\n      .selectAll('.node,.text-label')\n      .classed('selected', true)\n  }\n\n  select_none () {\n    /** Deselect all nodes and text labels.\n\n     */\n    this.sel.selectAll('.selected')\n      .classed('selected', false)\n  }\n\n  invert_selection () {\n    /** Invert selection of nodes and text labels.\n\n     */\n    var selection = this.sel.selectAll('#nodes,#text-labels')\n        .selectAll('.node,.text-label')\n    selection.classed('selected', function() {\n      return !d3Select(this).classed('selected')\n    })\n  }\n\n  select_metabolite_with_id (node_id) {\n    /** Select a metabolite with the given id, and turn off the reaction\n        target.\n\n    */\n    // deselect all text labels\n    this.deselect_text_labels()\n\n    var node_selection = this.sel.select('#nodes').selectAll('.node'),\n        coords,\n        selected_node\n    node_selection.classed('selected', function(d) {\n      var selected = String(d.node_id) == String(node_id)\n      if (selected) {\n        selected_node = d\n        coords = { x: d.x, y: d.y }\n      }\n      return selected\n    })\n    this.sel.selectAll('.start-reaction-target').style('visibility', 'hidden')\n    this.callback_manager.run('select_metabolite_with_id', null, selected_node, coords)\n  }\n\n  select_selectable(node, d, shift_key_on) {\n    /** Select a metabolite or text label, and manage the shift key. */\n    shift_key_on = _.isUndefined(shift_key_on) ? false : shift_key_on\n    var classable_selection = this.sel.selectAll('#nodes,#text-labels')\n        .selectAll('.node,.text-label'),\n        classable_node\n    if (d3Select(node).attr('class').indexOf('text-label') == -1) {\n      // node\n      classable_node = node.parentNode\n    } else {\n      // text-label\n      classable_node = node\n    }\n    // toggle selection\n    if (shift_key_on) {\n      // toggle this node\n      d3Select(classable_node)\n        .classed('selected', !d3Select(classable_node).classed('selected'))\n    } else {\n      // unselect all other nodes, and select this one\n      classable_selection.classed('selected', false)\n      d3Select(classable_node).classed('selected', true)\n    }\n    // run the select_metabolite callback\n    var selected_nodes = this.sel.select('#nodes').selectAll('.selected'),\n        node_count = 0,\n        coords,\n        selected_node\n    selected_nodes.each(function(d) {\n      selected_node = d\n      coords = { x: d.x, y: d.y }\n      node_count++\n    })\n    this.callback_manager.run('select_selectable', null, node_count, selected_node, coords)\n  }\n\n  /**\n   * Unselect all but one selected node, and return the node. If no nodes are\n   * selected, return null.\n   */\n  select_single_node () {\n    var out = null\n    var node_selection = this.sel.select('#nodes').selectAll('.selected')\n    node_selection.classed('selected', function (d, i) {\n      if (i === 0) {\n        out = d\n        return true\n      } else {\n        return false\n      }\n    })\n    return out\n  }\n\n  deselect_nodes () {\n    var node_selection = this.sel.select('#nodes').selectAll('.node')\n    node_selection.classed('selected', false)\n    this.callback_manager.run('deselect_nodes')\n  }\n\n  select_text_label (sel, d) {\n    // deselect all nodes\n    this.deselect_nodes()\n    // Find the new selection. Ignore shift key and only allow single selection\n    // for now.\n    var text_label_selection = this.sel.select('#text-labels').selectAll('.text-label')\n    text_label_selection.classed('selected', function(p) { return d === p; })\n    var selected_text_labels = this.sel.select('#text-labels').selectAll('.selected'),\n        coords\n    selected_text_labels.each(function(d) {\n      coords = { x: d.x, y: d.y }\n    })\n    this.callback_manager.run('select_text_label')\n  }\n\n  deselect_text_labels () {\n    var text_label_selection = this.sel.select('#text-labels').selectAll('.text-label')\n    text_label_selection.classed('selected', false)\n  }\n\n\n  /**\n   * Align selected nodes and/or reactions vertically. Undoable.\n   */\n  align_vertical () {\n    return this._align(false)\n  }\n\n  /**\n   * Align selected nodes and/or reactions horizontally. Undoable\n   */\n  align_horizontal () {\n    return this._align(true)\n  }\n\n  /**\n   * Generic function for aligning nodes.\n   * @param {Boolean} isHorizontal - If true, align horizontal; else vertical.\n   */\n  _align (isHorizontal) {\n    const selected = this.getSelectedNodes()\n    // Get markers and primary nodes\n    const markersAndPrimary = _.pick(\n      selected,\n      node => node.node_type !== 'metabolite' || node.node_is_primary\n    )\n\n    // 1. generally operates on markers and primary nodes, bringing along\n    // unconnected secondary nodes and beziers\n    // 2. if only selected secondary nodes, then align those\n    const alignByPrimary = Object.keys(markersAndPrimary).length > 0\n    const toAlign = alignByPrimary ? markersAndPrimary : selected\n    const keysToAlign = Object.keys(toAlign)\n\n    // Get new x location\n    const mean = keysToAlign.reduce((accum, val) => {\n      return accum + (isHorizontal ? toAlign[val].y : toAlign[val].x)\n    }, 0) / keysToAlign.length\n\n    // Align. Remember displacements for undo/redo.\n    const displacements = _.pairs(toAlign).map(([ nodeId, node ]) => ({\n      nodeId,\n      displacement: isHorizontal ? { x: 0, y: mean - node.y } : { x: mean - node.x, y: 0 }\n    }))\n    const bezierDisplacements = []\n    const movedSecondaryNodes = {}\n\n    // Align unconnected secondary metabolites\n    if (alignByPrimary) {\n      _.mapObject(toAlign, (node, nodeId) => {\n        node.connected_segments.map(segmentLink => {\n          // get each connected node\n          const segmentId = segmentLink.segment_id\n          const reactionId = segmentLink.reaction_id\n          const segment = this.reactions[reactionId].segments[segmentId]\n          const isToNode = segment.to_node_id === node.node_id\n          const otherNodeId = isToNode ? segment.from_node_id : segment.to_node_id\n          const otherNode = this.nodes[otherNodeId]\n          const bez = isToNode ? 'b2' : 'b1'\n\n          // align this side bezier if the other node is selected (and that node\n          // will handle its bezier)\n          if (otherNode.node_id in selected && segment[bez]) {\n            const bezierId = build.bezierIdForSegmentId(segmentId, bez)\n            bezierDisplacements.push({\n              reactionId,\n              segmentId,\n              bez,\n              bezierId,\n              displacement: (isHorizontal ?\n                             { x: 0, y: node.y - segment[bez].y } :\n                             { x: node.x - segment[bez].x, y: 0 })\n            })\n\n            // If the node is secondary and unconnected, then move it along with\n            // the current node.\n            if (otherNode.node_type === 'metabolite' &&\n                !otherNode.node_is_primary &&\n                !(otherNodeId in movedSecondaryNodes)) {\n              // If all the connected segments are connected to selected nodes, then move it\n              const connected = otherNode.connected_segments.filter(segmentLink => {\n                const segment = this.reactions[reactionId].segments[segmentId]\n                const isToNode = segment.to_node_id === otherNode.node_id\n                return isToNode ? segment.from_node_id in selected : segment.to_node_id in selected\n              })\n              if (otherNode.connected_segments.length <= connected.length) {\n                // then move it with the same displacement as the parent\n                displacements.push({\n                  nodeId: otherNodeId,\n                  displacement: isHorizontal ? { x: 0, y: mean - node.y } : { x: mean - node.x, y: 0 }\n                })\n                // remember not to move this again\n                movedSecondaryNodes[otherNodeId] = true\n              }\n            }\n          }\n        })\n      })\n    }\n\n    // reusable movement function for aligning and undo/redo\n    const _moveNodes = (disps, bezDisps) => {\n      let reactionIds = []\n      disps.map(d => {\n        // TODO abstract this approach in a function because the alternative\n        // (saving the node itself) causes bugs)\n        const node = this.nodes[d.nodeId]\n        const updated = build.moveNodeAndDependents(\n          node,\n          d.nodeId,\n          this.reactions,\n          this.beziers,\n          d.displacement\n        )\n        reactionIds = utils.uniqueConcat([ reactionIds, updated.reaction_ids ])\n      })\n      // move beziers\n      bezDisps.map(d => {\n        const segment = this.reactions[d.reactionId].segments[d.segmentId]\n        segment[d.bez] = utils.c_plus_c(segment[d.bez], d.displacement)\n        this.beziers[d.bezierId].x = segment[d.bez].x\n        this.beziers[d.bezierId].y = segment[d.bez].y\n      })\n\n      this.draw_these_nodes(disps.map(d => d.nodeId))\n      this.draw_these_reactions(reactionIds, true) // and beziers\n    }\n\n    // undo /redo\n    this.undo_stack.push(\n      // undo\n      () => {\n        const reverse = disps => disps.map(d => ({\n          ...d,\n          displacement: { x: -d.displacement.x, y: -d.displacement.y }\n        }))\n        _moveNodes(reverse(displacements), reverse(bezierDisplacements))\n      },\n      // redo\n      () => {\n        _moveNodes(displacements, bezierDisplacements)\n      }\n    ).do() // do the first time\n\n    // finish\n    this.set_status(alignByPrimary ? 'Aligned reactions' : 'Aligned nodes', 3000)\n  }\n\n\n  // ---------------------------------------------------------------------\n  // Delete\n  // ---------------------------------------------------------------------\n\n  /**\n   * Delete the selected nodes and associated segments and reactions, and selected\n   * labels. Undoable.\n   */\n  delete_selected () {\n    var selected_nodes = this.getSelectedNodes(),\n        selected_text_labels = this.get_selected_text_labels()\n    if (Object.keys(selected_nodes).length >= 1 ||\n        Object.keys(selected_text_labels).length >= 1)\n      this.delete_selectable(selected_nodes, selected_text_labels, true)\n  }\n\n  /**\n   * Delete the nodes and associated segments and reactions. Undoable.\n   * selected_nodes: An object that is a subset of map.nodes.\n   * selected_text_labels: An object that is a subset of map.text_labels.\n   * should_draw: A boolean argument to determine whether to draw the changes to\n   * the map.\n   */\n  delete_selectable (selected_nodes, selected_text_labels, should_draw) {\n    var out = this.segments_and_reactions_for_nodes(selected_nodes)\n    var segment_objs_w_segments = out.segment_objs_w_segments // TODO repeated values here\n    var reactions = out.reactions\n\n    // copy nodes to undelete\n    var saved_nodes = utils.clone(selected_nodes)\n    var saved_segment_objs_w_segments = utils.clone(segment_objs_w_segments)\n    var saved_reactions = utils.clone(reactions)\n    var saved_text_labels = utils.clone(selected_text_labels)\n    var delete_and_draw = function (nodes, reactions, segment_objs,\n                                    selected_text_labels) {\n      // delete nodes, segments, and reactions with no segments\n      this.delete_node_data(Object.keys(selected_nodes))\n      this.delete_segment_data(segment_objs); // also deletes beziers\n      this.delete_reaction_data(Object.keys(reactions))\n      this.delete_text_label_data(Object.keys(selected_text_labels))\n\n      // apply the reaction and node data\n      var changed_r_scale = false\n      var changed_m_scale = false\n      if (this.has_data_on_reactions) {\n        changed_r_scale = this.calc_data_stats('reaction')\n      }\n      if (this.has_data_on_nodes) {\n        changed_m_scale = this.calc_data_stats('metabolite')\n      }\n\n      // redraw\n      if (should_draw) {\n        if (changed_r_scale)\n          this.draw_all_reactions(true, true)\n        else\n          this.clear_deleted_reactions(); // also clears segments and beziers\n        if (changed_m_scale)\n          this.draw_all_nodes(true)\n        else\n          this.clear_deleted_nodes()\n        this.clear_deleted_text_labels()\n      }\n    }.bind(this)\n\n    // delete\n    delete_and_draw(selected_nodes, reactions, segment_objs_w_segments,\n                    selected_text_labels)\n\n    // add to undo/redo stack\n    this.undo_stack.push(function () {\n      // undo\n      // redraw the saved nodes, reactions, and segments\n\n      this.extend_nodes(saved_nodes)\n      this.extend_reactions(saved_reactions)\n      var reaction_ids_to_draw = Object.keys(saved_reactions)\n      for (var segment_id in saved_segment_objs_w_segments) {\n        var segment_obj = saved_segment_objs_w_segments[segment_id]\n\n        var segment = segment_obj.segment\n        this.reactions[segment_obj.reaction_id]\n          .segments[segment_obj.segment_id] = segment\n\n        // updated connected nodes\n        var to_from = [ segment.from_node_id, segment.to_node_id ]\n        to_from.forEach(function(node_id) {\n          // not necessary for the deleted nodes\n          if (node_id in saved_nodes) return\n          var node = this.nodes[node_id]\n          node.connected_segments.push({ reaction_id: segment_obj.reaction_id,\n                                         segment_id: segment_obj.segment_id })\n        }.bind(this))\n\n        // extend the beziers\n        var seg_id = segment_obj.segment_id,\n            r_id = segment_obj.reaction_id,\n            seg_o = {}\n        seg_o[seg_id] = segment_obj.segment\n        utils.extend(this.beziers, build.newBeziersForSegments(seg_o, r_id))\n\n        if (reaction_ids_to_draw.indexOf(segment_obj.reaction_id) === -1) {\n          reaction_ids_to_draw.push(segment_obj.reaction_id)\n        }\n      }\n\n      // Apply the reaction and node data. If the scale changes, redraw\n      // everything.\n      if (this.has_data_on_reactions) {\n        const scale_changed = this.calc_data_stats('reaction')\n        if (scale_changed) this.draw_all_reactions(true, false)\n        else this.draw_these_reactions(reaction_ids_to_draw)\n      } else {\n        if (should_draw) this.draw_these_reactions(reaction_ids_to_draw)\n      }\n      if (this.has_data_on_nodes) {\n        const scale_changed = this.calc_data_stats('metabolite')\n        if (should_draw) {\n          if (scale_changed) this.draw_all_nodes(false)\n          else this.draw_these_nodes(Object.keys(saved_nodes))\n        }\n      } else {\n        if (should_draw) this.draw_these_nodes(Object.keys(saved_nodes))\n      }\n\n      // redraw the saved text_labels\n      utils.extend(this.text_labels, saved_text_labels)\n      if (should_draw) this.draw_these_text_labels(Object.keys(saved_text_labels))\n      // copy text_labels to re-delete\n      selected_text_labels = utils.clone(saved_text_labels)\n\n      // copy nodes to re-delete\n      selected_nodes = utils.clone(saved_nodes)\n      segment_objs_w_segments = utils.clone(saved_segment_objs_w_segments)\n      reactions = utils.clone(saved_reactions)\n    }.bind(this), function () {\n      // redo\n      // clone the nodes and reactions, to redo this action later\n      delete_and_draw(selected_nodes, reactions, segment_objs_w_segments,\n                      selected_text_labels)\n    }.bind(this))\n  }\n\n  /**\n   * Delete nodes, and remove from search index.\n   */\n  delete_node_data (nodeIds) {\n    nodeIds.forEach(nodeId => {\n      if (this.enable_search && this.nodes[nodeId].node_type === 'metabolite') {\n        const found = (this.search_index.remove('n' + nodeId)\n                     && this.search_index.remove('n_name' + nodeId))\n        if (!found) {\n          console.warn('Could not find deleted metabolite in search index')\n        }\n      }\n      delete this.nodes[nodeId]\n    })\n  }\n\n  /**\n   * Delete segments, update connected_segments in nodes, and delete bezier\n   * points.\n   * @param {Object} segment_objs - Object with values like\n   *                                { reaction_id: '123', segment_id: '456' }\n   */\n  delete_segment_data (segment_objs) {\n    for (var segment_id in segment_objs) {\n      var segment_obj = segment_objs[segment_id]\n      var reaction = this.reactions[segment_obj.reaction_id]\n\n      // segment already deleted\n      if (!(segment_obj.segment_id in reaction.segments)) return\n\n      var segment = reaction.segments[segment_obj.segment_id]\n      // updated connected nodes\n      ;[segment.from_node_id, segment.to_node_id].forEach(function(node_id) {\n        if (!(node_id in this.nodes)) return\n        var node = this.nodes[node_id]\n        node.connected_segments = node.connected_segments.filter(function(so) {\n          return so.segment_id != segment_obj.segment_id\n        })\n      }.bind(this))\n\n      // remove beziers\n      ;['b1', 'b2'].forEach(function(bez) {\n        var bez_id = build.bezierIdForSegmentId(segment_obj.segment_id, bez)\n        delete this.beziers[bez_id]\n      }.bind(this))\n\n      delete reaction.segments[segment_obj.segment_id]\n    }\n  }\n\n  /**\n   * Delete reactions, segments, and beziers, and remove reaction from search\n   * index.\n   */\n  delete_reaction_data (reaction_ids) {\n    reaction_ids.forEach(function(reaction_id) {\n      // remove beziers\n      var reaction = this.reactions[reaction_id]\n      for (var segment_id in reaction.segments) {\n        ;['b1', 'b2'].forEach(function(bez) {\n          var bez_id = build.bezierIdForSegmentId(segment_id, bez)\n          delete this.beziers[bez_id]\n        }.bind(this))\n      }\n      // delete reaction\n      delete this.reactions[reaction_id]\n      // remove from search index\n      var found = (this.search_index.remove('r' + reaction_id)\n                   && this.search_index.remove('r_name' + reaction_id))\n      if (!found)\n        console.warn('Could not find deleted reaction ' +\n                     reaction_id + ' in search index')\n      for (var g_id in reaction.genes) {\n        var found = (this.search_index.remove('r' + reaction_id + '_g' + g_id)\n                     && this.search_index.remove('r' + reaction_id + '_g_name' + g_id))\n        if (!found)\n          console.warn('Could not find deleted gene ' +\n                       g_id + ' in search index')\n      }\n    }.bind(this))\n  }\n\n  /**\n   * Delete text labels for an array of IDs\n   */\n  delete_text_label_data (text_label_ids) {\n    text_label_ids.forEach(function (text_label_id) {\n      // delete label\n      delete this.text_labels[text_label_id]\n      // remove from search index\n      var found = this.search_index.remove('l' + text_label_id)\n      if (!found) {\n        console.warn('Could not find deleted text label in search index')\n      }\n    }.bind(this))\n  }\n\n  // ---------------------------------------------------------------------\n  // Building\n  // ---------------------------------------------------------------------\n\n  _extend_and_draw_metabolite (new_nodes, selected_node_id) {\n    this.extend_nodes(new_nodes)\n    const keys = [ selected_node_id ]\n    if (this.has_data_on_nodes) {\n      if (this.imported_metabolite_data === null) {\n        throw new Error('imported_metabolite_data should not be null')\n      }\n      var scale_changed = this.apply_metabolite_data_to_map(this.imported_metabolite_data,\n                                                            keys)\n      if (scale_changed) {\n        this.draw_all_nodes(false)\n      } else {\n        this.draw_these_nodes(keys)\n      }\n    } else {\n      this.draw_these_nodes(keys)\n    }\n  }\n\n  /**\n   * Draw a reaction on a blank canvas.\n   * @param {String} starting_reaction - bigg_id for a reaction to draw.\n   * @param {Coords} coords - coordinates to start drawing\n   */\n  new_reaction_from_scratch (starting_reaction, coords, direction) {\n    // If there is no cobra model, error\n    if (!this.cobra_model) {\n      console.error('No CobraModel. Cannot build new reaction')\n      return\n    }\n\n    // Set reaction coordinates and angle. Be sure to clone the reaction.\n    var cobra_reaction = utils.clone(this.cobra_model.reactions[starting_reaction])\n\n    // check for empty reactions\n    if (_.size(cobra_reaction.metabolites) === 0) {\n      throw Error('No metabolites in reaction ' + cobra_reaction.bigg_id)\n    }\n\n    // create the first node\n    const reactant_ids = _.map(cobra_reaction.metabolites,\n                               (coeff, met_id) => [ coeff, met_id ])\n          .filter(x => x[0] < 0) // coeff < 0\n          .map(x => x[1]) // metabolite id\n    // get the first reactant or else the first product\n    const metaboliteId = reactant_ids.length > 0\n          ? reactant_ids[0]\n          : Object.keys(cobra_reaction.metabolites)[0]\n    const metabolite = this.cobra_model.metabolites[metaboliteId]\n    const selected_node_id = String(++this.largest_ids.nodes)\n    const label_d = build.getMetLabelLoc(utils.to_radians(direction), 0, 1,\n                                         true, metaboliteId, true)\n    var selected_node = {\n      connected_segments: [],\n      x: coords.x,\n      y: coords.y,\n      node_is_primary: true,\n      label_x: coords.x + label_d.x,\n      label_y: coords.y + label_d.y,\n      name: metabolite.name,\n      bigg_id: metaboliteId,\n      node_type: 'metabolite'\n    }\n    var new_nodes = {}\n    new_nodes[selected_node_id] = selected_node\n\n    // draw\n    this._extend_and_draw_metabolite(new_nodes, selected_node_id)\n\n    // clone the nodes and reactions, to redo this action later\n    var saved_nodes = utils.clone(new_nodes)\n\n    // draw the reaction\n    var out = this.new_reaction_for_metabolite(starting_reaction,\n                                               selected_node_id,\n                                               direction, false)\n    var reaction_redo = out.redo\n    var reaction_undo = out.undo\n\n    // add to undo/redo stack\n    this.undo_stack.push(() => {\n      // Undo. First undo the reaction.\n      reaction_undo()\n      // Get the nodes to delete\n      this.delete_node_data(Object.keys(new_nodes))\n      // Save the nodes and reactions again, for redo\n      new_nodes = utils.clone(saved_nodes)\n      // Draw\n      this.clear_deleted_nodes()\n      // Deselect\n      this.deselect_nodes()\n    }, () => {\n      // Redo. Clone the nodes and reactions, to redo this action later.\n      this._extend_and_draw_metabolite(new_nodes, selected_node_id)\n      // Now redo the reaction\n      reaction_redo()\n    })\n\n    return\n  }\n\n  /**\n   * Add new nodes to data and search index.\n   */\n  extend_nodes (new_nodes) {\n    if (this.enable_search) {\n      for (var node_id in new_nodes) {\n        var node = new_nodes[node_id]\n        if (node.node_type != 'metabolite')\n          continue\n        this.search_index.insert('n' + node_id,\n                                 { 'name': node.bigg_id,\n                                   'data': { type: 'metabolite',\n                                             node_id: node_id }})\n        this.search_index.insert('n_name' + node_id,\n                                 { 'name': node.name,\n                                   'data': { type: 'metabolite',\n                                             node_id: node_id }})\n      }\n    }\n    utils.extend(this.nodes, new_nodes)\n  }\n\n  /**\n   * Add new reactions to data and search index.\n   */\n  extend_reactions (new_reactions) {\n    if (this.enable_search) {\n      for (var r_id in new_reactions) {\n        var reaction = new_reactions[r_id]\n        this.search_index.insert('r' + r_id, { 'name': reaction.bigg_id,\n                                               'data': { type: 'reaction',\n                                                         reaction_id: r_id }})\n        this.search_index.insert('r_name' + r_id, { 'name': reaction.name,\n                                                    'data': { type: 'reaction',\n                                                              reaction_id: r_id }})\n        for (var g_id in reaction.genes) {\n          var gene = reaction.genes[g_id]\n          this.search_index.insert('r' + r_id + '_g' + g_id,\n                                   { 'name': gene.bigg_id,\n                                     'data': { type: 'reaction',\n                                               reaction_id: r_id }})\n          this.search_index.insert('r' + r_id + '_g_name' + g_id,\n                                   { 'name': gene.name,\n                                     'data': { type: 'reaction',\n                                               reaction_id: r_id }})\n        }\n      }\n    }\n    utils.extend(this.reactions, new_reactions)\n  }\n\n\n  _extend_and_draw_reaction (new_nodes, new_reactions, new_beziers,\n                             selected_node_id) {\n    this.extend_reactions(new_reactions)\n    utils.extend(this.beziers, new_beziers)\n    // Remove the selected node so it can be updated\n    this.delete_node_data([ selected_node_id ]) // TODO this is a hack. fix\n    this.extend_nodes(new_nodes)\n\n    // Apply the reaction and node data to the scales. If the scale changes,\n    // redraw everything.\n    var keys = Object.keys(new_reactions)\n    if (this.has_data_on_reactions) {\n      var scale_changed = false\n      if (this.imported_reaction_data) {\n        scale_changed = this.apply_reaction_data_to_map(this.imported_reaction_data,\n                                                        keys)\n      } else if (this.imported_gene_data) {\n        scale_changed = this.apply_gene_data_to_map(this.imported_gene_data, keys)\n      } else {\n        throw new Error('imported_gene_data or imported_reaction_data should ' +\n                        'not be null')\n      }\n      if (scale_changed) {\n        this.draw_all_reactions(true, false)\n      } else {\n        this.draw_these_reactions(keys)\n      }\n    } else {\n      this.draw_these_reactions(keys)\n    }\n\n    var node_keys = Object.keys(new_nodes)\n    if (this.has_data_on_nodes) {\n      if (this.imported_metabolite_data === null) {\n        throw new Error('imported_metabolite_data should not be null')\n      }\n      var scale_changed = this.apply_metabolite_data_to_map(this.imported_metabolite_data,\n                                                            node_keys)\n      if (scale_changed) {\n        this.draw_all_nodes(false)\n      } else {\n        this.draw_these_nodes(node_keys)\n      }\n    } else {\n      this.draw_these_nodes(node_keys)\n    }\n\n    // select new primary metabolite\n    for (var node_id in new_nodes) {\n      var node = new_nodes[node_id]\n      if (node.node_is_primary && node_id!=selected_node_id) {\n        this.select_metabolite_with_id(node_id)\n        var new_coords = { x: node.x, y: node.y }\n        if (this.zoomContainer) {\n          this.zoomContainer.translateOffScreen(new_coords)\n        }\n      }\n    }\n  }\n\n  /**\n   * Build a new reaction starting with selected_met. Undoable.\n   * @param {String} reaction_bigg_id - The BiGG ID of the reaction to draw.\n   * @param {String} selected_node_id - The ID of the node to begin drawing with.\n   * @param {Number} direction - The direction to draw in.\n   * @param {Boolean} [apply_undo_redo=true] - If true, then add to the undo\n   * stack. Otherwise, just return the undo and redo functions.\n   * @return An object of undo and redo functions:\n   *   { undo: undo_function, redo: redo_function }\n   */\n  new_reaction_for_metabolite (reaction_bigg_id, selected_node_id,\n                               direction, apply_undo_redo) {\n    // default args\n    if (apply_undo_redo === undefined) apply_undo_redo = true\n\n    // get the metabolite node\n    var selected_node = this.nodes[selected_node_id]\n\n    // Set reaction coordinates and angle. Be sure to copy the reaction\n    // recursively.\n    var cobra_reaction = this.cobra_model.reactions[reaction_bigg_id]\n\n    // build the new reaction\n    var out = build.newReaction(\n      reaction_bigg_id,\n      cobra_reaction,\n      this.cobra_model.metabolites,\n      selected_node_id,\n      utils.clone(selected_node),\n      this.largest_ids,\n      this.settings.get('cofactors'),\n      direction\n    )\n    var new_nodes = out.new_nodes\n    var new_reactions = out.new_reactions\n    var new_beziers = out.new_beziers\n\n    // Draw\n    this._extend_and_draw_reaction(new_nodes, new_reactions,\n                                   new_beziers, selected_node_id)\n\n    // Clone the nodes and reactions, to redo this action later\n    var saved_nodes = utils.clone(new_nodes)\n    var saved_reactions = utils.clone(new_reactions)\n    var saved_beziers = utils.clone(new_beziers)\n\n    // Add to undo/redo stack\n    var undo_fn = () => {\n      // Undo. Get the nodes to delete.\n      delete new_nodes[selected_node_id]\n      this.delete_node_data(Object.keys(new_nodes))\n      this.delete_reaction_data(Object.keys(new_reactions)) // also deletes beziers\n      this.select_metabolite_with_id(selected_node_id)\n      // Save the nodes and reactions again, for redo\n      new_nodes = utils.clone(saved_nodes)\n      new_reactions = utils.clone(saved_reactions)\n      new_beziers = utils.clone(saved_beziers)\n      // Draw\n      if (this.has_data_on_reactions) {\n        var scale_changed = this.calc_data_stats('reaction')\n        if (scale_changed) {\n          this.draw_all_reactions(true, true)\n        } else {\n          // Also clears segments and beziers\n          this.clear_deleted_reactions(true)\n        }\n      } else {\n        // Also clears segments and beziers\n        this.clear_deleted_reactions(true)\n      }\n      if (this.has_data_on_nodes) {\n        const scaleChanged = this.calc_data_stats('metabolite')\n        if (scaleChanged) {\n          this.draw_all_nodes(true)\n        } else {\n          this.clear_deleted_nodes()\n        }\n      } else {\n        this.clear_deleted_nodes()\n      }\n    }\n    const redo_fn = () => {\n      // redo\n      // clone the nodes and reactions, to redo this action later\n      this._extend_and_draw_reaction(new_nodes, new_reactions,\n                                     new_beziers, selected_node_id)\n    }\n\n    if (apply_undo_redo) {\n      this.undo_stack.push(undo_fn, redo_fn)\n    }\n\n    return { undo: undo_fn, redo: redo_fn }\n  }\n\n  cycle_primary_node () {\n    var selected_nodes = this.getSelectedNodes()\n    if (_.isEmpty(selected_nodes)) { return }\n    // Get the first node\n    var node_id = Object.keys(selected_nodes)[0]\n    var node = selected_nodes[node_id]\n    var reactions = this.reactions\n    var nodes = this.nodes\n    // make the other reactants or products secondary\n    // 1. Get the connected anchor nodes for the node\n    var connected_anchor_ids = [],\n        reactions_to_draw\n    nodes[node_id].connected_segments.forEach(function(segment_info) {\n      reactions_to_draw = [segment_info.reaction_id]\n      var segment\n      try {\n        segment = reactions[segment_info.reaction_id].segments[segment_info.segment_id]\n        if (segment === undefined) throw new Error('undefined segment')\n      } catch (e) {\n        console.warn('Could not find connected segment ' + segment_info.segment_id)\n        return\n      }\n      connected_anchor_ids.push(segment.from_node_id==node_id ?\n                                segment.to_node_id : segment.from_node_id)\n    })\n    // can only be connected to one anchor\n    if (connected_anchor_ids.length != 1) {\n      console.error('Only connected nodes with a single reaction can be selected')\n      return\n    }\n    var connected_anchor_id = connected_anchor_ids[0]\n    // 2. find nodes connected to the anchor that are metabolites\n    var related_node_ids = [node_id]\n    var segments = []\n    nodes[connected_anchor_id].connected_segments.forEach(function(segment_info) { // deterministic order\n      var segment\n      try {\n        segment = reactions[segment_info.reaction_id].segments[segment_info.segment_id]\n        if (segment === undefined) throw new Error('undefined segment')\n      } catch (e) {\n        console.warn('Could not find connected segment ' + segment_info.segment_id)\n        return\n      }\n      var conn_met_id = segment.from_node_id == connected_anchor_id ? segment.to_node_id : segment.from_node_id,\n          conn_node = nodes[conn_met_id]\n      if (conn_node.node_type == 'metabolite' && conn_met_id != node_id) {\n        related_node_ids.push(String(conn_met_id))\n      }\n    })\n    // 3. make sure they only have 1 reaction connection, and check if\n    // they match the other selected nodes\n    for (var i=0; i<related_node_ids.length; i++) {\n      if (nodes[related_node_ids[i]].connected_segments.length > 1) {\n        console.error('Only connected nodes with a single reaction can be selected')\n        return\n      }\n    }\n    for (var a_selected_node_id in selected_nodes) {\n      if (a_selected_node_id!=node_id && related_node_ids.indexOf(a_selected_node_id) == -1) {\n        console.warn('Selected nodes are not on the same reaction')\n        return\n      }\n    }\n    // 4. change the primary node, and change coords, label coords, and beziers\n    var nodes_to_draw = [],\n        last_i = related_node_ids.length - 1,\n        last_node = nodes[related_node_ids[last_i]],\n        last_is_primary = last_node.node_is_primary,\n        last_coords = { x: last_node.x, y: last_node.y,\n                        label_x: last_node.label_x, label_y: last_node.label_y }\n    if (last_node.connected_segments.length > 1)\n      console.warn('Too many connected segments for node ' + last_node.node_id)\n    var last_segment_info = last_node.connected_segments[0], // guaranteed above to have only one\n        last_segment\n    try {\n      last_segment = reactions[last_segment_info.reaction_id].segments[last_segment_info.segment_id]\n      if (last_segment === undefined) throw new Error('undefined segment')\n    } catch (e) {\n      console.error('Could not find connected segment ' + last_segment_info.segment_id)\n      return\n    }\n    var last_bezier = { b1: last_segment.b1, b2: last_segment.b2 },\n        primary_node_id\n    related_node_ids.forEach(function(related_node_id) {\n      var node = nodes[related_node_id],\n          this_is_primary = node.node_is_primary,\n          these_coords = { x: node.x, y: node.y,\n                           label_x: node.label_x, label_y: node.label_y },\n          this_segment_info = node.connected_segments[0],\n          this_segment = reactions[this_segment_info.reaction_id].segments[this_segment_info.segment_id],\n          this_bezier = { b1: this_segment.b1, b2: this_segment.b2 }\n      node.node_is_primary = last_is_primary\n      node.x = last_coords.x; node.y = last_coords.y\n      node.label_x = last_coords.label_x; node.label_y = last_coords.label_y\n      this_segment.b1 = last_bezier.b1; this_segment.b2 = last_bezier.b2\n      last_is_primary = this_is_primary\n      last_coords = these_coords\n      last_bezier = this_bezier\n      if (node.node_is_primary) primary_node_id = related_node_id\n      nodes_to_draw.push(related_node_id)\n    })\n    // 5. cycle the connected_segments array so the next time, it cycles differently\n    var old_connected_segments = nodes[connected_anchor_id].connected_segments,\n        last_i = old_connected_segments.length - 1,\n        new_connected_segments = [old_connected_segments[last_i]]\n    old_connected_segments.forEach(function(segment, i) {\n      if (last_i==i) return\n      new_connected_segments.push(segment)\n    })\n    nodes[connected_anchor_id].connected_segments = new_connected_segments\n    // 6. draw the nodes\n    this.draw_these_nodes(nodes_to_draw)\n    this.draw_these_reactions(reactions_to_draw)\n    // 7. select the primary node\n    this.select_metabolite_with_id(primary_node_id)\n    return\n  }\n\n  /**\n   * Toggle the primary/secondary status of each selected node. Undoable.\n   */\n  toggle_selected_node_primary () {\n    const selected_node_ids = this.get_selected_node_ids()\n    const go = function(ids) {\n      const nodes_to_draw = {}\n      const hide_secondary_metabolites = this.settings.get('hide_secondary_metabolites')\n      ids.forEach(function(id) {\n        if (!(id in this.nodes)) {\n          console.warn('Could not find node: ' + id)\n          return\n        }\n        const node = this.nodes[id]\n        if (node.node_type == 'metabolite') {\n          node.node_is_primary = !node.node_is_primary\n          nodes_to_draw[id] = node\n        }\n      }.bind(this))\n      // draw the nodes\n      this.draw_these_nodes(Object.keys(nodes_to_draw))\n      // draw associated reactions\n      if (hide_secondary_metabolites) {\n        var out = this.segments_and_reactions_for_nodes(nodes_to_draw),\n            reaction_ids_to_draw_o = {}\n        for (var id in out.segment_objs_w_segments) {\n          var r_id = out.segment_objs_w_segments[id].reaction_id\n          reaction_ids_to_draw_o[r_id] = true\n        }\n        this.draw_these_reactions(Object.keys(reaction_ids_to_draw_o))\n      }\n    }.bind(this)\n\n    // go\n    go(selected_node_ids)\n\n    // add to the undo stack\n    this.undo_stack.push(function () {\n      go(selected_node_ids)\n    }, function () {\n      go(selected_node_ids)\n    })\n  }\n\n  segments_and_reactions_for_nodes(nodes) {\n    /** Get segments and reactions that should be deleted with node deletions\n\n     */\n    var segment_objs_w_segments = {},\n        these_reactions = {},\n        segment_ids_for_reactions = {},\n        reactions = this.reactions\n    // for each node\n    for (var node_id in nodes) {\n      var node = nodes[node_id]\n      // find associated segments and reactions\n      node.connected_segments.forEach(function(segment_obj) {\n        var segment\n        try {\n          segment = reactions[segment_obj.reaction_id].segments[segment_obj.segment_id]\n          if (segment === undefined) throw new Error('undefined segment')\n        } catch (e) {\n          console.warn('Could not find connected segments for node')\n          return\n        }\n        var segment_obj_w_segment = utils.clone(segment_obj)\n        segment_obj_w_segment['segment'] = utils.clone(segment)\n        segment_objs_w_segments[segment_obj.segment_id] = segment_obj_w_segment\n        if (!(segment_obj.reaction_id in segment_ids_for_reactions))\n          segment_ids_for_reactions[segment_obj.reaction_id] = []\n        segment_ids_for_reactions[segment_obj.reaction_id].push(segment_obj.segment_id)\n      })\n    }\n    // find the reactions that should be deleted because they have no segments left\n    for (var reaction_id in segment_ids_for_reactions) {\n      var reaction = reactions[reaction_id],\n          these_ids = segment_ids_for_reactions[reaction_id],\n          has = true\n      for (var segment_id in reaction.segments) {\n        if (these_ids.indexOf(segment_id)==-1) has = false\n      }\n      if (has) these_reactions[reaction_id] = reaction\n    }\n    return { segment_objs_w_segments: segment_objs_w_segments, reactions: these_reactions }\n  }\n\n  add_label_to_search_index (id, text) {\n    this.search_index.insert('l' + id, {\n      name: text,\n      data: { type: 'text_label', text_label_id: id }\n    })\n  }\n\n  new_text_label (coords, text) {\n    // Make an label\n    var out = build.newTextLabel(this.largest_ids, text, coords)\n    this.text_labels[out.id] = out.label\n    this.draw_these_text_labels([ out.id ])\n    // Add to the search index\n    if (text !== '') {\n      this.add_label_to_search_index(out.id, text)\n    }\n    return out.id\n  }\n\n  /**\n   * Edit a text label. Undoable.\n   * @param {} text_label_id -\n   * @param {String} new_value -\n   * @param {Boolean} should_draw -\n   * @param {Boolean} [is_new=false] - If true, then the text label is all new, so\n   * delete it on undo and create it again on redo.\n   */\n  edit_text_label (text_label_id, new_value, should_draw, is_new) {\n    if (_.isUndefined(is_new)) is_new = false\n\n    if (new_value === '') {\n      throw new Error('Should not be called for empty string')\n    }\n\n    var edit_and_draw = function (new_val, should_draw) {\n      // set the new value\n      var label = this.text_labels[text_label_id]\n      label.text = new_val\n      if (should_draw) {\n        this.draw_these_text_labels([ text_label_id ])\n      }\n      // Update in the search index\n      var record_id = 'l' + text_label_id\n      var found = this.search_index.remove(record_id)\n      if (!is_new && !found) {\n        console.warn('Could not find modified text label in search index')\n      }\n      this.search_index.insert(record_id, {\n        name: new_val,\n        data: { type: 'text_label', text_label_id: text_label_id }\n      })\n    }.bind(this)\n\n    // Save old value\n    var saved_label = utils.clone(this.text_labels[text_label_id])\n\n    // Edit the label\n    edit_and_draw(new_value, should_draw)\n\n    // Add to undo stack\n    this.undo_stack.push(function () {\n      if (is_new) {\n        this.delete_text_label_data([ text_label_id ])\n        this.clear_deleted_text_labels()\n      } else {\n        edit_and_draw(saved_label.text, true)\n      }\n    }.bind(this), function () {\n      if (is_new) {\n        this.text_labels[text_label_id] = utils.clone(saved_label)\n        this.text_labels[text_label_id].text = new_value\n        this.draw_these_text_labels([ text_label_id ])\n        this.add_label_to_search_index(text_label_id, new_value)\n      } else {\n        edit_and_draw(new_value, true)\n      }\n    }.bind(this))\n  }\n\n  // -------------------------------------------------------------------------\n  // Zoom\n  // -------------------------------------------------------------------------\n\n  /**\n   * Zoom to fit all the nodes. Returns error if one is raised.\n   * @param {} margin - optional argument to set the margins as a fraction of\n   * height.\n   */\n  zoom_extent_nodes (margin) {\n    this._zoom_extent(margin, 'nodes')\n  }\n\n  /**\n   * Zoom to fit the canvas. Returns error if one is raised.\n   * @param {} margin - optional argument to set the margins as a fraction of\n   * height.\n   */\n  zoom_extent_canvas (margin) {\n    this._zoom_extent(margin, 'canvas')\n  }\n\n  /**\n   * Zoom to fit the canvas or all the nodes. Returns error if one is raised.\n   * @param {} margin - optional argument to set the margins.\n   * @param {} mode - Values are 'nodes', 'canvas'.\n   */\n  _zoom_extent (margin, mode) {\n    // Optional args\n    if (_.isUndefined(margin)) margin = (mode === 'nodes' ? 0.2 : 0)\n    if (_.isUndefined(mode)) mode = 'canvas'\n\n    var new_zoom\n    var new_pos\n    var size = this.get_size()\n    // scale margin to window size\n    margin = margin * size.height\n\n    if (mode === 'nodes') {\n      // get the extent of the nodes\n      var min = { x: null, y: null } // TODO make infinity?\n      var max = { x: null, y: null }\n      for (var node_id in this.nodes) {\n        var node = this.nodes[node_id]\n        if (min.x === null) min.x = node.x\n        if (min.y === null) min.y = node.y\n        if (max.x === null) max.x = node.x\n        if (max.y === null) max.y = node.y\n\n        min.x = Math.min(min.x, node.x)\n        min.y = Math.min(min.y, node.y)\n        max.x = Math.max(max.x, node.x)\n        max.y = Math.max(max.y, node.y)\n      }\n      // set the zoom\n      new_zoom = Math.min((size.width - margin*2) / (max.x - min.x),\n                          (size.height - margin*2) / (max.y - min.y))\n      new_pos = { x: - (min.x * new_zoom) + margin + ((size.width - margin*2 - (max.x - min.x)*new_zoom) / 2),\n                  y: - (min.y * new_zoom) + margin + ((size.height - margin*2 - (max.y - min.y)*new_zoom) / 2) }\n    } else if (mode=='canvas') {\n      // center the canvas\n      new_zoom =  Math.min((size.width - margin*2) / (this.canvas.width),\n                           (size.height - margin*2) / (this.canvas.height))\n      new_pos = { x: - (this.canvas.x * new_zoom) + margin + ((size.width - margin*2 - this.canvas.width*new_zoom) / 2),\n                  y: - (this.canvas.y * new_zoom) + margin + ((size.height - margin*2 - this.canvas.height*new_zoom) / 2) }\n    } else {\n      return console.error('Did not recognize mode')\n    }\n    this.zoomContainer.goTo(new_zoom, new_pos)\n    return null\n  }\n\n  get_size () {\n    return this.zoomContainer.get_size()\n  }\n\n  zoom_to_reaction(reaction_id) {\n    var reaction = this.reactions[reaction_id],\n        new_zoom = 0.5,\n        size = this.get_size(),\n        new_pos = { x: - reaction.label_x * new_zoom + size.width/2,\n                    y: - reaction.label_y * new_zoom + size.height/2 }\n    this.zoomContainer.goTo(new_zoom, new_pos)\n  }\n\n  zoom_to_node (node_id) {\n    var node = this.nodes[node_id]\n    var new_zoom = 0.5\n    var size = this.get_size()\n    var new_pos = {\n      x: - node.label_x * new_zoom + size.width/2,\n      y: - node.label_y * new_zoom + size.height/2,\n    }\n    this.zoomContainer.goTo(new_zoom, new_pos)\n  }\n\n  zoom_to_text_label (text_label_id) {\n    var text_label = this.text_labels[text_label_id]\n    var new_zoom = 0.5\n    var size = this.get_size()\n    var new_pos = {\n      x: - text_label.x * new_zoom + size.width/2,\n      y: - text_label.y * new_zoom + size.height/2,\n    }\n    this.zoomContainer.goTo(new_zoom, new_pos)\n  }\n\n  highlight_reaction (reaction_id) {\n    this.highlight(this.sel.selectAll('#r'+reaction_id).selectAll('text'))\n  }\n\n  highlight_node (node_id) {\n    this.highlight(this.sel.selectAll('#n'+node_id).selectAll('text'))\n  }\n\n  highlight_text_label (text_label_id) {\n    this.highlight(this.sel.selectAll('#l'+text_label_id).selectAll('text'))\n  }\n\n  highlight (sel) {\n    this.sel.selectAll('.highlight')\n      .classed('highlight', false)\n    if (sel !== null) {\n      sel.classed('highlight', true)\n    }\n  }\n\n  // -------------------------------------------------------------------------\n  // IO\n  // -------------------------------------------------------------------------\n\n  save () {\n    utils.download_json(this.map_for_export(), this.map_name)\n  }\n\n  map_for_export () {\n    var out = [{ map_name: this.map_name,\n                 map_id: this.map_id,\n                 map_description: this.map_description,\n                 homepage: \"https://escher.github.io\",\n                 schema: \"https://escher.github.io/escher/jsonschema/1-0-0#\"\n               },\n               { reactions: utils.clone(this.reactions),\n                 nodes: utils.clone(this.nodes),\n                 text_labels: utils.clone(this.text_labels),\n                 canvas: this.canvas.sizeAndLocation() }\n              ]\n\n    // remove extra data\n    for (var r_id in out[1].reactions) {\n      var reaction = out[1].reactions[r_id]\n      var new_reaction = {}\n      var attrs = [ 'name', 'bigg_id','reversibility', 'label_x', 'label_y',\n                    'gene_reaction_rule', 'genes', 'metabolites' ]\n      attrs.forEach(function(attr) {\n        new_reaction[attr] = reaction[attr]\n      })\n      new_reaction['segments'] = {}\n      for (var s_id in reaction.segments) {\n        var segment = reaction.segments[s_id]\n        var new_segment = {}\n        var attrs = [ 'from_node_id', 'to_node_id', 'b1', 'b2' ]\n        attrs.forEach(function(attr) {\n          new_segment[attr] = segment[attr]\n        })\n        new_reaction['segments'][s_id] = new_segment\n      }\n      out[1].reactions[r_id] = new_reaction\n    }\n    for (var n_id in out[1].nodes) {\n      var node = out[1].nodes[n_id]\n      var new_node = {}\n      var attrs\n      if (node.node_type === 'metabolite') {\n        attrs = ['node_type', 'x', 'y', 'bigg_id', 'name', 'label_x', 'label_y',\n                 'node_is_primary', 'fillColor', 'strokeColor']  // Add fillColor and strokeColor\n      } else {\n        attrs = ['node_type', 'x', 'y']\n      }\n      attrs.forEach(function(attr) {\n        if (node[attr] !== undefined) {  // Only add the attribute if it exists\n          new_node[attr] = node[attr]\n        }\n      })\n      out[1].nodes[n_id] = new_node\n      \n      // Add this logging\n      if (new_node.fillColor || new_node.strokeColor) {\n        console.log('Saving node colors:', n_id, new_node.fillColor, new_node.strokeColor)\n      }\n    }\n    for (var t_id in out[1].text_labels) {\n      var text_label = out[1].text_labels[t_id]\n      var new_text_label = {}\n      var attrs = [ 'x', 'y', 'text' ]\n      attrs.forEach(function(attr) {\n        new_text_label[attr] = text_label[attr]\n      })\n      out[1].text_labels[t_id] = new_text_label\n    }\n    // canvas\n    var canvas_el = out[1].canvas\n    var new_canvas_el = {}\n    var attrs = [ 'x', 'y', 'width', 'height' ]\n    attrs.forEach(function(attr) {\n      new_canvas_el[attr] = canvas_el[attr]\n    })\n    out[1].canvas = new_canvas_el\n\n    return out\n  }\n\n  /**\n   * Rescale the canvas and save as svg/png.\n   */\n  saveMap (callbackBefore, callbackAfter, mapType) {\n    // Run the before callback\n    this.callback_manager.run(callbackBefore)\n\n    // Turn off zoom and translate so that illustrator likes the map\n    const windowScale = this.zoomContainer.windowScale\n    const windowTranslate = this.zoomContainer.windowTranslate\n    const canvasSizeAndLoc = this.canvas.sizeAndLocation()\n    const mouseNodeSizeAndTrans = {\n      w: this.canvas.mouseNode.attr('width'),\n      h: this.canvas.mouseNode.attr('height'),\n      transform: this.canvas.mouseNode.attr('transform')\n    }\n\n    this.zoomContainer._goToSvg(\n      1.0,\n      { x: -canvasSizeAndLoc.x, y: -canvasSizeAndLoc.y },\n      () => {\n        this.svg.attr('width', canvasSizeAndLoc.width)\n        this.svg.attr('height', canvasSizeAndLoc.height)\n        this.canvas.mouseNode.attr('width', '0px')\n        this.canvas.mouseNode.attr('height', '0px')\n        this.canvas.mouseNode.attr('transform', null)\n\n        // hide the segment control points\n        var hidden_sel = this.sel.selectAll('.multimarker-circle,.midmarker-circle,#canvas,.bezier,#rotation-center,.direction-arrow,.start-reaction-target')\n            .style('visibility', 'hidden')\n\n        // do the export\n        if( mapType === 'svg') {\n          utils.downloadSvg('saved_map', this.svg, true)\n        } else if (mapType === 'png') {\n          utils.downloadPng('saved_map', this.svg)\n        }\n\n        // revert everything\n        this.zoomContainer._goToSvg(windowScale, windowTranslate, () => {\n          this.svg.attr('width', null)\n          this.svg.attr('height', null)\n          this.canvas.mouseNode.attr('width', mouseNodeSizeAndTrans.w)\n          this.canvas.mouseNode.attr('height', mouseNodeSizeAndTrans.h)\n          this.canvas.mouseNode.attr('transform', mouseNodeSizeAndTrans.transform)\n          // unhide the segment control points\n          hidden_sel.style('visibility', null)\n\n          // run the after callback\n          this.callback_manager.run(callbackAfter)\n        })\n      }\n    )\n  }\n\n  save_svg () {\n    this.saveMap('before_svg_export', 'after_svg_export', 'svg')\n  }\n\n  save_png () {\n    this.saveMap('before_png_export', 'after_png_export', 'png')\n  }\n\n  /**\n   * Assign the descriptive names and gene_reaction_rules from the model to the\n   * map. If no map is loaded, then throw an Error. If some reactions are not in\n   * the model, then warn in the status.\n   */\n  convert_map () {\n    // Run the before callback\n    this.callback_manager.run('before_convert_map')\n\n    // Check the model\n    if (!this.has_cobra_model()) {\n      throw Error('No COBRA model loaded.')\n    }\n    var model = this.cobra_model\n\n    // IDs for reactions and metabolites not found in the model\n    const reactions_not_found = {}\n    const reaction_attrs = [ 'name', 'gene_reaction_rule', 'genes' ]\n    const met_nodes_not_found = {}\n    const metabolite_attrs = [ 'name' ]\n    let found = false\n    // convert reactions\n    for (var reaction_id in this.reactions) {\n      var reaction = this.reactions[reaction_id]\n      found = false\n      // find in cobra model\n      for (var model_reaction_id in model.reactions) {\n        const modelReaction = model.reactions[model_reaction_id]\n        if (modelReaction.bigg_id == reaction.bigg_id) {\n          reaction_attrs.forEach(attr => {\n            reaction[attr] = modelReaction[attr]\n          })\n          // check matching metabolites & warn if not matching. if matching, check\n          // & reverse\n          let matches = true\n          let looksReversed = null\n          for (let metId in modelReaction.metabolites) {\n            const modelCoeff = modelReaction.metabolites[metId]\n            const mapMet = _.find(reaction.metabolites, x => x.bigg_id === metId)\n            if (mapMet === undefined) {\n              matches = false\n              break\n            }\n            const mapCoeff = mapMet.coefficient\n            // keep track of whether any of these are reversed\n            if (looksReversed === null) {\n              looksReversed = (modelCoeff > 0) !== (mapCoeff > 0)\n            }\n            // make sure there are no mismatches in reversibility direction\n            if ((looksReversed === true && ((modelCoeff > 0) === (mapCoeff > 0))) ||\n                (looksReversed === false && ((modelCoeff > 0) !== (mapCoeff > 0)))) {\n              matches = false\n              break\n            }\n          }\n          if (looksReversed && matches) {\n            // looks reversed with not mismatches, then reverse the direction\n            reaction.metabolites.forEach(met => {\n              met.coefficient = -met.coefficient\n            })\n            // propagate changes into segments\n            for (var segmentId in reaction.segments) {\n              const segment = reaction.segments[segmentId]\n\n              // propagate reversibility\n              segment.reversibility = reaction.reversibility\n\n              const from_node = this.nodes[segment.from_node_id]\n              const to_node = this.nodes[segment.to_node_id]\n\n              // propagate coefficients\n              reaction.metabolites.forEach(met => {\n                if (met.bigg_id === from_node.bigg_id) {\n                  segment.from_node_coefficient = met.coefficient\n                } else if (met.bigg_id === to_node.bigg_id) {\n                  segment.to_node_coefficient = met.coefficient\n                }\n              })\n            }\n          }\n          if (!matches) {\n            console.warn(`Metabolites for ${modelReaction.bigg_id} are different in model and map. Could\n not check and fix direction.`)\n            break\n          }\n          found = true\n        }\n      }\n      if (!found) reactions_not_found[reaction_id] = true\n    }\n    // convert metabolites\n    for (var node_id in this.nodes) {\n      var node = this.nodes[node_id]\n      // only look at metabolites\n      if (node.node_type != 'metabolite') continue\n      found = false\n      // find in cobra model\n      for (var model_metabolite_id in model.metabolites) {\n        var model_metabolite = model.metabolites[model_metabolite_id]\n        if (model_metabolite.bigg_id == node.bigg_id) {\n          metabolite_attrs.forEach(function(attr) {\n            node[attr] = model_metabolite[attr]\n          })\n          found = true\n        }\n      }\n      if (!found)\n        met_nodes_not_found[node_id] = true\n    }\n\n    // status\n    var n_reactions_not_found = Object.keys(reactions_not_found).length\n    var n_met_nodes_not_found = Object.keys(met_nodes_not_found).length\n    var status_delay = 10000\n    if (n_reactions_not_found === 0 && n_met_nodes_not_found === 0) {\n      this.set_status('Successfully converted attributes.', status_delay)\n    } else if (n_met_nodes_not_found === 0) {\n      this.set_status('Converted attributes, but count not find ' + n_reactions_not_found +\n                      ' reactions in the model.', status_delay)\n      this.settings.set('highlight_missing', true)\n    } else if (n_reactions_not_found === 0) {\n      this.set_status('Converted attributes, but count not find ' + n_met_nodes_not_found +\n                      ' metabolites in the model.', status_delay)\n      this.settings.set('highlight_missing', true)\n    } else {\n      this.set_status('Converted attributes, but count not find ' + n_reactions_not_found +\n                      ' reactions and ' + n_met_nodes_not_found + ' metabolites in the model.',\n                      status_delay)\n      this.settings.set('highlight_missing', true)\n    }\n\n    // redraw\n    this.draw_everything()\n\n    // run the after callback\n    this.callback_manager.run('after_convert_map')\n  }\n}\n","import utils from './utils'\nimport * as build from './build'\nimport { drag as d3Drag } from 'd3-drag'\nimport * as d3Selection from 'd3-selection'\nimport { color as d3Color } from 'd3-color'\n\nconst d3Select = d3Selection.select\nconst d3Mouse = d3Selection.mouse\nconst d3Touch = d3Selection.touch\n\n/**\n * Behavior. Defines the set of click and drag behaviors for the map, and keeps\n * track of which behaviors are activated.\n * @param map {Map} -\n * @param undoStack {UndoStack} -\n */\nexport default class Behavior {\n  constructor (map, undoStack) {\n    this.map = map\n    this.undoStack = undoStack\n\n    // make an empty function that can be called as a behavior and does nothing\n    this.emptyBehavior = () => {}\n\n    // rotation mode operates separately from the rest\n    this.rotationModeEnabled = false\n    this.rotationDrag = d3Drag()\n\n    // behaviors to be applied\n    this.selectableMousedown = null\n    this.textLabelMousedown = null\n    this.textLabelClick = null\n    this.selectableDrag = this.emptyBehavior\n\n    this.nodeLabelMouseover = null\n    this.nodeLabelTouch = null\n    this.nodeLabelMouseout = null\n    this.reactionLabelMouseover = null\n    this.reactionLabelTouch = null\n    this.reactionLabelMouseout = null\n    this.geneLabelMouseover = null\n    this.geneLabelTouch = null\n    this.geneLabelMouseout = null\n\n    this.nodeObjectMouseover = null\n    this.nodeObjectMouseout = null\n    this.reactionObjectMouseover = null\n    this.reactionObjectMouseout = null\n\n    this.bezierDrag = this.emptyBehavior\n    this.bezierMouseover = null\n    this.bezierMouseout = null\n    this.reactionLabelDrag = this.emptyBehavior\n    this.nodeLabelDrag = this.emptyBehavior\n    this.dragging = false\n  }\n\n  averageLocation (nodes) {\n    const xs = []\n    const ys = []\n    for (const nodeId in nodes) {\n      const node = nodes[nodeId]\n      if (node.x !== undefined) xs.push(node.x)\n      if (node.y !== undefined) ys.push(node.y)\n    }\n    return {\n      x: utils.mean(xs),\n      y: utils.mean(ys)\n    }\n  }\n\n  showCenter () {\n    const sel = this.map.sel.selectAll('#rotation-center').data([ 0 ])\n    const enterSel = sel.enter().append('g').attr('id', 'rotation-center')\n\n    enterSel.append('path').attr('d', 'M-32 0 L32 0')\n      .attr('class', 'rotation-center-line')\n    enterSel.append('path').attr('d', 'M0 -32 L0 32')\n      .attr('class', 'rotation-center-line')\n\n    const updateSel = enterSel.merge(sel)\n\n    updateSel.attr('transform',\n                   'translate(' + this.center.x + ',' + this.center.y + ')')\n      .attr('visibility', 'visible')\n      .on('mouseover', function () {\n        const current = parseFloat(updateSel.selectAll('path').style('stroke-width'))\n        updateSel.selectAll('path').style('stroke-width', current * 2 + 'px')\n      })\n      .on('mouseout', function () {\n        updateSel.selectAll('path').style('stroke-width', null)\n      })\n      .call(d3Drag().on('drag', () => {\n        const cur = utils.d3_transform_catch(updateSel.attr('transform'))\n        const newLoc = [\n          d3Selection.event.dx + cur.translate[0],\n          d3Selection.event.dy + cur.translate[1]\n        ]\n        updateSel.attr('transform', 'translate(' + newLoc + ')')\n        this.center = { x: newLoc[0], y: newLoc[1] }\n      }))\n  }\n\n  hideCenter () {\n    this.map.sel.select('#rotation-center')\n      .attr('visibility', 'hidden')\n  }\n\n  /**\n   * Listen for rotation, and rotate selected nodes.\n   */\n  toggleRotationMode (onOff) {\n    if (onOff === undefined) {\n      this.rotationModeEnabled = !this.rotationModeEnabled\n    } else {\n      this.rotationModeEnabled = onOff\n    }\n\n    const selectionNode = this.map.sel.selectAll('.node-circle')\n    const selectionBackground = this.map.sel.selectAll('#canvas')\n\n    if (this.rotationModeEnabled) {\n      const selectedNodes = this.map.getSelectedNodes()\n      if (Object.keys(selectedNodes).length === 0) {\n        console.warn('No selected nodes')\n        return\n      }\n\n      // show center\n      this.center = this.averageLocation(selectedNodes)\n      this.showCenter()\n\n      // this.setStatus('Drag to rotate.')\n      const map = this.map\n      const selectedNodeIds = Object.keys(selectedNodes)\n      const reactions = this.map.reactions\n      const nodes = this.map.nodes\n      const beziers = this.map.beziers\n\n      const startFn = d => {\n        // silence other listeners\n        d3Selection.event.sourceEvent.stopPropagation()\n      }\n      const dragFn = (d, angle, totalAngle, center) => {\n        const updated = build.rotateNodes(selectedNodes, reactions,\n                                          beziers, angle, center)\n        map.draw_these_nodes(updated.node_ids)\n        map.draw_these_reactions(updated.reaction_ids)\n      }\n      const endFn = d => {}\n      const undoFn = (d, totalAngle, center) => {\n        // undo\n        const theseNodes = {}\n        selectedNodeIds.forEach(function (id) {\n          theseNodes[id] = nodes[id]\n        })\n        const updated = build.rotateNodes(theseNodes, reactions,\n                                          beziers, -totalAngle,\n                                          center)\n        map.draw_these_nodes(updated.node_ids)\n        map.draw_these_reactions(updated.reaction_ids)\n      }\n      const redoFn = (d, totalAngle, center) => {\n        // redo\n        const theseNodes = {}\n        selectedNodeIds.forEach(id => {\n          theseNodes[id] = nodes[id]\n        })\n        const updated = build.rotatenodes(theseNodes, reactions,\n                                          beziers, totalAngle,\n                                          center)\n        map.draw_these_nodes(updated.node_ids)\n        map.draw_these_reactions(updated.reaction_ids)\n      }\n      const centerFn = () => this.center\n      this.rotationDrag = this.getGenericAngularDrag(startFn, dragFn,\n                                                     endFn, undoFn,\n                                                     redoFn, centerFn,\n                                                     this.map.sel)\n      selectionBackground.call(this.rotationDrag)\n      this.selectableDrag = this.rotationDrag\n    } else {\n      // turn off all listeners\n      this.hideCenter()\n      selectionNode.on('mousedown.center', null)\n      selectionBackground.on('mousedown.center', null)\n      selectionBackground.on('mousedown.drag', null)\n      selectionBackground.on('touchstart.drag', null)\n      this.rotationDrag = null\n      this.selectableDrag = null\n    }\n  }\n\n  /**\n   * With no argument, toggle the node click on or off. Pass in a boolean argument\n   * to set the on/off state.\n   */\n  toggleSelectableClick (onOff) {\n    if (onOff === undefined) {\n      onOff = this.selectableMousedown === null\n    }\n    if (onOff) {\n      const map = this.map\n      this.selectableMousedown = d => {\n        d3Selection.event.stopPropagation()\n      }\n      this.selectableClick = function (d) {\n        d3Selection.event.stopPropagation()\n        if (d3Selection.event.defaultPrevented) return\n        map.select_selectable(this, d, d3Selection.event.shiftKey)\n      }\n      this.nodeMouseover = function (d) {\n        d3Select(this).style('stroke-width', null)\n        const current = parseFloat(d3Select(this).style('stroke-width'))\n        if (!d3Select(this.parentNode).classed('selected')) {\n          d3Select(this).style('stroke-width', current * 3 + 'px')\n        }\n      }\n      this.nodeMouseout = function (d) {\n        d3Select(this).style('stroke-width', null)\n      }\n      this.map.sel.select('#nodes')\n      .selectAll('.node-circle')\n      .on('dblclick', function(d) {\n        console.log('Node double-clicked:', d);\n        const defaultFillColor = 'rgb(224, 134, 91)';  // Original Orange\n        const defaultStrokeColor = 'rgb(162, 69, 16)';  // Default stroke color (black)\n        const currentFillColor = d3Select(this).style('fill');\n        console.log(`Current fill color: ${currentFillColor}`);\n        \n        if (!d.isToggled) {\n          // Create color selection prompt\n          const colorPrompt = d3Select('body').append('div')\n            .style('position', 'fixed')\n            .style('left', '50%')\n            .style('top', '50%')\n            .style('transform', 'translate(-50%, -50%)')\n            .style('background-color', 'white')\n            .style('border', '1px solid black')\n            .style('padding', '20px')\n            .style('z-index', '1000');\n\n          colorPrompt.append('p')\n            .text('Select color:')\n            .style('margin-bottom', '10px');\n\n          const colorOptions = {\n            'Red': '#ff0000',\n            'Green': '#00ff00',\n            'Blue': '#0000ff',\n            'Original Orange': 'rgb(224, 134, 91)'\n          };\n          \n          Object.entries(colorOptions).forEach(([colorName, colorValue]) => {\n            colorPrompt.append('button')\n              .text(colorName)\n              .style('margin', '5px')\n              .style('padding', '5px 10px')\n              .style('background-color', colorValue)\n              .style('color', colorValue === '#ffffff' ? 'black' : 'white')\n              .style('border', 'none')\n              .style('cursor', 'pointer')\n              .on('click', () => {\n                const darkerColor = colorValue === '#ffffff' ? '#000000' : d3Color(colorValue).darker(0.8);\n                d3Select(this)\n                  .transition()\n                  .duration(300)\n                  .style('fill', colorValue)\n                  .style('stroke', darkerColor);\n                \n                d.fillColor = colorValue;\n                d.strokeColor = darkerColor;\n                d.isToggled = true;\n                \n                colorPrompt.remove();\n                console.log(`Node colors changed. Fill: ${d.fillColor}, Stroke: ${d.strokeColor}, isToggled: ${d.isToggled}`);\n              });\n          });\n\n          // Add cancel button\n          colorPrompt.append('button')\n            .text('Cancel')\n            .style('margin', '5px')\n            .style('padding', '5px 10px')\n            .style('cursor', 'pointer')\n            .on('click', () => {\n              colorPrompt.remove();\n            });\n\n        } else {\n          // Second double-click: Change back to default\n          d3Select(this)\n            .transition()\n            .duration(300)\n            .style('fill', defaultFillColor)\n            .style('stroke', defaultStrokeColor);\n          \n          // Remove the saved colors\n          delete d.fillColor;\n          delete d.strokeColor;\n          d.isToggled = false;\n        }\n\n        console.log(`Node colors changed. isToggled: ${d.isToggled}`);\n        d3Selection.event.stopPropagation();\n      });\n\n    } else {\n      this.selectableMousedown = null\n      this.selectableClick = null\n      this.nodeMouseover = null\n      this.nodeMouseout = null\n      this.map.sel.select('#nodes')\n        .selectAll('.node-circle').style('stroke-width', null)\n    }\n  }\n\n  /**\n   * With no argument, toggle the text edit on mousedown on/off. Pass in a boolean\n   * argument to set the on/off state. The backup state is equal to\n   * selectableMousedown.\n   */\n  toggleTextLabelEdit (onOff) {\n    if (onOff === undefined) {\n      onOff = this.textEditMousedown == null\n    }\n    if (onOff) {\n      const map = this.map\n      this.textLabelMousedown = function () {\n        if (d3Selection.event.defaultPrevented) {\n          return // mousedown suppressed\n        }\n        // run the callback\n        const coordsA = utils.d3_transform_catch(d3Select(this).attr('transform')).translate\n        const coords = { x: coordsA[0], y: coordsA[1] }\n        map.callback_manager.run('edit_text_label', null, d3Select(this), coords)\n        d3Selection.event.stopPropagation()\n      }\n      this.textLabelClick = null\n      this.map.sel.select('#text-labels')\n        .selectAll('.label')\n        .style('cursor', 'text')\n      // add the new-label listener\n      this.map.sel.on('mousedown.new_text_label', function (node) {\n        // silence other listeners\n        d3Selection.event.preventDefault()\n        const coords = {\n          x: d3Mouse(node)[0],\n          y: d3Mouse(node)[1]\n        }\n        this.map.callback_manager.run('new_text_label', null, coords)\n      }.bind(this, this.map.sel.node()))\n    } else {\n      this.textLabelMousedown = this.selectableMousedown\n      this.textLabelClick = this.selectableClick\n      this.map.sel.select('#text-labels')\n        .selectAll('.label')\n        .style('cursor', null)\n      // remove the new-label listener\n      this.map.sel.on('mousedown.new_text_label', null)\n      this.map.callback_manager.run('hide_text_label_editor')\n    }\n  }\n\n  /**\n   * With no argument, toggle the node drag & bezier drag on or off. Pass in a\n   * boolean argument to set the on/off state.\n   */\n  toggleSelectableDrag (onOff) {\n    if (onOff === undefined) {\n      onOff = this.selectableDrag === this.emptyBehavior\n    }\n    if (onOff) {\n      this.selectableDrag = this.getSelectableDrag(this.map, this.undoStack)\n      this.bezierDrag = this.getBezierDrag(this.map, this.undoStack)\n    } else {\n      this.selectableDrag = this.emptyBehavior\n      this.bezierDrag = this.emptyBehavior\n    }\n  }\n\n  /**\n   * With no argument, toggle the label drag on or off. Pass in a boolean argument\n   * to set the on/off state.\n   * @param {Boolean} onOff - The new on/off state.\n   */\n  toggleLabelDrag (onOff) {\n    if (onOff === undefined) {\n      onOff = this.labelDrag === this.emptyBehavior\n    }\n    if (onOff) {\n      this.reactionLabelDrag = this.getReactionLabelDrag(this.map)\n      this.nodeLabelDrag = this.getNodeLabelDrag(this.map)\n    } else {\n      this.reactionLabelDrag = this.emptyBehavior\n      this.nodeLabelDrag = this.emptyBehavior\n    }\n  }\n\n  /**\n   * With no argument, toggle the tooltips on mouseover labels.\n   * @param {Boolean} onOff - The new on/off state.\n   */\n  toggleLabelMouseover (onOff) {\n    if (onOff === undefined) {\n      onOff = this.nodeLabelMouseover === null\n    }\n\n    if (onOff) {\n      // Show/hide tooltip.\n      // @param {String} type - 'reactionLabel' or 'nodeLabel'\n      // @param {Object} d - D3 data for DOM element\n      const getMouseover = type => d => {\n        if (!this.dragging) {\n          this.map.callback_manager.run('show_tooltip', null, type, d)\n        }\n      }\n      const mouseout = () => {\n        this.map.callback_manager.run('delay_hide_tooltip')\n      }\n      this.nodeLabelMouseover = getMouseover('node_label')\n      this.nodeLabelTouch = getMouseover('node_label')\n      this.nodeLabelMouseout = mouseout\n      this.reactionLabelMouseover = getMouseover('reaction_label')\n      this.reactionLabelTouch = getMouseover('reaction_label')\n      this.reactionLabelMouseout = mouseout\n      this.geneLabelMouseover = getMouseover('gene_label')\n      this.geneLabelTouch = getMouseover('gene_label')\n      this.geneLabelMouseout = mouseout\n    } else {\n      this.nodeLabelMouseover = null\n      this.nodeLabelTouch = null\n      this.nodeLabelMouseout = null\n      this.reactionLabelMouseover = null\n      this.reactionLabelTouch = null\n      this.reactionLabelMouseout = null\n      this.geneLabelMouseover = null\n      this.geneLabelTouch = null\n      this.geneLabelMouseout = null\n    }\n  }\n\n  /**\n   * With no argument, toggle the tooltips on mouseover of nodes or arrows.\n   * @param {Boolean} onOff - The new on/off state.\n   */\n  toggleObjectMouseover (onOff) {\n    if (onOff === undefined) {\n      onOff = this.nodeObjectMouseover === null\n    }\n\n    if (onOff) {\n      // Show/hide tooltip.\n      // @param {String} type - 'reaction_object' or 'node_object'\n      // @param {Object} d - D3 data for DOM element\n      const getMouseover = type => {\n        const behavior = this\n        return function (d) {\n          if (!behavior.dragging) {\n            if (type === 'reaction_object') {\n              const mouseEvent = d3Mouse(this)\n              // Add the current mouse position to the segment's datum\n              const newD = Object.assign(\n                {}, d, { xPos: mouseEvent[0], yPos: mouseEvent[1] }\n              )\n              behavior.map.callback_manager.run('show_tooltip', null, type, newD)\n            } else {\n              behavior.map.callback_manager.run('show_tooltip', null, type, d)\n            }\n          }\n        }\n      }\n      const mouseout = () => {\n        this.map.callback_manager.run('delay_hide_tooltip')\n      }\n      this.nodeObjectMouseover = getMouseover('node_object')\n      this.nodeObjectMouseout = mouseout\n      this.reactionObjectMouseover = getMouseover('reaction_object')\n      this.reactionObjectMouseout = mouseout\n    } else {\n      this.nodeObjectMouseover = null\n      this.nodeObjectMouseout = null\n      this.reactionObjectMouseover = null\n      this.reactionObjectMouseout = null\n    }\n  }\n\n  /**\n   * With no argument, toggle the tooltips upon touching of nodes or arrows.\n   * @param {Boolean} onOff - The new on/off state. If this argument is not provided, then toggle the state.\n   */\n  toggleObjectTouch (onOff) {\n    if (onOff === undefined) {\n      onOff = this.labelTouch === null\n    }\n\n    if (onOff) {\n      this.objectTouch = (type, d) => {\n        if (!this.dragging) {\n          this.map.callback_manager.run('show_tooltip', null, type, d)\n        }\n      }\n    } else {\n      this.objectTouch = null\n    }\n  }\n\n  /**\n   * With no argument, toggle the bezier drag on or off. Pass in a boolean\n   * argument to set the on/off state.\n   */\n  toggleBezierDrag (onOff) {\n    if (onOff === undefined) {\n      onOff = this.bezierDrag === this.emptyBehavior\n    }\n    if (onOff) {\n      this.bezierDrag = this.getBezierDrag(this.map)\n      this.bezierMouseover = function (d) {\n        d3Select(this).style('stroke-width', '3px')\n      }\n      this.bezierMouseout = function (d) {\n        d3Select(this).style('stroke-width', '1px')\n      }\n    } else {\n      this.bezierDrag = this.emptyBehavior\n      this.bezierMouseover = null\n      this.bezierMouseout = null\n    }\n  }\n\n  turnOffDrag (sel) {\n    sel.on('mousedown.drag', null)\n    sel.on('touchstart.drag', null)\n  }\n\n  combineNodesAndDraw (fixedNodeId, draggedNodeId) {\n    const map = this.map\n    const draggedNode = map.nodes[draggedNodeId]\n    const fixedNode = map.nodes[fixedNodeId]\n    const updatedSegmentObjs = []\n    draggedNode.connected_segments.forEach(segmentObj => {\n      // change the segments to reflect\n      let segment = null\n      try {\n        segment = map.reactions[segmentObj.reaction_id].segments[segmentObj.segment_id]\n        if (segment === undefined) throw new Error('undefined segment')\n      } catch (e) {\n        console.warn('Could not find connected segment ' + segmentObj.segment_id)\n        return\n      }\n      if (segment.from_node_id === draggedNodeId) segment.from_node_id = fixedNodeId\n      else if (segment.to_node_id === draggedNodeId) segment.to_node_id = fixedNodeId\n      else {\n        console.error('Segment does not connect to dragged node')\n        return\n      }\n      // moved segmentObj to fixedNode\n      fixedNode.connected_segments.push(segmentObj)\n      updatedSegmentObjs.push(utils.clone(segmentObj))\n    })\n    // delete the old node\n    map.delete_node_data([draggedNodeId])\n    // turn off the class\n    map.sel.selectAll('.node-to-combine').classed('node-to-combine', false)\n    // draw\n    map.draw_everything()\n    // return for undo\n    return updatedSegmentObjs\n  }\n\n  /**\n   * Drag the selected nodes and text labels.\n   * @param {} map -\n   * @param {} undo_stack -\n   */\n  getSelectableDrag (map, undoStack) {\n    // define some variables\n    const behavior = d3Drag()\n    let theTimeout = null\n    let totalDisplacement = null\n    // for nodes\n    let nodeIdsToDrag = null\n    let reactionIds = null\n    // for text labels\n    let textLabelIdsToDrag = null\n    const moveLabel = (textLabelId, displacement) => {\n      const textLabel = map.text_labels[textLabelId]\n      textLabel.x = textLabel.x + displacement.x\n      textLabel.y = textLabel.y + displacement.y\n    }\n    const setDragging = onOff => {\n      this.dragging = onOff\n    }\n\n    behavior.on('start', function (d) {\n      setDragging(true)\n\n      // silence other listeners (e.g. nodes BELOW this one)\n      d3Selection.event.sourceEvent.stopPropagation()\n      // remember the total displacement for later\n      totalDisplacement = { x: 0, y: 0 }\n\n      // If a text label is selected, the rest is not necessary\n      if (d3Select(this).attr('class').indexOf('label') === -1) {\n        // Note that drag start is called even for a click event\n        const data = this.parentNode.__data__\n        const biggId = data.bigg_id\n        const nodeGroup = this.parentNode\n        // Move element to back (for the next step to work). Wait 200ms\n        // before making the move, becuase otherwise the element will be\n        // deleted before the click event gets called, and selection\n        // will stop working.\n        theTimeout = setTimeout(() => {\n          nodeGroup.parentNode.insertBefore(nodeGroup, nodeGroup.parentNode.firstChild)\n        }, 200)\n        // prepare to combine metabolites\n        map.sel.selectAll('.metabolite-circle')\n          .on('mouseover.combine', function (d) {\n            if (d.bigg_id === biggId && d.node_id !== data.node_id) {\n              d3Select(this).classed('node-to-combine', true)\n            }\n          })\n          .on('mouseout.combine', d => {\n            if (d.bigg_id === biggId) {\n              map.sel.selectAll('.node-to-combine').classed('node-to-combine', false)\n            }\n          })\n      }\n    })\n\n    behavior.on('drag', function (d) {\n      // if this node is not already selected, then select this one and\n      // deselect all other nodes. Otherwise, leave the selection alone.\n      if (!d3Select(this.parentNode).classed('selected')) {\n        map.select_selectable(this, d)\n      }\n\n      // get the grabbed id\n      const grabbed = {}\n      if (d3Select(this).attr('class').indexOf('label') === -1) {\n        // if it is a node\n        grabbed['type'] = 'node'\n        grabbed['id'] = this.parentNode.__data__.node_id\n      } else {\n        // if it is a text label\n        grabbed['type'] = 'label'\n        grabbed['id'] = this.__data__.text_label_id\n      }\n\n      const selectedNodeIds = map.get_selected_node_ids()\n      const selectedTextLabelIds = map.get_selected_text_label_ids()\n      nodeIdsToDrag = []\n      textLabelIdsToDrag = []\n      // choose the nodes and text labels to drag\n      if (grabbed['type'] === 'node' &&\n          selectedNodeIds.indexOf(grabbed['id']) === -1) {\n        nodeIdsToDrag.push(grabbed['id'])\n      } else if (grabbed['type'] === 'label' &&\n                 selectedTextLabelIds.indexOf(grabbed['id']) === -1) {\n        textLabelIdsToDrag.push(grabbed['id'])\n      } else {\n        nodeIdsToDrag = selectedNodeIds\n        textLabelIdsToDrag = selectedTextLabelIds\n      }\n      reactionIds = []\n      const displacement = {\n        x: d3Selection.event.dx,\n        y: d3Selection.event.dy\n      }\n      totalDisplacement = utils.c_plus_c(totalDisplacement, displacement)\n      nodeIdsToDrag.forEach(nodeId => {\n        // update data\n        const node = map.nodes[nodeId]\n        const updated = build.moveNodeAndDependents(node, nodeId, map.reactions,\n                                                    map.beziers, displacement)\n        reactionIds = utils.uniqueConcat([ reactionIds, updated.reaction_ids ])\n        // remember the displacements\n        // if (!(nodeId in totalDisplacement))  totalDisplacement[nodeId] = { x: 0, y: 0 }\n        // totalDisplacement[nodeId] = utils.c_plus_c(totalDisplacement[nodeId], displacement)\n      })\n      textLabelIdsToDrag.forEach(textLabelId => {\n        moveLabel(textLabelId, displacement)\n        // remember the displacements\n        // if (!(nodeId in totalDisplacement))  totalDisplacement[nodeId] = { x: 0, y: 0 }\n        // totalDisplacement[nodeId] = utils.c_plus_c(totalDisplacement[nodeId], displacement)\n      })\n      // draw\n      map.draw_these_nodes(nodeIdsToDrag)\n      map.draw_these_reactions(reactionIds)\n      map.draw_these_text_labels(textLabelIdsToDrag)\n    })\n\n    const combineNodesAndDraw = this.combineNodesAndDraw.bind(this)\n    behavior.on('end', function () {\n      setDragging(false)\n\n      if (nodeIdsToDrag === null) {\n        // Drag end can be called when drag has not been called. In this, case, do\n        // nothing.\n        totalDisplacement = null\n        nodeIdsToDrag = null\n        textLabelIdsToDrag = null\n        reactionIds = null\n        theTimeout = null\n        return\n      }\n\n      // look for mets to combine\n      const nodeToCombineArray = []\n      map.sel.selectAll('.node-to-combine').each(d => {\n        nodeToCombineArray.push(d.node_id)\n      })\n\n      if (nodeToCombineArray.length === 1) {\n        // If a node is ready for it, combine nodes\n        const fixedNodeId = nodeToCombineArray[0]\n        const draggedNodeId = this.parentNode.__data__.node_id\n        const savedDraggedNode = utils.clone(map.nodes[draggedNodeId])\n        const segmentObjsMovedToCombine = combineNodesAndDraw(fixedNodeId,\n                                                              draggedNodeId)\n        const savedDisplacement = utils.clone(totalDisplacement)\n        undoStack.push(() => {\n          // undo\n          // put the old node back\n          map.nodes[draggedNodeId] = savedDraggedNode\n          const fixedNode = map.nodes[fixedNodeId]\n          const updatedReactions = []\n          segmentObjsMovedToCombine.forEach(segmentObj => {\n            const segment = map.reactions[segmentObj.reaction_id].segments[segmentObj.segment_id]\n            if (segment.from_node_id === fixedNodeId) {\n              segment.from_node_id = draggedNodeId\n            } else if (segment.to_node_id === fixedNodeId) {\n              segment.to_node_id = draggedNodeId\n            } else {\n              console.error('Segment does not connect to fixed node')\n            }\n            // removed this segmentObj from the fixed node\n            fixedNode.connected_segments = fixedNode.connected_segments.filter(x => {\n              return !(x.reaction_id === segmentObj.reaction_id && x.segment_id === segmentObj.segment_id)\n            })\n            if (updatedReactions.indexOf(segmentObj.reaction_id) === -1) {\n              updatedReactions.push(segmentObj.reaction_id)\n            }\n          })\n          // move the node back\n          build.moveNodeAndDependents(\n            savedDraggedNode,\n            draggedNodeId,\n            map.reactions,\n            map.beziers,\n            utils.c_times_scalar(savedDisplacement, -1)\n          )\n          map.draw_these_nodes([draggedNodeId])\n          map.draw_these_reactions(updatedReactions)\n        }, () => {\n          // redo\n          // move node before combining for reliable undo/redo looping\n          build.moveNodeAndDependents(\n            savedDraggedNode,\n            draggedNodeId,\n            map.reactions,\n            map.beziers,\n            utils.c_times_scalar(savedDisplacement, 1)\n          )\n          combineNodesAndDraw(fixedNodeId, draggedNodeId)\n        })\n      } else {\n        // otherwise, drag node\n\n        // add to undo/redo stack\n        // remember the displacement, dragged nodes, and reactions\n        const savedDisplacement = utils.clone(totalDisplacement)\n            // BUG TODO this variable disappears!\n            // Happens sometimes when you drag a node, then delete it, then undo twice\n        const savedNodeIds = utils.clone(nodeIdsToDrag)\n        const savedTextLabelIds = utils.clone(textLabelIdsToDrag)\n        const savedReactionIds = utils.clone(reactionIds)\n        undoStack.push(() => {\n          // undo\n          savedNodeIds.forEach(nodeId => {\n            const node = map.nodes[nodeId]\n            build.moveNodeAndDependents(\n              node,\n              nodeId,\n              map.reactions,\n              map.beziers,\n              utils.c_times_scalar(savedDisplacement, -1)\n            )\n          })\n          savedTextLabelIds.forEach(textLabelId => {\n            moveLabel(textLabelId,\n                       utils.c_times_scalar(savedDisplacement, -1))\n          })\n          map.draw_these_nodes(savedNodeIds)\n          map.draw_these_reactions(savedReactionIds)\n          map.draw_these_text_labels(savedTextLabelIds)\n        }, () => {\n          // redo\n          savedNodeIds.forEach(nodeId => {\n            const node = map.nodes[nodeId]\n            build.moveNodeAndDependents(node, nodeId, map.reactions,\n                                        map.beziers,\n                                        savedDisplacement)\n          })\n          savedTextLabelIds.forEach(textLabelId => {\n            moveLabel(textLabelId, savedDisplacement)\n          })\n          map.draw_these_nodes(savedNodeIds)\n          map.draw_these_reactions(savedReactionIds)\n          map.draw_these_text_labels(savedTextLabelIds)\n        })\n      }\n\n      // stop combining metabolites\n      map.sel.selectAll('.metabolite-circle')\n        .on('mouseover.combine', null)\n        .on('mouseout.combine', null)\n\n      // clear the timeout\n      clearTimeout(theTimeout)\n\n      // clear the shared variables\n      totalDisplacement = null\n      nodeIdsToDrag = null\n      textLabelIdsToDrag = null\n      reactionIds = null\n      theTimeout = null\n    })\n\n    return behavior\n  }\n\n  getBezierDrag (map) {\n    const moveBezier = (reactionId, segmentId, bez, bezierId, displacement) => {\n      const segment = map.reactions[reactionId].segments[segmentId]\n      segment[bez] = utils.c_plus_c(segment[bez], displacement)\n      map.beziers[bezierId].x = segment[bez].x\n      map.beziers[bezierId].y = segment[bez].y\n    }\n    const startFn = d => {\n      d.dragging = true\n    }\n    const dragFn = (d, displacement, totalDisplacement) => {\n      // draw\n      moveBezier(d.reaction_id, d.segment_id, d.bezier, d.bezier_id,\n                  displacement)\n      map.draw_these_reactions([d.reaction_id], false)\n      map.draw_these_beziers([d.bezier_id])\n    }\n    const endFn = d => {\n      d.dragging = false\n    }\n    const undoFn = (d, displacement) => {\n      moveBezier(d.reaction_id, d.segment_id, d.bezier, d.bezier_id,\n                 utils.c_times_scalar(displacement, -1))\n      map.draw_these_reactions([d.reaction_id], false)\n      map.draw_these_beziers([d.bezier_id])\n    }\n    const redoFn = (d, displacement) => {\n      moveBezier(d.reaction_id, d.segment_id, d.bezier, d.bezier_id,\n                  displacement)\n      map.draw_these_reactions([d.reaction_id], false)\n      map.draw_these_beziers([d.bezier_id])\n    }\n    return this.getGenericDrag(startFn, dragFn, endFn, undoFn, redoFn,\n                               this.map.sel)\n  }\n\n  getReactionLabelDrag (map) {\n    const moveLabel = (reactionId, displacement) => {\n      const reaction = map.reactions[reactionId]\n      reaction.label_x = reaction.label_x + displacement.x\n      reaction.label_y = reaction.label_y + displacement.y\n    }\n    const startFn = d => {\n      // hide tooltips when drag starts\n      map.callback_manager.run('hide_tooltip')\n    }\n    const dragFn = (d, displacement, totalDisplacement) => {\n      // draw\n      moveLabel(d.reaction_id, displacement)\n      map.draw_these_reactions([ d.reaction_id ])\n    }\n    const endFn = () => {}\n    const undoFn = (d, displacement) => {\n      moveLabel(d.reaction_id, utils.c_times_scalar(displacement, -1))\n      map.draw_these_reactions([ d.reaction_id ])\n    }\n    const redoFn = (d, displacement) => {\n      moveLabel(d.reaction_id, displacement)\n      map.draw_these_reactions([ d.reaction_id ])\n    }\n    return this.getGenericDrag(startFn, dragFn, endFn, undoFn, redoFn,\n                               this.map.sel)\n  }\n\n  getNodeLabelDrag (map) {\n    const moveLabel = (nodeId, displacement) => {\n      const node = map.nodes[nodeId]\n      node.label_x = node.label_x + displacement.x\n      node.label_y = node.label_y + displacement.y\n    }\n    const startFn = d => {\n      // hide tooltips when drag starts\n      map.callback_manager.run('hide_tooltip')\n    }\n    const dragFn = (d, displacement, totalDisplacement) => {\n      // draw\n      moveLabel(d.node_id, displacement)\n      map.draw_these_nodes([ d.node_id ])\n    }\n    const endFn = () => {}\n    const undoFn = (d, displacement) => {\n      moveLabel(d.node_id, utils.c_times_scalar(displacement, -1))\n      map.draw_these_nodes([ d.node_id ])\n    }\n    const redoFn = (d, displacement) => {\n      moveLabel(d.node_id, displacement)\n      map.draw_these_nodes([ d.node_id ])\n    }\n    return this.getGenericDrag(startFn, dragFn, endFn, undoFn, redoFn,\n                               this.map.sel)\n  }\n\n  /**\n   * Make a generic drag behavior, with undo/redo.\n   *\n   * startFn: function (d) Called at drag start.\n   *\n   * dragFn: function (d, displacement, totalDisplacement) Called during drag.\n   *\n   * endFn\n   *\n   * undoFn\n   *\n   * redoFn\n   *\n   * relativeToSelection: a d3 selection that the locations are calculated\n   * against.\n   *\n   */\n  getGenericDrag (startFn, dragFn, endFn, undoFn, redoFn,\n                              relativeToSelection) {\n    // define some variables\n    const behavior = d3Drag()\n    const undoStack = this.undoStack\n    const rel = relativeToSelection.node()\n    let totalDisplacement\n\n    behavior.on('start', d => {\n      this.dragging = true\n\n      // silence other listeners\n      d3Selection.event.sourceEvent.stopPropagation()\n      totalDisplacement = { x: 0, y: 0 }\n      startFn(d)\n    })\n\n    behavior.on('drag', d => {\n      // update data\n      const displacement = {\n        x: d3Selection.event.dx,\n        y: d3Selection.event.dy\n      }\n      const location = {\n        x: d3Mouse(rel)[0],\n        y: d3Mouse(rel)[1]\n      }\n\n      // remember the displacement\n      totalDisplacement = utils.c_plus_c(totalDisplacement, displacement)\n      dragFn(d, displacement, totalDisplacement, location)\n    })\n\n    behavior.on('end', d => {\n      this.dragging = false\n\n      // add to undo/redo stack\n      // remember the displacement, dragged nodes, and reactions\n      const savedD = utils.clone(d)\n      const savedDisplacement = utils.clone(totalDisplacement) // BUG TODO this variable disappears!\n      const savedLocation = {\n        x: d3Mouse(rel)[0],\n        y: d3Mouse(rel)[1]\n      }\n\n      undoStack.push(function () {\n        // undo\n        undoFn(savedD, savedDisplacement, savedLocation)\n      }, function () {\n        // redo\n        redoFn(savedD, savedDisplacement, savedLocation)\n      })\n      endFn(d)\n    })\n\n    return behavior\n  }\n\n  /** Make a generic drag behavior, with undo/redo. Supplies angles in place of\n   * displacements.\n   *\n   * startFn: function (d) Called at drag start.\n   *\n   * dragFn: function (d, displacement, totalDisplacement) Called during drag.\n   *\n   * endFn:\n   *\n   * undoFn:\n   *\n   * redoFn:\n   *\n   * getCenter:\n   *\n   * relativeToSelection: a d3 selection that the locations are calculated\n   * against.\n   *\n   */\n  getGenericAngularDrag (startFn, dragFn, endFn, undoFn, redoFn,\n                         getCenter, relativeToSelection) {\n    // define some variables\n    const behavior = d3Drag()\n    const undoStack = this.undoStack\n    const rel = relativeToSelection.node()\n    let totalAngle\n\n    behavior.on('start', d => {\n      this.dragging = true\n\n      // silence other listeners\n      d3Selection.event.sourceEvent.stopPropagation()\n      totalAngle = 0\n      startFn(d)\n    })\n\n    behavior.on('drag', d => {\n      // update data\n      const displacement = {\n        x: d3Selection.event.dx,\n        y: d3Selection.event.dy\n      }\n      const location = {\n        x: d3Mouse(rel)[0],\n        y: d3Mouse(rel)[1]\n      }\n      const center = getCenter()\n      const angle = utils.angle_for_event(displacement, location, center)\n      // remember the displacement\n      totalAngle = totalAngle + angle\n      dragFn(d, angle, totalAngle, center)\n    })\n\n    behavior.on('end', d => {\n      this.dragging = false\n\n      // add to undo/redo stack\n      // remember the displacement, dragged nodes, and reactions\n      const savedD = utils.clone(d)\n      const savedAngle = totalAngle\n      const savedCenter = utils.clone(getCenter())\n\n      undoStack.push(\n        () => undoFn(savedD, savedAngle, savedCenter),\n        () => redoFn(savedD, savedAngle, savedCenter)\n      )\n\n      endFn(d)\n    })\n\n    return behavior\n  }\n}\n","/**\n * Functions for building new reactions.\n */\n\nimport * as utils from './utils'\nimport _ from 'underscore'\n\nfunction getLabelLoc (angle) {\n  if (Math.abs(angle) > Math.PI) {\n    throw new Error('Angle must be between -PI and PI')\n  }\n  if (Math.abs(angle) < Math.PI / 7 || Math.abs(angle - Math.PI) < Math.PI / 7) {\n    // Close to 0 or PI\n    return { x: -50, y: -40 }\n  } else if (angle > 0) {\n    // Bottom quadrants\n    return {\n      x: 15 * (1 - (Math.abs(angle - Math.PI / 2)) / (Math.PI / 2)),\n      y: 10 + (angle - Math.PI / 2) * 50\n    }\n  } else {\n    // Top quadrants\n    return {\n      x: 15 * (1 - (Math.abs(angle + Math.PI / 2)) / (Math.PI / 2)),\n      y: 10 - (Math.abs(angle) - Math.PI / 2) * 50\n    }\n  }\n}\n\n/**\n * Get the location for a new metabolite label.\n * @param angleRaw - angle in radians\n * @param index\n * @param count\n * @param isPrimary\n * @param biggId\n * @param primaryIndex\n */\nexport function getMetLabelLoc (angleRaw, index, count, isPrimary, biggId,\n                                primaryIndex) {\n  const angle = utils.angleNorm(angleRaw)\n  const width = biggId.length * 18\n  const leftRight = (index - (index > primaryIndex) - (count / 2)) >= -1\n  if (Math.abs(angle) < Math.PI / 7) {\n    // Close to 0\n    if (isPrimary || leftRight) {\n      // Primary or bottom\n      return { x: -width * 0.3, y: 40 }\n    } else {\n      // Top\n      return { x: -width * 0.3, y: -20 }\n    }\n  } else if (Math.abs(angle - Math.PI) < Math.PI / 7) {\n    // Close to PI\n    if (isPrimary || !leftRight) {\n      // Primary or bottom\n      return { x: -width * 0.3, y: 40 }\n    } else {\n      // Top\n      return { x: -width * 0.3, y: -20 }\n    }\n  } else {\n    if (isPrimary) {\n      // Primary\n      return {\n        x: 25 - 38 * Math.abs(Math.abs(angle) - Math.PI / 2),\n        y: (Math.abs(angle) - Math.PI / 2) * ((angle > 0) * 2 - 1) * 50\n      }\n    } else if ((angle < 0 && leftRight) || (angle > 0 && !leftRight)) {\n      // Right\n      return { x: 15, y: 0 }\n    } else {\n      // Left\n      return { x: -width * 0.5, y: 30 }\n    }\n  }\n}\n\n/**\n * New reaction.\n * @param {Number} direction - clockwise from 'right', in degrees.\n */\nexport function newReaction (biggId, cobraReaction, cobraMetabolites,\n                             selectedNodeId, selectedNode, largestIds,\n                             cofactors, direction) {\n  // Convert to radians, and force to domain - PI/2 to PI/2\n  const angle = utils.to_radians_norm(direction)\n\n  // Generate a new integer id\n  const newReactionId = String(++largestIds.reactions)\n\n  // Calculate coordinates of reaction\n  const selectedNodeCoords = { x: selectedNode.x, y: selectedNode.y }\n\n  // Rotate main axis around angle with distance\n  const reactionLength = 350\n  const mainAxis = [\n    selectedNodeCoords,\n    utils.c_plus_c(selectedNodeCoords, { x: reactionLength, y: 0 })\n  ]\n  const center = {\n    x: (mainAxis[0].x + mainAxis[1].x) / 2,\n    y: (mainAxis[0].y + mainAxis[1].y) / 2\n  }\n\n  // Relative label location\n  const labelD = getLabelLoc(angle)\n\n  // Relative anchor node distance\n  const anchorDistance = 20\n\n  // New reaction structure\n  const newReaction = {\n    name: cobraReaction.name,\n    bigg_id: cobraReaction.bigg_id,\n    reversibility: cobraReaction.reversibility,\n    gene_reaction_rule: cobraReaction.gene_reaction_rule,\n    genes: utils.clone(cobraReaction.genes),\n    metabolites: utils.clone(cobraReaction.metabolites)\n  }\n  utils.extend(newReaction, {\n    label_x: center.x + labelD.x,\n    label_y: center.y + labelD.y,\n    segments: {}\n  })\n\n  // Set primary metabolites and count reactants/products\n\n  // Look for the selected metabolite, and record the indices\n  const reactantRanks = []\n  const productRanks = []\n  let reactantCount = 0\n  let productCount = 0\n  let reactionIsReversed = false\n  for (let metBiggId in newReaction.metabolites) {\n    // Make the metabolites into objects\n    const metabolite = cobraMetabolites[metBiggId]\n    const coefficient = newReaction.metabolites[metBiggId]\n    const formula = metabolite.formula\n    const newMetabolite = {\n      coefficient: coefficient,\n      bigg_id: metBiggId,\n      name: metabolite.name\n    }\n    if (coefficient < 0) {\n      newMetabolite.index = reactantCount\n      // score the metabolites. Infinity == selected, >= 1 == carbon containing\n      const carbons = /C([0-9]+)/.exec(formula)\n      if (selectedNode.bigg_id === newMetabolite.bigg_id) {\n        reactantRanks.push([ newMetabolite.index, Infinity ])\n      } else if (carbons && cofactors.indexOf(utils.decompartmentalize(newMetabolite.bigg_id)[0]) === -1) {\n        reactantRanks.push([ newMetabolite.index, parseInt(carbons[1]) ])\n      }\n      reactantCount++\n    } else {\n      newMetabolite.index = productCount\n      const carbons = /C([0-9]+)/.exec(formula)\n      if (selectedNode.bigg_id === newMetabolite.bigg_id) {\n        productRanks.push([ newMetabolite.index, Infinity ])\n        reactionIsReversed = true\n      } else if (carbons && cofactors.indexOf(utils.decompartmentalize(newMetabolite.bigg_id)[0]) === -1) {\n        productRanks.push([ newMetabolite.index, parseInt(carbons[1]) ])\n      }\n      productCount++\n    }\n    newReaction.metabolites[metBiggId] = newMetabolite\n  }\n\n  // get the rank with the highest score\n  const maxRank = (old, current) => current[1] > old[1] ? current : old\n  const primaryReactantIndex = reactantRanks.reduce(maxRank, [ 0, 0 ])[0]\n  const primaryProductIndex = productRanks.reduce(maxRank, [ 0, 0 ])[0]\n\n  // set primary metabolites, and keep track of the total counts\n  for (let metBiggId in newReaction.metabolites) {\n    const metabolite = newReaction.metabolites[metBiggId]\n    if (metabolite.coefficient < 0) {\n      metabolite.is_primary = metabolite.index === primaryReactantIndex\n      metabolite.count = reactantCount\n    } else {\n      metabolite.is_primary = metabolite.index === primaryProductIndex\n      metabolite.count = productCount\n    }\n  }\n\n  // generate anchor nodes\n  const newAnchors = {}\n  const anchors = [\n    {\n      node_type: 'anchor_reactants',\n      dis: { x: anchorDistance * (reactionIsReversed ? 1 : -1), y: 0 }\n    },\n    { node_type: 'center', dis: { x: 0, y: 0 } },\n    {\n      node_type: 'anchor_products',\n      dis: { x: anchorDistance * (reactionIsReversed ? -1 : 1), y: 0 }\n    }\n  ]\n  const anchorIds = {}\n  anchors.map(n => {\n    const newId = String(++largestIds.nodes)\n    const generalNodeType = n.node_type === 'center' ? 'midmarker' : 'multimarker'\n    newAnchors[newId] = {\n      node_type: generalNodeType,\n      x: center.x + n.dis.x,\n      y: center.y + n.dis.y,\n      connected_segments: [],\n      name: null,\n      bigg_id: null,\n      label_x: null,\n      label_y: null,\n      node_is_primary: null,\n      data: null\n    }\n    anchorIds[n.node_type] = newId\n  })\n\n  // add the segments, outside to inside\n  const newAnchorGroups = [\n    [ anchorIds['anchor_reactants'], anchorIds['center'], 'reactants' ],\n    [ anchorIds['anchor_products'], anchorIds['center'], 'products' ]\n  ]\n  newAnchorGroups.map(l => {\n    const fromId = l[0]\n    const toId = l[1]\n    const newSegmentId = String(++largestIds.segments)\n    const unconnectedSeg = (\n      (reactantCount === 0 && l[2] === 'reactants' && newReaction.reversibility) ||\n      (productCount === 0 && l[2] === 'products')\n    )\n    newReaction.segments[newSegmentId] = {\n      b1: null,\n      b2: null,\n      from_node_id: fromId,\n      to_node_id: toId,\n      from_node_coefficient: null,\n      to_node_coefficient: null,\n      reversibility: newReaction.reversibility,\n      data: newReaction.data,\n      reverse_flux: newReaction.reverse_flux,\n      unconnected_segment_with_arrow: unconnectedSeg\n    }\n    newAnchors[fromId].connected_segments.push({\n      segment_id: newSegmentId,\n      reaction_id: newReactionId\n    })\n    newAnchors[toId].connected_segments.push({\n      segment_id: newSegmentId,\n      reaction_id: newReactionId\n    })\n  })\n\n  // Add the metabolites, keeping track of total reactants and products.\n  const newNodes = newAnchors\n  for (let metBiggId in newReaction.metabolites) {\n    const metabolite = newReaction.metabolites[metBiggId]\n    let primaryIndex\n    let fromNodeId\n    if (metabolite.coefficient < 0) {\n      primaryIndex = primaryReactantIndex\n      fromNodeId = anchorIds['anchor_reactants']\n    } else {\n      primaryIndex = primaryProductIndex\n      fromNodeId = anchorIds['anchor_products']\n    }\n\n    // calculate coordinates of metabolite components\n    const metLoc = calculateNewMetaboliteCoordinates(\n      metabolite,\n      primaryIndex,\n      mainAxis,\n      center,\n      reactionLength,\n      reactionIsReversed\n    )\n\n    // if this is the existing metabolite\n    if (selectedNode.bigg_id === metabolite.bigg_id) {\n      const newSegmentId = String(++largestIds.segments)\n      newReaction.segments[newSegmentId] = {\n        b1: metLoc.b1,\n        b2: metLoc.b2,\n        from_node_id: fromNodeId,\n        to_node_id: selectedNodeId,\n        from_node_coefficient: null,\n        to_node_coefficient: metabolite.coefficient,\n        reversibility: newReaction.reversibility\n      }\n      // Update the existing node\n      selectedNode.connected_segments.push({\n        segment_id: newSegmentId,\n        reaction_id: newReactionId\n      })\n      newNodes[fromNodeId].connected_segments.push({\n        segment_id: newSegmentId,\n        reaction_id: newReactionId\n      })\n    } else {\n      // save new metabolite\n      const newSegmentId = String(++largestIds.segments)\n      const newNodeId = String(++largestIds.nodes)\n      newReaction.segments[newSegmentId] = {\n        b1: metLoc.b1,\n        b2: metLoc.b2,\n        from_node_id: fromNodeId,\n        to_node_id: newNodeId,\n        from_node_coefficient: null,\n        to_node_coefficient: metabolite.coefficient,\n        reversibility: newReaction.reversibility\n      }\n      // save new node\n      const metLabelD = getMetLabelLoc(\n        angle,\n        metabolite.index,\n        metabolite.count,\n        metabolite.is_primary,\n        metabolite.bigg_id,\n        primaryIndex\n      )\n      newNodes[newNodeId] = {\n        connected_segments: [ {\n          segment_id: newSegmentId,\n          reaction_id: newReactionId\n        } ],\n        x: metLoc.circle.x,\n        y: metLoc.circle.y,\n        node_is_primary: metabolite.is_primary,\n        label_x: metLoc.circle.x + metLabelD.x,\n        label_y: metLoc.circle.y + metLabelD.y,\n        name: metabolite.name,\n        bigg_id: metabolite.bigg_id,\n        node_type: 'metabolite'\n      }\n      newNodes[fromNodeId].connected_segments.push({\n        segment_id: newSegmentId,\n        reaction_id: newReactionId\n      })\n    }\n  }\n\n  // now take out the extra reaction details\n  const metabolitesArray = []\n  for (let biggId in newReaction.metabolites) {\n    metabolitesArray.push({\n      bigg_id: biggId,\n      coefficient: newReaction.metabolites[biggId].coefficient\n    })\n  }\n  newReaction.metabolites = metabolitesArray\n\n  // newReactions object\n  const newReactions = {}\n  newReactions[newReactionId] = newReaction\n\n  // new_beziers object\n  const newBeziers = newBeziersForReactions(newReactions)\n\n  // add the selected node for rotation, and return it as a new (updated) node\n  newNodes[selectedNodeId] = selectedNode\n  rotateNodes(newNodes, newReactions, newBeziers, angle, selectedNodeCoords)\n\n  return {\n    new_reactions: newReactions,\n    new_beziers: newBeziers,\n    new_nodes: newNodes\n  }\n}\n\n/**\n * Rotate the nodes around center.\n * @param selected_nodes - Nodes to rotate.\n * @param reactions - Only updates beziers for these reactions.\n * @param beziers - Also update the bezier points.\n * @param angle - Angle to rotate in radians.\n * @param center - Point to rotate around.\n */\nexport function rotateNodes (selectedNodes, reactions, beziers, angle, center) {\n  const rotateAround = coord => {\n    if (coord === null) {\n      return null\n    }\n    return utils.rotate_coords(coord, angle, center)\n  }\n\n  // recalculate: node\n  const updatedNodeIds = []\n  let updatedReactionIds = []\n  for (let nodeId in selectedNodes) {\n    const node = selectedNodes[nodeId]\n    // rotation distance\n    const displacement = rotateAround({ x: node.x, y: node.y })\n    // move the node\n    const updated = moveNodeAndLabels(node, reactions, displacement)\n    // move the bezier points\n    node.connected_segments.map(segmentObj => {\n      const reaction = reactions[segmentObj.reaction_id]\n      // If the reaction was not passed in the reactions argument, then ignore\n      if (reaction === undefined) return\n\n      // rotate the beziers\n      const segmentId = segmentObj.segment_id\n      const segment = reaction.segments[segmentId]\n      if (segment.to_node_id === nodeId && segment.b2) {\n        const displacement = rotateAround(segment.b2)\n        const bezId = bezierIdForSegmentId(segmentId, 'b2')\n        segment.b2 = utils.c_plus_c(segment.b2, displacement)\n        beziers[bezId].x = segment.b2.x\n        beziers[bezId].y = segment.b2.y\n      } else if (segment.from_node_id === nodeId && segment.b1) {\n        const displacement = rotateAround(segment.b1)\n        const bezId = bezierIdForSegmentId(segmentId, 'b1')\n        segment.b1 = utils.c_plus_c(segment.b1, displacement)\n        beziers[bezId].x = segment.b1.x\n        beziers[bezId].y = segment.b1.y\n      }\n    })\n\n    updatedReactionIds = utils.uniqueConcat([updatedReactionIds, updated.reaction_ids])\n    updatedNodeIds.push(nodeId)\n  }\n\n  return {\n    node_ids: updatedNodeIds,\n    reaction_ids: updatedReactionIds\n  }\n}\n\n/**\n * Move the node and its labels and beziers.\n */\nexport function moveNodeAndDependents (node, nodeId, reactions, beziers,\n                                       displacement) {\n  const updated = moveNodeAndLabels(node, reactions, displacement)\n\n  // move beziers\n  node.connected_segments.map(segmentObj => {\n    const reaction = reactions[segmentObj.reaction_id]\n    // If the reaction was not passed in the reactions argument, then ignore\n    if (_.isUndefined(reaction)) return\n\n    // Update beziers\n    const segmentId = segmentObj.segment_id\n    const segment = reaction.segments[segmentId]\n    const cs = [ [ 'b1', 'from_node_id' ], [ 'b2', 'to_node_id' ] ]\n    cs.forEach(c => {\n      const bez = c[0]\n      const node = c[1]\n      if (segment[node] === nodeId && segment[bez]) {\n        segment[bez] = utils.c_plus_c(segment[bez], displacement)\n        const tbez = beziers[bezierIdForSegmentId(segmentId, bez)]\n        tbez.x = segment[bez].x\n        tbez.y = segment[bez].y\n      }\n    })\n\n    // add to list of updated reaction ids if it isn't already there\n    if (updated.reaction_ids.indexOf(segmentObj.reaction_id) < 0) {\n      updated.reaction_ids.push(segmentObj.reaction_id)\n    }\n  })\n  return updated\n}\n\nfunction moveNodeAndLabels (node, reactions, displacement) {\n  node.x = node.x + displacement.x\n  node.y = node.y + displacement.y\n\n  // recalculate: node label\n  node.label_x = node.label_x + displacement.x\n  node.label_y = node.label_y + displacement.y\n\n  // recalculate: reaction label\n  const updatedReactionIds = []\n  node.connected_segments.map(segmentObj => {\n    const reaction = reactions[segmentObj.reaction_id]\n    // add to list of updated reaction ids if it isn't already there\n    if (updatedReactionIds.indexOf(segmentObj.reaction_id) < 0) {\n      updatedReactionIds.push(segmentObj.reaction_id)\n\n      // update reaction label (but only once per reaction\n      if (node.node_type === 'midmarker') {\n        reaction.label_x = reaction.label_x + displacement.x\n        reaction.label_y = reaction.label_y + displacement.y\n      }\n    }\n  })\n  return { reaction_ids: updatedReactionIds }\n}\n\n/**\n * Calculate the distance of mets from main reaction axis.\n * @param {Number} w - Scaling factor\n * @param {Number} draw_at_index - Index of metabolite\n * @param {Number} num_slots - Number of metabolites\n */\nfunction metIndexDisp (w, drawAtIndex, numSlots) {\n  const half = Math.floor(numSlots / 2)\n  return w * (drawAtIndex - half + (drawAtIndex >= half))\n}\n\nfunction metSecondaryDisp (secondaryW, secondaryDis, drawAtIndex, numSlots) {\n  const half = Math.floor(numSlots / 2)\n  return secondaryDis + Math.abs(drawAtIndex - half + (drawAtIndex >= half)) * secondaryW\n}\n\n/**\n * Calculate metabolite coordinates for a new reaction metabolite.\n */\nfunction calculateNewMetaboliteCoordinates (met, primaryIndex, mainAxis, center,\n                                            dis, isReversed) {\n  // new local coordinate system\n  const displacement = mainAxis[0]\n  mainAxis = [\n    utils.c_minus_c(mainAxis[0], displacement),\n    utils.c_minus_c(mainAxis[1], displacement)\n  ]\n  center = utils.c_minus_c(center, displacement)\n\n  // Curve parameters\n  const w = 80 // distance between reactants and between products\n  const b1Strength = 0.4\n  const b2Strength = 0.25\n  const w2 = w * 0.3 // bezier target poin\n  const secondaryDis = 50 // y distance of first secondary mets\n  const secondaryW = 20 // y distance of each other secondary met\n\n  // Secondary mets\n  const numSlots = met.count - 1\n\n  // Size and spacing for primary and secondary metabolites\n  let ds\n  let drawAtIndex\n  if (met.is_primary) { // primary\n    ds = 20\n  } else { // secondary\n    ds = 10\n    // don't use center slot\n    if (met.index > primaryIndex) drawAtIndex = met.index - 1\n    else drawAtIndex = met.index\n  }\n\n  const de = dis - ds // distance between ends of line axis\n  const reactionAxis = [ { x: ds, y: 0 }, { x: de, y: 0 } ]\n\n  // Define line parameters and axis.\n  // Begin with unrotated coordinate system. +y = Down, +x = Right.\n  let end\n  let circle\n  let b1\n  let b2\n\n  // Reactants\n  if (((met.coefficient < 0) !== isReversed) && met.is_primary) { // Ali == BADASS\n    end = {\n      x: reactionAxis[0].x,\n      y: reactionAxis[0].y\n    }\n    b1 = {\n      x: center.x * (1 - b1Strength) + reactionAxis[0].x * b1Strength,\n      y: center.y * (1 - b1Strength) + reactionAxis[0].y * b1Strength\n    }\n    b2 = {\n      x: center.x * b2Strength + end.x * (1 - b2Strength),\n      y: center.y * b2Strength + end.y * (1 - b2Strength)\n    }\n    circle = {\n      x: mainAxis[0].x,\n      y: mainAxis[0].y\n    }\n  } else if ((met.coefficient < 0) !== isReversed) {\n    end = {\n      x: reactionAxis[0].x + metSecondaryDisp(secondaryW, secondaryDis,\n                                                  drawAtIndex, numSlots),\n      y: reactionAxis[0].y + metIndexDisp(w2, drawAtIndex, numSlots)\n    }\n    b1 = {\n      x: center.x * (1 - b1Strength) + reactionAxis[0].x * b1Strength,\n      y: center.y * (1 - b1Strength) + reactionAxis[0].y * b1Strength\n    }\n    b2 = {\n      x: center.x * b2Strength + end.x * (1 - b2Strength),\n      y: center.y * b2Strength + end.y * (1 - b2Strength)\n    }\n    circle = {\n      x: mainAxis[0].x + metSecondaryDisp(secondaryW, secondaryDis, drawAtIndex, numSlots),\n      y: mainAxis[0].y + metIndexDisp(w, drawAtIndex, numSlots)\n    }\n  } else if (((met.coefficient > 0) !== isReversed) && met.is_primary) {        // products\n    end = {\n      x: reactionAxis[1].x,\n      y: reactionAxis[1].y\n    }\n    b1 = {\n      x: center.x * (1 - b1Strength) + reactionAxis[1].x * b1Strength,\n      y: center.y * (1 - b1Strength) + reactionAxis[1].y * b1Strength\n    }\n    b2 = {\n      x: center.x * b2Strength + end.x * (1 - b2Strength),\n      y: center.y * b2Strength + end.y * (1 - b2Strength)\n    }\n    circle = {\n      x: mainAxis[1].x,\n      y: mainAxis[1].y\n    }\n  } else if ((met.coefficient > 0) !== isReversed) {\n    end = {\n      x: reactionAxis[1].x - metSecondaryDisp(secondaryW, secondaryDis, drawAtIndex, numSlots),\n      y: reactionAxis[1].y + metIndexDisp(w2, drawAtIndex, numSlots)\n    }\n    b1 = {\n      x: center.x * (1 - b1Strength) + reactionAxis[1].x * b1Strength,\n      y: center.y * (1 - b1Strength) + reactionAxis[1].y * b1Strength\n    }\n    b2 = {\n      x: center.x * b2Strength + end.x * (1 - b2Strength),\n      y: center.y * b2Strength + end.y * (1 - b2Strength)\n    }\n    circle = {\n      x: mainAxis[1].x - metSecondaryDisp(secondaryW, secondaryDis, drawAtIndex, numSlots),\n      y: mainAxis[1].y + metIndexDisp(w, drawAtIndex, numSlots)\n    }\n  }\n\n  return {\n    b1: utils.c_plus_c(displacement, b1),\n    b2: utils.c_plus_c(displacement, b2),\n    circle: utils.c_plus_c(displacement, circle)\n  }\n}\n\nexport function newTextLabel (largestIds, text, coords) {\n  const newId = String(++largestIds.text_labels)\n  const newLabel = { text: text, x: coords.x, y: coords.y }\n  return { id: newId, label: newLabel }\n}\n\nexport function bezierIdForSegmentId (segmentId, bez) {\n  return segmentId + '_' + bez\n}\n\n/**\n * Return an array of beziers ids for the array of reaction ids.\n * @param {Object} reactions - A reactions object, e.g. a subset of\n * *escher.Map.reactions*.\n */\nexport function bezierIdsForReactionIds (reactions) {\n  const bezierIds = []\n  for (let reactionId in reactions) {\n    const reaction = reactions[reactionId]\n\n    for (let segmentId in reaction.segments) {\n      const segment = reaction.segments[segmentId]\n\n      const bezs = [ 'b1', 'b2' ]\n      bezs.forEach(function (bez) {\n        const segBez = segment[bez]\n        if (segBez !== null) {\n          bezierIds.push(bezierIdForSegmentId(segmentId, bez))\n        }\n      })\n    }\n  }\n  return bezierIds\n}\n\n/**\n * Return an object containing beziers for the segments object.\n * segments: A segments object, e.g. *escher.Map.segments*.\n * reaction_id: The reaction id for the segments.\n */\nexport function newBeziersForSegments (segments, reactionId) {\n  const beziers = {}\n  for (let segmentId in segments) {\n    const segment = segments[segmentId]\n\n    ;[ 'b1', 'b2' ].forEach(function (bez) {\n      const segBez = segment[bez]\n      if (segBez !== null) {\n        const bezierId = bezierIdForSegmentId(segmentId, bez)\n        beziers[bezierId] = {\n          bezier: bez,\n          x: segBez.x,\n          y: segBez.y,\n          reaction_id: reactionId,\n          segment_id: segmentId\n        }\n      }\n    })\n  }\n  return beziers\n}\n\n/**\n * Return an object containing beziers for the reactions object.\n * @param {Object} reactions - A reactions object, e.g. *escher.Map.reactions*.\n */\nexport function newBeziersForReactions (reactions) {\n  const beziers = {}\n  for (let reactionId in reactions) {\n    const reaction = reactions[reactionId]\n    const these = newBeziersForSegments(reaction.segments, reactionId)\n    utils.extend(beziers, these)\n  }\n  return beziers\n}\n","const scalePresets = {\n  GaBuGeRd: [\n    { type: 'min', color: '#c8c8c8', size: 12 },\n    { type: 'value', value: 0.01, color: '#9696ff', size: 16 },\n    { type: 'value', value: 20, color: '#209123', size: 20 },\n    { type: 'max', color: '#ff0000', size: 25 }\n  ],\n  GaBuRd: [\n    { type: 'min', color: '#c8c8c8', size: 12 },\n    { type: 'median', color: '#9696ff', size: 20 },\n    { type: 'max', color: '#ff0000', size: 25 }\n  ],\n  RdYlBu: [\n    { type: 'min', color: '#d7191c', size: 12 },\n    { type: 'median', color: '#ffffbf', size: 20 },\n    { type: 'max', color: '#2c7bb6', size: 25 }\n  ],\n  GeGaRd: [\n    { type: 'min', color: '#209123', size: 25 },\n    { type: 'value', value: 0, color: '#c8c8c8', size: 12 },\n    { type: 'max', color: '#ff0000', size: 25 }\n  ],\n  WhYlRd: [\n    { type: 'min', color: '#fffaf0', size: 20 },\n    { type: 'median', color: '#f1c470', size: 30 },\n    { type: 'max', color: '#800000', size: 40 }\n  ]\n}\n\nexport default scalePresets\n","function incr (a, l) {\n  return a + 1 > l - 1 ? 0 : a + 1\n}\n\nfunction decr (a, l) {\n  return a - 1 < 0 ? l - 1 : a - 1\n}\n\n/** UndoStack. A constructor that can be used to store undo info. */\nexport default class UndoStack {\n  constructor () {\n    const stackSize = 40\n    this.stack = Array(stackSize)\n    this.current = -1\n    this.oldest = -1\n    this.newest = -1\n    this.endOfStack = true\n    this.topOfStack = true\n  }\n\n  push (undo, redo) {\n    this.current = incr(this.current, this.stack.length)\n    // change the oldest\n    if (this.endOfStack) {\n      this.oldest = this.current\n    } else if (this.oldest === this.current) {\n      this.oldest = incr(this.oldest, this.stack.length)\n    }\n    this.stack[this.current] = { undo, redo }\n    this.newest = this.current\n\n    // top of the stack\n    this.topOfStack = true\n    this.endOfStack = false\n\n    return { do: () => redo() }\n  }\n\n  undo () {\n    // check that we haven't reached the end\n    if (this.endOfStack) return console.warn('End of stack.')\n    // run the lastest stack function\n    this.stack[this.current].undo()\n    if (this.current === this.oldest) {\n      // if the next index is less than the oldest, then the stack is dead\n      this.endOfStack = true\n    } else {\n      // reference the next fn\n      this.current = decr(this.current, this.stack.length)\n    }\n\n    // not at the top of the stack\n    this.topOfStack = false\n  }\n\n  redo () {\n    // check that we haven't reached the end\n    if (this.topOfStack) return console.warn('Top of stack.')\n\n    if (!this.endOfStack) {\n      this.current = incr(this.current, this.stack.length)\n    }\n    this.stack[this.current].redo()\n\n    // if at top of stack\n    if (this.current === this.newest) {\n      this.topOfStack = true\n    }\n\n    // not at the end of the stack\n    this.endOfStack = false\n  }\n}\n","import Mousetrap from 'mousetrap'\nimport _ from 'underscore'\n\n/**\n * If ctrlEqualsCmd is true and key has ctrl+ in it, return an array with ctrl+\n * and meta+ variations.\n */\nfunction addCmd (key, ctrlEqualsCmd) {\n  if (!ctrlEqualsCmd) return key\n  const keyAr = _.isArray(key) ? key : [key]\n  const newAr = keyAr.reduce((c, k) => {\n    var n = k.replace('ctrl+', 'meta+')\n    if (n !== k) c.push(n)\n    return c\n  }, keyAr.slice())\n  return newAr.length === keyAr.length ? key : newAr\n}\n\n/**\n * KeyManager - Manage key listeners and events.\n * @param assignedKeys (default: {}): An object defining keys to bind.\n * @param inputList (default: []): A list of inputs that will override keyboard shortcuts when in focus.\n * @param selection (default: global): A node to bind the events to.\n * @param ctrlEqualsCmd (default: false): If true, then control and command have the same effect.\n */\nexport default class KeyManager {\n  constructor (\n    assignedKeys = {},\n    inputList = [],\n    selection = null,\n    ctrlEqualsCmd = false,\n    settings = null\n  ) {\n    // default Arguments\n    this.assignedKeys = assignedKeys\n    this.inputList = inputList\n    this.mousetrap = selection ? new Mousetrap(selection) : new Mousetrap()\n    this.ctrlEqualsCmd = ctrlEqualsCmd\n\n    // Fix mousetrap behavior; by default, it ignore shortcuts when inputs are\n    // in focus.\n    // TODO NOT WORKING https://craig.is/killing/mice\n    // consider swithching to https://github.com/PolicyStat/combokeys\n    this.mousetrap.stopCallback = () => false\n\n    this.escapeQueue = []\n    this.removeEscapeListener = null\n\n    // to check settings when running a key\n    this.settings = settings\n\n    this.enabled = true\n    this.update()\n  }\n\n  /**\n   * Updated key bindings if attributes have changed.\n   */\n  update () {\n    this.mousetrap.reset()\n    if (!this.enabled) return\n\n    // loop through keys\n    for (let keyId in this.assignedKeys) {\n      const assignedKey = this.assignedKeys[keyId]\n\n      // OK if this is missing\n      if (!assignedKey.key) continue\n\n      const keyToBind = addCmd(assignedKey.key, this.ctrlEqualsCmd)\n      // remember the inputList\n      assignedKey.inputList = this.inputList\n      this.mousetrap.bind(keyToBind, e => {\n        // check requires\n        if (assignedKey.requires && !this.settings.get(assignedKey.requires)) {\n          return\n        }\n\n        // check inputs\n        let inputBlocking = false\n        if (assignedKey.ignoreWithInput) {\n          for (var i = 0, l = assignedKey.inputList.length; i < l; i++) {\n            const thisInputVal = assignedKey.inputList[i]\n            const thisInput = _.isFunction(thisInputVal)\n                  ? thisInputVal()\n                  : thisInputVal\n            if (thisInput !== null && thisInput.is_visible()) {\n              inputBlocking = true\n              break\n            }\n          }\n        }\n\n        if (!inputBlocking) {\n          if (assignedKey.fn) assignedKey.fn.call(assignedKey.target)\n          else console.warn('No function for key: ' + assignedKey.key)\n          e.preventDefault()\n        }\n      }, 'keydown')\n    }\n  }\n\n  /**\n   * Turn the key manager on or off.\n   */\n  toggle (onOff) {\n    if (_.isUndefined(onOff)) onOff = !this.enabled\n    this.enabled = onOff\n    this.update()\n  }\n\n  /**\n   * Call the callback when the enter key is pressed, then unregisters the\n   * listener.\n   */\n  addEnterListener (callback, oneTime) {\n    return this.addKeyListener('enter', callback, oneTime)\n  }\n\n  /**\n   * If the list is empty, drop the listener. could get called after the\n   * listener is already removed\n   */\n  _tryDropEscapeListener () {\n    if (this.escapeQueue.length === 0 && this.removeEscapeListener) {\n      this.removeEscapeListener()\n      this.removeEscapeListener = null\n    }\n  }\n  /**\n   * Call the callback when the escape key is pressed, then unregisters the\n   * listener.\n   *\n   * Unlike the other listeners, addEscapeListener keeps a queue of listeners\n   * that are called in order then popped off the list.\n   *\n   * Escape listeners also only work one time.\n   */\n  addEscapeListener (callback) {\n    // if the listener is not set, then add it\n    if (this.removeEscapeListener === null) {\n      this.removeEscapeListener = this.addKeyListener('escape', () => {\n        // pop and run the top callback\n        if (this.escapeQueue.length > 0) {\n          const top = this.escapeQueue.pop()\n          top()\n        }\n        this._tryDropEscapeListener()\n      })\n    }\n\n    // push the new callback onto the queue\n    this.escapeQueue.push(callback)\n\n    // return a function to pop the callback out of the list\n    return () => {\n      // find it if it's in the queue\n      const index = this.escapeQueue.indexOf(callback)\n      // if it's the last one, then pop and activate next\n      if (index > -1) {\n        // remove it\n        this.escapeQueue.splice(index, 1)\n      }\n      this._tryDropEscapeListener()\n    }\n  }\n\n  /**\n   * Call the callback when the key is pressed, then unregisters the listener.\n   * Returns a function that will unbind the event.\n   * @param callback: The callback function with no arguments.\n   * @param key_name: A key name, or list of key names, as defined by the\n   *                  mousetrap library: https://craig.is/killing/mice\n   * @param one_time: If True, then cancel the listener after the first execution.\n   */\n  addKeyListener (keyName, callback, oneTime = false) {\n    // unbind function ready to go\n    const unbind = this.mousetrap.unbind.bind(this.mousetrap, keyName)\n\n    this.mousetrap.bind(addCmd(keyName, this.ctrlEqualsCmd), e => {\n      e.preventDefault()\n      callback()\n      if (oneTime) unbind()\n    })\n\n    return unbind\n  }\n}\n","/*global define:false */\n/**\n * Copyright 2012-2017 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Mousetrap is a simple keyboard shortcut library for Javascript with\n * no external dependencies\n *\n * @version 1.6.5\n * @url craig.is/killing/mice\n */\n(function(window, document, undefined) {\n\n    // Check if mousetrap is used inside browser, if not, return\n    if (!window) {\n        return;\n    }\n\n    /**\n     * mapping of special keycodes to their corresponding keys\n     *\n     * everything in this dictionary cannot use keypress events\n     * so it has to be here to map to the correct keycodes for\n     * keyup/keydown events\n     *\n     * @type {Object}\n     */\n    var _MAP = {\n        8: 'backspace',\n        9: 'tab',\n        13: 'enter',\n        16: 'shift',\n        17: 'ctrl',\n        18: 'alt',\n        20: 'capslock',\n        27: 'esc',\n        32: 'space',\n        33: 'pageup',\n        34: 'pagedown',\n        35: 'end',\n        36: 'home',\n        37: 'left',\n        38: 'up',\n        39: 'right',\n        40: 'down',\n        45: 'ins',\n        46: 'del',\n        91: 'meta',\n        93: 'meta',\n        224: 'meta'\n    };\n\n    /**\n     * mapping for special characters so they can support\n     *\n     * this dictionary is only used incase you want to bind a\n     * keyup or keydown event to one of these keys\n     *\n     * @type {Object}\n     */\n    var _KEYCODE_MAP = {\n        106: '*',\n        107: '+',\n        109: '-',\n        110: '.',\n        111 : '/',\n        186: ';',\n        187: '=',\n        188: ',',\n        189: '-',\n        190: '.',\n        191: '/',\n        192: '`',\n        219: '[',\n        220: '\\\\',\n        221: ']',\n        222: '\\''\n    };\n\n    /**\n     * this is a mapping of keys that require shift on a US keypad\n     * back to the non shift equivelents\n     *\n     * this is so you can use keyup events with these keys\n     *\n     * note that this will only work reliably on US keyboards\n     *\n     * @type {Object}\n     */\n    var _SHIFT_MAP = {\n        '~': '`',\n        '!': '1',\n        '@': '2',\n        '#': '3',\n        '$': '4',\n        '%': '5',\n        '^': '6',\n        '&': '7',\n        '*': '8',\n        '(': '9',\n        ')': '0',\n        '_': '-',\n        '+': '=',\n        ':': ';',\n        '\\\"': '\\'',\n        '<': ',',\n        '>': '.',\n        '?': '/',\n        '|': '\\\\'\n    };\n\n    /**\n     * this is a list of special strings you can use to map\n     * to modifier keys when you specify your keyboard shortcuts\n     *\n     * @type {Object}\n     */\n    var _SPECIAL_ALIASES = {\n        'option': 'alt',\n        'command': 'meta',\n        'return': 'enter',\n        'escape': 'esc',\n        'plus': '+',\n        'mod': /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? 'meta' : 'ctrl'\n    };\n\n    /**\n     * variable to store the flipped version of _MAP from above\n     * needed to check if we should use keypress or not when no action\n     * is specified\n     *\n     * @type {Object|undefined}\n     */\n    var _REVERSE_MAP;\n\n    /**\n     * loop through the f keys, f1 to f19 and add them to the map\n     * programatically\n     */\n    for (var i = 1; i < 20; ++i) {\n        _MAP[111 + i] = 'f' + i;\n    }\n\n    /**\n     * loop through to map numbers on the numeric keypad\n     */\n    for (i = 0; i <= 9; ++i) {\n\n        // This needs to use a string cause otherwise since 0 is falsey\n        // mousetrap will never fire for numpad 0 pressed as part of a keydown\n        // event.\n        //\n        // @see https://github.com/ccampbell/mousetrap/pull/258\n        _MAP[i + 96] = i.toString();\n    }\n\n    /**\n     * cross browser add event method\n     *\n     * @param {Element|HTMLDocument} object\n     * @param {string} type\n     * @param {Function} callback\n     * @returns void\n     */\n    function _addEvent(object, type, callback) {\n        if (object.addEventListener) {\n            object.addEventListener(type, callback, false);\n            return;\n        }\n\n        object.attachEvent('on' + type, callback);\n    }\n\n    /**\n     * takes the event and returns the key character\n     *\n     * @param {Event} e\n     * @return {string}\n     */\n    function _characterFromEvent(e) {\n\n        // for keypress events we should return the character as is\n        if (e.type == 'keypress') {\n            var character = String.fromCharCode(e.which);\n\n            // if the shift key is not pressed then it is safe to assume\n            // that we want the character to be lowercase.  this means if\n            // you accidentally have caps lock on then your key bindings\n            // will continue to work\n            //\n            // the only side effect that might not be desired is if you\n            // bind something like 'A' cause you want to trigger an\n            // event when capital A is pressed caps lock will no longer\n            // trigger the event.  shift+a will though.\n            if (!e.shiftKey) {\n                character = character.toLowerCase();\n            }\n\n            return character;\n        }\n\n        // for non keypress events the special maps are needed\n        if (_MAP[e.which]) {\n            return _MAP[e.which];\n        }\n\n        if (_KEYCODE_MAP[e.which]) {\n            return _KEYCODE_MAP[e.which];\n        }\n\n        // if it is not in the special map\n\n        // with keydown and keyup events the character seems to always\n        // come in as an uppercase character whether you are pressing shift\n        // or not.  we should make sure it is always lowercase for comparisons\n        return String.fromCharCode(e.which).toLowerCase();\n    }\n\n    /**\n     * checks if two arrays are equal\n     *\n     * @param {Array} modifiers1\n     * @param {Array} modifiers2\n     * @returns {boolean}\n     */\n    function _modifiersMatch(modifiers1, modifiers2) {\n        return modifiers1.sort().join(',') === modifiers2.sort().join(',');\n    }\n\n    /**\n     * takes a key event and figures out what the modifiers are\n     *\n     * @param {Event} e\n     * @returns {Array}\n     */\n    function _eventModifiers(e) {\n        var modifiers = [];\n\n        if (e.shiftKey) {\n            modifiers.push('shift');\n        }\n\n        if (e.altKey) {\n            modifiers.push('alt');\n        }\n\n        if (e.ctrlKey) {\n            modifiers.push('ctrl');\n        }\n\n        if (e.metaKey) {\n            modifiers.push('meta');\n        }\n\n        return modifiers;\n    }\n\n    /**\n     * prevents default for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _preventDefault(e) {\n        if (e.preventDefault) {\n            e.preventDefault();\n            return;\n        }\n\n        e.returnValue = false;\n    }\n\n    /**\n     * stops propogation for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _stopPropagation(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n            return;\n        }\n\n        e.cancelBubble = true;\n    }\n\n    /**\n     * determines if the keycode specified is a modifier key or not\n     *\n     * @param {string} key\n     * @returns {boolean}\n     */\n    function _isModifier(key) {\n        return key == 'shift' || key == 'ctrl' || key == 'alt' || key == 'meta';\n    }\n\n    /**\n     * reverses the map lookup so that we can look for specific keys\n     * to see what can and can't use keypress\n     *\n     * @return {Object}\n     */\n    function _getReverseMap() {\n        if (!_REVERSE_MAP) {\n            _REVERSE_MAP = {};\n            for (var key in _MAP) {\n\n                // pull out the numeric keypad from here cause keypress should\n                // be able to detect the keys from the character\n                if (key > 95 && key < 112) {\n                    continue;\n                }\n\n                if (_MAP.hasOwnProperty(key)) {\n                    _REVERSE_MAP[_MAP[key]] = key;\n                }\n            }\n        }\n        return _REVERSE_MAP;\n    }\n\n    /**\n     * picks the best action based on the key combination\n     *\n     * @param {string} key - character for key\n     * @param {Array} modifiers\n     * @param {string=} action passed in\n     */\n    function _pickBestAction(key, modifiers, action) {\n\n        // if no action was picked in we should try to pick the one\n        // that we think would work best for this key\n        if (!action) {\n            action = _getReverseMap()[key] ? 'keydown' : 'keypress';\n        }\n\n        // modifier keys don't work as expected with keypress,\n        // switch to keydown\n        if (action == 'keypress' && modifiers.length) {\n            action = 'keydown';\n        }\n\n        return action;\n    }\n\n    /**\n     * Converts from a string key combination to an array\n     *\n     * @param  {string} combination like \"command+shift+l\"\n     * @return {Array}\n     */\n    function _keysFromString(combination) {\n        if (combination === '+') {\n            return ['+'];\n        }\n\n        combination = combination.replace(/\\+{2}/g, '+plus');\n        return combination.split('+');\n    }\n\n    /**\n     * Gets info for a specific key combination\n     *\n     * @param  {string} combination key combination (\"command+s\" or \"a\" or \"*\")\n     * @param  {string=} action\n     * @returns {Object}\n     */\n    function _getKeyInfo(combination, action) {\n        var keys;\n        var key;\n        var i;\n        var modifiers = [];\n\n        // take the keys from this pattern and figure out what the actual\n        // pattern is all about\n        keys = _keysFromString(combination);\n\n        for (i = 0; i < keys.length; ++i) {\n            key = keys[i];\n\n            // normalize key names\n            if (_SPECIAL_ALIASES[key]) {\n                key = _SPECIAL_ALIASES[key];\n            }\n\n            // if this is not a keypress event then we should\n            // be smart about using shift keys\n            // this will only work for US keyboards however\n            if (action && action != 'keypress' && _SHIFT_MAP[key]) {\n                key = _SHIFT_MAP[key];\n                modifiers.push('shift');\n            }\n\n            // if this key is a modifier then add it to the list of modifiers\n            if (_isModifier(key)) {\n                modifiers.push(key);\n            }\n        }\n\n        // depending on what the key combination is\n        // we will try to pick the best event for it\n        action = _pickBestAction(key, modifiers, action);\n\n        return {\n            key: key,\n            modifiers: modifiers,\n            action: action\n        };\n    }\n\n    function _belongsTo(element, ancestor) {\n        if (element === null || element === document) {\n            return false;\n        }\n\n        if (element === ancestor) {\n            return true;\n        }\n\n        return _belongsTo(element.parentNode, ancestor);\n    }\n\n    function Mousetrap(targetElement) {\n        var self = this;\n\n        targetElement = targetElement || document;\n\n        if (!(self instanceof Mousetrap)) {\n            return new Mousetrap(targetElement);\n        }\n\n        /**\n         * element to attach key events to\n         *\n         * @type {Element}\n         */\n        self.target = targetElement;\n\n        /**\n         * a list of all the callbacks setup via Mousetrap.bind()\n         *\n         * @type {Object}\n         */\n        self._callbacks = {};\n\n        /**\n         * direct map of string combinations to callbacks used for trigger()\n         *\n         * @type {Object}\n         */\n        self._directMap = {};\n\n        /**\n         * keeps track of what level each sequence is at since multiple\n         * sequences can start out with the same sequence\n         *\n         * @type {Object}\n         */\n        var _sequenceLevels = {};\n\n        /**\n         * variable to store the setTimeout call\n         *\n         * @type {null|number}\n         */\n        var _resetTimer;\n\n        /**\n         * temporary state where we will ignore the next keyup\n         *\n         * @type {boolean|string}\n         */\n        var _ignoreNextKeyup = false;\n\n        /**\n         * temporary state where we will ignore the next keypress\n         *\n         * @type {boolean}\n         */\n        var _ignoreNextKeypress = false;\n\n        /**\n         * are we currently inside of a sequence?\n         * type of action (\"keyup\" or \"keydown\" or \"keypress\") or false\n         *\n         * @type {boolean|string}\n         */\n        var _nextExpectedAction = false;\n\n        /**\n         * resets all sequence counters except for the ones passed in\n         *\n         * @param {Object} doNotReset\n         * @returns void\n         */\n        function _resetSequences(doNotReset) {\n            doNotReset = doNotReset || {};\n\n            var activeSequences = false,\n                key;\n\n            for (key in _sequenceLevels) {\n                if (doNotReset[key]) {\n                    activeSequences = true;\n                    continue;\n                }\n                _sequenceLevels[key] = 0;\n            }\n\n            if (!activeSequences) {\n                _nextExpectedAction = false;\n            }\n        }\n\n        /**\n         * finds all callbacks that match based on the keycode, modifiers,\n         * and action\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event|Object} e\n         * @param {string=} sequenceName - name of the sequence we are looking for\n         * @param {string=} combination\n         * @param {number=} level\n         * @returns {Array}\n         */\n        function _getMatches(character, modifiers, e, sequenceName, combination, level) {\n            var i;\n            var callback;\n            var matches = [];\n            var action = e.type;\n\n            // if there are no events related to this keycode\n            if (!self._callbacks[character]) {\n                return [];\n            }\n\n            // if a modifier key is coming up on its own we should allow it\n            if (action == 'keyup' && _isModifier(character)) {\n                modifiers = [character];\n            }\n\n            // loop through all callbacks for the key that was pressed\n            // and see if any of them match\n            for (i = 0; i < self._callbacks[character].length; ++i) {\n                callback = self._callbacks[character][i];\n\n                // if a sequence name is not specified, but this is a sequence at\n                // the wrong level then move onto the next match\n                if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {\n                    continue;\n                }\n\n                // if the action we are looking for doesn't match the action we got\n                // then we should keep going\n                if (action != callback.action) {\n                    continue;\n                }\n\n                // if this is a keypress event and the meta key and control key\n                // are not pressed that means that we need to only look at the\n                // character, otherwise check the modifiers as well\n                //\n                // chrome will not fire a keypress if meta or control is down\n                // safari will fire a keypress if meta or meta+shift is down\n                // firefox will fire a keypress if meta or control is down\n                if ((action == 'keypress' && !e.metaKey && !e.ctrlKey) || _modifiersMatch(modifiers, callback.modifiers)) {\n\n                    // when you bind a combination or sequence a second time it\n                    // should overwrite the first one.  if a sequenceName or\n                    // combination is specified in this call it does just that\n                    //\n                    // @todo make deleting its own method?\n                    var deleteCombo = !sequenceName && callback.combo == combination;\n                    var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;\n                    if (deleteCombo || deleteSequence) {\n                        self._callbacks[character].splice(i, 1);\n                    }\n\n                    matches.push(callback);\n                }\n            }\n\n            return matches;\n        }\n\n        /**\n         * actually calls the callback function\n         *\n         * if your callback function returns false this will use the jquery\n         * convention - prevent default and stop propogation on the event\n         *\n         * @param {Function} callback\n         * @param {Event} e\n         * @returns void\n         */\n        function _fireCallback(callback, e, combo, sequence) {\n\n            // if this event should not happen stop here\n            if (self.stopCallback(e, e.target || e.srcElement, combo, sequence)) {\n                return;\n            }\n\n            if (callback(e, combo) === false) {\n                _preventDefault(e);\n                _stopPropagation(e);\n            }\n        }\n\n        /**\n         * handles a character key event\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event} e\n         * @returns void\n         */\n        self._handleKey = function(character, modifiers, e) {\n            var callbacks = _getMatches(character, modifiers, e);\n            var i;\n            var doNotReset = {};\n            var maxLevel = 0;\n            var processedSequenceCallback = false;\n\n            // Calculate the maxLevel for sequences so we can only execute the longest callback sequence\n            for (i = 0; i < callbacks.length; ++i) {\n                if (callbacks[i].seq) {\n                    maxLevel = Math.max(maxLevel, callbacks[i].level);\n                }\n            }\n\n            // loop through matching callbacks for this key event\n            for (i = 0; i < callbacks.length; ++i) {\n\n                // fire for all sequence callbacks\n                // this is because if for example you have multiple sequences\n                // bound such as \"g i\" and \"g t\" they both need to fire the\n                // callback for matching g cause otherwise you can only ever\n                // match the first one\n                if (callbacks[i].seq) {\n\n                    // only fire callbacks for the maxLevel to prevent\n                    // subsequences from also firing\n                    //\n                    // for example 'a option b' should not cause 'option b' to fire\n                    // even though 'option b' is part of the other sequence\n                    //\n                    // any sequences that do not match here will be discarded\n                    // below by the _resetSequences call\n                    if (callbacks[i].level != maxLevel) {\n                        continue;\n                    }\n\n                    processedSequenceCallback = true;\n\n                    // keep a list of which sequences were matches for later\n                    doNotReset[callbacks[i].seq] = 1;\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo, callbacks[i].seq);\n                    continue;\n                }\n\n                // if there were no sequence matches but we are still here\n                // that means this is a regular match so we should fire that\n                if (!processedSequenceCallback) {\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo);\n                }\n            }\n\n            // if the key you pressed matches the type of sequence without\n            // being a modifier (ie \"keyup\" or \"keypress\") then we should\n            // reset all sequences that were not matched by this event\n            //\n            // this is so, for example, if you have the sequence \"h a t\" and you\n            // type \"h e a r t\" it does not match.  in this case the \"e\" will\n            // cause the sequence to reset\n            //\n            // modifier keys are ignored because you can have a sequence\n            // that contains modifiers such as \"enter ctrl+space\" and in most\n            // cases the modifier key will be pressed before the next key\n            //\n            // also if you have a sequence such as \"ctrl+b a\" then pressing the\n            // \"b\" key will trigger a \"keypress\" and a \"keydown\"\n            //\n            // the \"keydown\" is expected when there is a modifier, but the\n            // \"keypress\" ends up matching the _nextExpectedAction since it occurs\n            // after and that causes the sequence to reset\n            //\n            // we ignore keypresses in a sequence that directly follow a keydown\n            // for the same character\n            var ignoreThisKeypress = e.type == 'keypress' && _ignoreNextKeypress;\n            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {\n                _resetSequences(doNotReset);\n            }\n\n            _ignoreNextKeypress = processedSequenceCallback && e.type == 'keydown';\n        };\n\n        /**\n         * handles a keydown event\n         *\n         * @param {Event} e\n         * @returns void\n         */\n        function _handleKeyEvent(e) {\n\n            // normalize e.which for key events\n            // @see http://stackoverflow.com/questions/4285627/javascript-keycode-vs-charcode-utter-confusion\n            if (typeof e.which !== 'number') {\n                e.which = e.keyCode;\n            }\n\n            var character = _characterFromEvent(e);\n\n            // no character found then stop\n            if (!character) {\n                return;\n            }\n\n            // need to use === for the character check because the character can be 0\n            if (e.type == 'keyup' && _ignoreNextKeyup === character) {\n                _ignoreNextKeyup = false;\n                return;\n            }\n\n            self.handleKey(character, _eventModifiers(e), e);\n        }\n\n        /**\n         * called to set a 1 second timeout on the specified sequence\n         *\n         * this is so after each key press in the sequence you have 1 second\n         * to press the next key before you have to start over\n         *\n         * @returns void\n         */\n        function _resetSequenceTimer() {\n            clearTimeout(_resetTimer);\n            _resetTimer = setTimeout(_resetSequences, 1000);\n        }\n\n        /**\n         * binds a key sequence to an event\n         *\n         * @param {string} combo - combo specified in bind call\n         * @param {Array} keys\n         * @param {Function} callback\n         * @param {string=} action\n         * @returns void\n         */\n        function _bindSequence(combo, keys, callback, action) {\n\n            // start off by adding a sequence level record for this combination\n            // and setting the level to 0\n            _sequenceLevels[combo] = 0;\n\n            /**\n             * callback to increase the sequence level for this sequence and reset\n             * all other sequences that were active\n             *\n             * @param {string} nextAction\n             * @returns {Function}\n             */\n            function _increaseSequence(nextAction) {\n                return function() {\n                    _nextExpectedAction = nextAction;\n                    ++_sequenceLevels[combo];\n                    _resetSequenceTimer();\n                };\n            }\n\n            /**\n             * wraps the specified callback inside of another function in order\n             * to reset all sequence counters as soon as this sequence is done\n             *\n             * @param {Event} e\n             * @returns void\n             */\n            function _callbackAndReset(e) {\n                _fireCallback(callback, e, combo);\n\n                // we should ignore the next key up if the action is key down\n                // or keypress.  this is so if you finish a sequence and\n                // release the key the final key will not trigger a keyup\n                if (action !== 'keyup') {\n                    _ignoreNextKeyup = _characterFromEvent(e);\n                }\n\n                // weird race condition if a sequence ends with the key\n                // another sequence begins with\n                setTimeout(_resetSequences, 10);\n            }\n\n            // loop through keys one at a time and bind the appropriate callback\n            // function.  for any key leading up to the final one it should\n            // increase the sequence. after the final, it should reset all sequences\n            //\n            // if an action is specified in the original bind call then that will\n            // be used throughout.  otherwise we will pass the action that the\n            // next key in the sequence should match.  this allows a sequence\n            // to mix and match keypress and keydown events depending on which\n            // ones are better suited to the key provided\n            for (var i = 0; i < keys.length; ++i) {\n                var isFinal = i + 1 === keys.length;\n                var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i + 1]).action);\n                _bindSingle(keys[i], wrappedCallback, action, combo, i);\n            }\n        }\n\n        /**\n         * binds a single keyboard combination\n         *\n         * @param {string} combination\n         * @param {Function} callback\n         * @param {string=} action\n         * @param {string=} sequenceName - name of sequence if part of sequence\n         * @param {number=} level - what part of the sequence the command is\n         * @returns void\n         */\n        function _bindSingle(combination, callback, action, sequenceName, level) {\n\n            // store a direct mapped reference for use with Mousetrap.trigger\n            self._directMap[combination + ':' + action] = callback;\n\n            // make sure multiple spaces in a row become a single space\n            combination = combination.replace(/\\s+/g, ' ');\n\n            var sequence = combination.split(' ');\n            var info;\n\n            // if this pattern is a sequence of keys then run through this method\n            // to reprocess each pattern one key at a time\n            if (sequence.length > 1) {\n                _bindSequence(combination, sequence, callback, action);\n                return;\n            }\n\n            info = _getKeyInfo(combination, action);\n\n            // make sure to initialize array if this is the first time\n            // a callback is added for this key\n            self._callbacks[info.key] = self._callbacks[info.key] || [];\n\n            // remove an existing match if there is one\n            _getMatches(info.key, info.modifiers, {type: info.action}, sequenceName, combination, level);\n\n            // add this call back to the array\n            // if it is a sequence put it at the beginning\n            // if not put it at the end\n            //\n            // this is important because the way these are processed expects\n            // the sequence ones to come first\n            self._callbacks[info.key][sequenceName ? 'unshift' : 'push']({\n                callback: callback,\n                modifiers: info.modifiers,\n                action: info.action,\n                seq: sequenceName,\n                level: level,\n                combo: combination\n            });\n        }\n\n        /**\n         * binds multiple combinations to the same callback\n         *\n         * @param {Array} combinations\n         * @param {Function} callback\n         * @param {string|undefined} action\n         * @returns void\n         */\n        self._bindMultiple = function(combinations, callback, action) {\n            for (var i = 0; i < combinations.length; ++i) {\n                _bindSingle(combinations[i], callback, action);\n            }\n        };\n\n        // start!\n        _addEvent(targetElement, 'keypress', _handleKeyEvent);\n        _addEvent(targetElement, 'keydown', _handleKeyEvent);\n        _addEvent(targetElement, 'keyup', _handleKeyEvent);\n    }\n\n    /**\n     * binds an event to mousetrap\n     *\n     * can be a single key, a combination of keys separated with +,\n     * an array of keys, or a sequence of keys separated by spaces\n     *\n     * be sure to list the modifier keys first to make sure that the\n     * correct key ends up getting bound (the last key in the pattern)\n     *\n     * @param {string|Array} keys\n     * @param {Function} callback\n     * @param {string=} action - 'keypress', 'keydown', or 'keyup'\n     * @returns void\n     */\n    Mousetrap.prototype.bind = function(keys, callback, action) {\n        var self = this;\n        keys = keys instanceof Array ? keys : [keys];\n        self._bindMultiple.call(self, keys, callback, action);\n        return self;\n    };\n\n    /**\n     * unbinds an event to mousetrap\n     *\n     * the unbinding sets the callback function of the specified key combo\n     * to an empty function and deletes the corresponding key in the\n     * _directMap dict.\n     *\n     * TODO: actually remove this from the _callbacks dictionary instead\n     * of binding an empty function\n     *\n     * the keycombo+action has to be exactly the same as\n     * it was defined in the bind method\n     *\n     * @param {string|Array} keys\n     * @param {string} action\n     * @returns void\n     */\n    Mousetrap.prototype.unbind = function(keys, action) {\n        var self = this;\n        return self.bind.call(self, keys, function() {}, action);\n    };\n\n    /**\n     * triggers an event that has already been bound\n     *\n     * @param {string} keys\n     * @param {string=} action\n     * @returns void\n     */\n    Mousetrap.prototype.trigger = function(keys, action) {\n        var self = this;\n        if (self._directMap[keys + ':' + action]) {\n            self._directMap[keys + ':' + action]({}, keys);\n        }\n        return self;\n    };\n\n    /**\n     * resets the library back to its initial state.  this is useful\n     * if you want to clear out the current keyboard shortcuts and bind\n     * new ones - for example if you switch to another page\n     *\n     * @returns void\n     */\n    Mousetrap.prototype.reset = function() {\n        var self = this;\n        self._callbacks = {};\n        self._directMap = {};\n        return self;\n    };\n\n    /**\n     * should we stop this event before firing off callbacks\n     *\n     * @param {Event} e\n     * @param {Element} element\n     * @return {boolean}\n     */\n    Mousetrap.prototype.stopCallback = function(e, element) {\n        var self = this;\n\n        // if the element has the class \"mousetrap\" then no need to stop\n        if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1) {\n            return false;\n        }\n\n        if (_belongsTo(element, self.target)) {\n            return false;\n        }\n\n        // Events originating from a shadow DOM are re-targetted and `e.target` is the shadow host,\n        // not the initial event target in the shadow tree. Note that not all events cross the\n        // shadow boundary.\n        // For shadow trees with `mode: 'open'`, the initial event target is the first element in\n        // the events composed path. For shadow trees with `mode: 'closed'`, the initial event\n        // target cannot be obtained.\n        if ('composedPath' in e && typeof e.composedPath === 'function') {\n            // For open shadow trees, update `element` so that the following check works.\n            var initialEventTarget = e.composedPath()[0];\n            if (initialEventTarget !== e.target) {\n                element = initialEventTarget;\n            }\n        }\n\n        // stop for input, select, and textarea\n        return element.tagName == 'INPUT' || element.tagName == 'SELECT' || element.tagName == 'TEXTAREA' || element.isContentEditable;\n    };\n\n    /**\n     * exposes _handleKey publicly so it can be overwritten by extensions\n     */\n    Mousetrap.prototype.handleKey = function() {\n        var self = this;\n        return self._handleKey.apply(self, arguments);\n    };\n\n    /**\n     * allow custom key mappings\n     */\n    Mousetrap.addKeycodes = function(object) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                _MAP[key] = object[key];\n            }\n        }\n        _REVERSE_MAP = null;\n    };\n\n    /**\n     * Init the global mousetrap functions\n     *\n     * This method is needed to allow the global mousetrap functions to work\n     * now that mousetrap is a constructor function.\n     */\n    Mousetrap.init = function() {\n        var documentMousetrap = Mousetrap(document);\n        for (var method in documentMousetrap) {\n            if (method.charAt(0) !== '_') {\n                Mousetrap[method] = (function(method) {\n                    return function() {\n                        return documentMousetrap[method].apply(documentMousetrap, arguments);\n                    };\n                } (method));\n            }\n        }\n    };\n\n    Mousetrap.init();\n\n    // expose mousetrap to the global object\n    window.Mousetrap = Mousetrap;\n\n    // expose as a common js module\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Mousetrap;\n    }\n\n    // expose mousetrap as an AMD module\n    if (typeof define === 'function' && define.amd) {\n        define(function() {\n            return Mousetrap;\n        });\n    }\n}) (typeof window !== 'undefined' ? window : null, typeof  window !== 'undefined' ? document : null);\n","/**\n * SearchIndex. Define an index for searching for reaction and metabolites in\n * the map. The index is stored in SearchIndex.index, an object of id/record\n * pairs.\n */\nexport default class SearchIndex {\n  constructor () {\n    this.index = {}\n  }\n\n  /**\n   * Insert a record into the index.\n   * @param id - A unique string id.\n   * @param record - Records have the form: { 'name': '', 'data': {} }\n   * Search is performed on substrings of the name.\n   * @param overwrite - (Default false) For faster performance, make overwrite true,\n   * and records will be inserted without checking for an existing record.\n   * @param check_record - (Default false) For faster performance, make\n   * check_record * false. If true, records will be checked to make sure they\n   * have name and * data attributes.\n   */\n  insert (id, record, overwrite, checkRecord) {\n    if (!overwrite && (id in this.index)) {\n      throw new Error('id is already in the index')\n    }\n    if (checkRecord && !(('name' in record) && ('data' in record))) {\n      throw new Error('malformed record')\n    }\n    this.index[id] = record\n  }\n\n  /**\n   * Remove the matching record. Returns true is a record is found, or false if\n   * no match is found.\n   */\n  remove (recordId) {\n    if (recordId in this.index) {\n      delete this.index[recordId]\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Find a record that matches the substring. Returns an array of data from\n   * matching records.\n   */\n  find (substring) {\n    const re = RegExp(substring, 'i') // ignore case\n    const matches = []\n    for (let id in this.index) {\n      const record = this.index[id]\n      if (re.exec(record.name)) {\n        matches.push(record.data)\n      }\n    }\n    return matches\n  }\n}\n","import bacon from 'baconjs'\nimport _ from 'underscore'\n\n/**\n * Hold on to event when holdProperty is true, and only keep them if\n * acceptProperty is true (when holdProperty becomes false).\n */\nfunction convertToConditionalStream (valueStream, statusStream) {\n  // Combine values with status to revert to last value when a reject is passed.\n  const init = {\n    savedValue: null,\n    currentValue: null,\n    lastStatus: null\n  }\n\n  const held = bacon.combineAsArray(valueStream, statusStream.toProperty(null))\n        .scan(init, ({ savedValue, currentValue, lastStatus }, [ value, status ]) => {\n          // See if the status was just set\n          const newStatus = lastStatus !== status\n\n          if (newStatus && status === 'hold') {\n            // Record the currentValue as the savedValue\n            return {\n              savedValue: currentValue,\n              currentValue,\n              lastStatus: status\n            }\n          } else if (!newStatus && status === 'hold') {\n            // Record the current value, and keep the savedValue unchanged\n            return {\n              savedValue,\n              currentValue: value,\n              lastStatus: status\n            }\n          } else if (newStatus && status === 'abandon') {\n            // Keep the saved value\n            return {\n              savedValue: null,\n              currentValue: savedValue,\n              lastStatus: status\n            }\n          } else if (newStatus && status === 'accept') {\n            // Keep the new value\n            return {\n              savedValue: null,\n              currentValue,\n              lastStatus: status\n            }\n          } else {\n            // Not held, so keep the value\n            return {\n              savedValue: null,\n              currentValue: value,\n              lastStatus: status\n            }\n          }\n        })\n  // Skip the initial null value\n        .skip(1)\n  // Get the current value\n        .map(({ currentValue }) => currentValue)\n  // Skip duplicate values\n        .skipDuplicates()\n  // property -> event stream\n        .toEventStream()\n\n  return held\n}\n\n/**\n * Settings. A class to manage settings for a Map.\n *\n * Arguments\n * ---------\n *\n * setOption: A function, fn(key), that returns the option value for the key.\n *\n * getOption: A function, fn(key, value), that sets the option for the key and\n * value.\n *\n * conditionalOptions: The options to that are conditionally accepted when\n * changed. Changes can be abandoned by calling abandonChanges(), or accepted\n * by calling acceptChanges().\n  * @param optionsWithDefaults - The current option values\n  * @param conditionalOptions - The options to that are conditionally accepted\n  *                             when changed. Changes can be abandoned by calling\n  *                             abandon_changes(), or accepted by calling\n  *                             accept_changes().\n  */\nexport default class Settings {\n  constructor (optionsWithDefaults, conditionalOptions) {\n    this._options = optionsWithDefaults\n\n    // Manage accepting/abandoning changes\n    this.statusBus = new bacon.Bus()\n\n    // Create the options\n    ;[ this.busses, this.streams, this.acceptedStreams ] = _.chain(optionsWithDefaults)\n      .mapObject((value, key) => {\n        const isConditional = _.contains(conditionalOptions, key)\n        const { bus, stream, acceptedStream } = this.createSetting(key, value, isConditional)\n        return [ bus, stream, acceptedStream ]\n      })             // { k: [ b, s ], ... }\n      .pairs()       // [ [ k, [ b, s ] ], ... ]\n      .map(([ name, [ bus, stream, acceptedStream ] ]) => [\n        [ name, bus ],\n        [ name, stream ],\n        [ name, acceptedStream ]\n      ]) // [ [ [ k, b ], [ k, s ] ], ... ]\n      .unzip()       // [ [ [ k, b ], ... ], [ [ k, s ], ... ] ]\n      .map(x => _.object(x)) // [ { k: b, ... }, { k: s, ... } ]\n      .value()\n  }\n\n  /**\n   * Set up a new bus and stream for a conditional setting (i.e. one that can be\n   * canceled in the settings menu.\n   */\n  createSetting (name, initialValue, isConditional) {\n    // Set up the bus\n    const bus = new bacon.Bus()\n\n    // Make the event stream and conditionally accept changes\n    const stream = isConditional\n          ? convertToConditionalStream(bus, this.statusBus)\n          : bus.toEventStream()\n\n    // Make a stream for the accepted values only. First get the latest value\n    // after accepting. Also get a latest copy of the correct value if the data\n    // is abandoned.\n    const acceptedStream = stream.sampledBy(\n      this.statusBus.filter(status => status === 'accept' || status === 'abandon')\n    ).merge(\n      // Then merge with all the other changes\n      stream.filter(\n        this.statusBus.map(status => status === 'accept').toProperty(true)\n      )\n    )\n\n    // Get the latest\n    stream.onValue(v => { this._options[name] = v })\n\n    // Push the initial value\n    bus.push(initialValue)\n\n    return { bus, stream, acceptedStream }\n  }\n\n  /**\n   * Deprecated. Use `set` instead.\n   */\n  set_conditional (name, value) { // eslint-disable-line camelcase\n    console.warn('set_conditional is deprecated. Use Settings.set() instead')\n    return this.set(name, value)\n  }\n\n  /**\n   * Set the option. This should always be used instead of setting options\n   * directly. To set options that respect the Settings menu Accept/Abandon, use\n   * setConditional().\n   * @param {String} name - The option name\n   * @param {Any} value - The new value\n   * can check whether the change was made internally to avoid loops.\n   */\n  set (name, value) {\n    if (!(name in this.busses)) {\n      throw new Error(`Invalid setting name ${name}`)\n    }\n    this.busses[name].push(value)\n  }\n\n  /**\n   * Deprecated. Use `get` intead.\n   */\n  get_option (name) { // eslint-disable-line camelcase\n    console.warn('get_option is deprecated. Use Settings.get() instead')\n    return this.get(name)\n  }\n\n  /**\n   * Get an option\n   */\n  get (name) {\n    return this._options[name]\n  }\n\n  holdChanges () {\n    this.statusBus.push('hold')\n  }\n\n  abandonChanges () {\n    this.statusBus.push('abandon')\n  }\n\n  acceptChanges () {\n    this.statusBus.push('accept')\n  }\n}\n","/** @jsx h */\nimport { h, Component, render } from 'preact'\n\nclass Wrapper extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {}\n  }\n\n  componentDidMount () {\n    this.props.connectSetStateFn(props => this.setState(props))\n  }\n\n  is_visible () { // eslint-disable-line camelcase\n    return this.state.display\n  }\n\n  render () {\n    if (!this.state.display) return null\n\n    // Pass the new props, and always pass the ref\n    return (\n      <this.props.component\n        setDisplay={display => this.setState({ display })}\n        ref={this.props.refPassthrough}\n        {...this.state}\n      />\n    )\n  }\n}\n\n/**\n * Wrapper for better integration of Preact components with Escher. The\n * component can be updated using the connectSetStateFn to set up a callback for\n * updates from other components.\n * @param {} component - A Preact component\n *\n * @param {} ref - A preact ref for the wrapper so that the \"display\" state can\n *                 be tracked.\n */\nfunction renderWrapper (\n  component,\n  ref,\n  connectSetStateFn,\n  divNode,\n  refPassthrough = null\n) {\n  render(\n    <Wrapper\n      component={component}\n      connectSetStateFn={connectSetStateFn}\n      ref={ref}\n      refPassthrough={refPassthrough}\n    />,\n    divNode,\n    // If there is already a div, re-render it. Otherwise make a new one\n    divNode.children.length > 0 ? divNode.firstChild : undefined\n  )\n}\n\nexport default renderWrapper\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import map from '../docs/_static/example_data/S5_iJO1366.Glycolysis_PPP_AA_Nucleotides.json'\nimport model from '../docs/_static/example_data/iJO1366.json'\nimport { Builder, libs } from '../src/main'\n\nwindow.builder = new Builder( // eslint-disable-line no-new\n  map,\n  model,\n  null,\n  libs.d3_select('#root'),\n  {\n    fill_screen: true,\n    never_ask_before_quit: true\n  }\n)\n","/**\n* @license\n*\n* Escher\n* Author: Zachary King\n*\n* The MIT License (MIT)\n*\n* This software is Copyright  2015 The Regents of the University of\n* California. All Rights Reserved.\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is\n* furnished to do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in\n* all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n* THE SOFTWARE.\n*/\n\n// ESCHER_VERSION provided by webpack plugin or main-node\n/* global ESCHER_VERSION */\n\nimport underscore from 'underscore'\nimport preact from 'preact'\nimport baconjs from 'baconjs'\nimport mousetrap from 'mousetrap'\nimport vkbeautify from 'vkbeautify'\nimport { select as d3_select, selection as d3_selection } from 'd3-selection'\nimport { json as d3_json } from 'd3-request'\n\nexport const version = ESCHER_VERSION\n\nexport { default as Builder, default } from './Builder'\nexport { default as Map } from './Map'\nexport { default as Behavior } from './Behavior'\nexport { default as KeyManager } from './KeyManager'\nexport { default as DataMenu } from './DataMenu'\nexport { default as UndoStack } from './UndoStack'\nexport { default as CobraModel } from './CobraModel'\nexport { default as utils } from './utils'\nexport { default as SearchIndex } from './SearchIndex'\nexport { default as Settings } from './Settings'\nexport { default as dataStyles } from './dataStyles'\nexport { default as ZoomContainer } from './ZoomContainer'\n\n// Jupyter extension\nexport { EscherMapView, EscherMapModel } from './widget'\n\nexport const libs = {\n  _: underscore,\n  underscore,\n  preact,\n  baconjs,\n  mousetrap,\n  vkbeautify,\n  d3_selection,\n  d3_select,\n  d3_json\n}\n","/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define(\"FileSaver.js\", function() {\n    return saveAs;\n  });\n}\n","import utils from './utils'\nimport PlacedDiv from './PlacedDiv'\nimport completely from './completely'\nimport DirectionArrow from './DirectionArrow'\nimport CobraModel from './CobraModel'\nimport _ from 'underscore'\nimport { mouse as d3Mouse } from 'd3-selection'\n\n/**\n * BuildInput\n * @param selection - A d3 selection for the BuildInput.\n * @param map - A Map instance.\n * @param zoomContainer - A ZoomContainer instance.\n * @param settings - A Settings instance.\n */\nexport default class BuildInput {\n  constructor (selection, map, zoomContainer, settings) {\n    // set up container\n    const newSel = selection.append('div').attr('id', 'rxn-input')\n    this.placed_div = PlacedDiv(newSel, map, { x: 240, y: 0 })\n    this.placed_div.hide()\n\n    // set up complete.ly\n    this.completely = completely(newSel.node(), { backgroundColor: '#eee' })\n\n    // close button\n    newSel.append('button').attr('class', 'button input-close-button')\n      .text('')\n      .on('mousedown', () => this.hideDropdown())\n\n    // map\n    this.map = map\n    // set up the reaction direction arrow\n    const defaultAngle = 90 // degrees\n    this.direction_arrow = new DirectionArrow(map.sel)\n    this.direction_arrow.setRotation(defaultAngle)\n    this.setUpMapCallbacks(map)\n\n    // zoom container\n    this.zoomContainer = zoomContainer\n    this.setUpZoomCallbacks(zoomContainer)\n\n    // settings\n    this.settings = settings\n\n    // toggle off\n    this.toggle(false)\n    this.target_coords = null\n  }\n\n  setUpMapCallbacks (map) {\n    // input\n    map.callback_manager.set('select_metabolite_with_id.input', (selectedNode, coords) => {\n      if (this.is_active) {\n        const hasModel = this.reload(selectedNode, coords, false)\n        if (hasModel) this.showDropdown(coords)\n      }\n      this.hideTarget()\n    })\n    map.callback_manager.set('select_selectable.input', (count, selectedNode, coords) => {\n      this.hideTarget()\n      if (count === 1 && this.is_active && coords) {\n        const hasModel = this.reload(selectedNode, coords, false)\n        if (hasModel) this.showDropdown(coords)\n      } else {\n        this.toggle(false)\n      }\n    })\n    map.callback_manager.set('deselect_nodes', () => {\n      this.direction_arrow.hide()\n      this.hideDropdown()\n    })\n\n    // svg export\n    map.callback_manager.set('before_svg_export', () => {\n      this.direction_arrow.hide()\n      this.hideTarget()\n    })\n  }\n\n  setUpZoomCallbacks (zoomContainer) {\n    // TODO this is broken.\n    // Should place either for selected or for location on zoom or pan.\n    // zoomContainer.callbackManager.set('zoom_change.input', () => {\n    //   if (this.is_active) {\n    //     this.place_at_selected()\n    //   }\n    // })\n  }\n\n  is_visible () { // eslint-disable-line camelcase\n    return this.placed_div.is_visible()\n  }\n\n  toggle (onOff) {\n    if (onOff === undefined) this.is_active = !this.is_active\n    else this.is_active = onOff\n    if (this.is_active) {\n      this.toggleStartReactionListener(true)\n      let hasModelAndSelection = true\n      if (_.isNull(this.target_coords)) {\n        hasModelAndSelection = this.reloadAtSelected()\n      } else {\n        this.placed_div.place(this.target_coords)\n      }\n      if (hasModelAndSelection) {\n        this.showDropdown()\n        this.map.set_status('Click on the canvas or an existing metabolite')\n      }\n      this.direction_arrow.show()\n    } else {\n      this.toggleStartReactionListener(false)\n      this.hideDropdown()\n      this.map.set_status(null)\n      this.direction_arrow.hide()\n    }\n  }\n\n  showDropdown (coords) {\n    // escape key\n    this.clear_escape = this.map.key_manager\n      .addEscapeListener(() => this.hideDropdown(), true)\n    // dropdown\n    this.completely.input.blur()\n    this.completely.repaint()\n    this.completely.setText('')\n    this.completely.input.focus()\n  }\n\n  hideDropdown () {\n    // escape key\n    if (this.clear_escape) this.clear_escape()\n    this.clear_escape = null\n    // dropdown\n    this.placed_div.hide()\n    this.completely.input.blur()\n    this.completely.hideDropDown()\n  }\n\n  place (coords) {\n    this.placed_div.place(coords)\n    this.direction_arrow.setLocation(coords)\n    this.direction_arrow.show()\n  }\n\n  /**\n   * Reload data for autocomplete box and redraw box at the first selected node.\n   * @return {Boolean} Returns true if a model is present and a node is selected.\n   */\n  reloadAtSelected () {\n    // get the selected node\n    this.map.deselect_text_labels()\n    var selectedNode = this.map.select_single_node()\n    if (selectedNode === null) return false\n    var coords = { x: selectedNode.x, y: selectedNode.y }\n    // reload the reaction input\n    return this.reload(selectedNode, coords, false)\n  }\n\n  alreadyDrawn (biggId, reactions) {\n    for (let drawnId in reactions) {\n      if (reactions[drawnId].bigg_id === biggId) {\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * Reload data for autocomplete box and redraw box at the new coordinates.\n   * @param {} selectedNode -\n   * @param {} coords -\n   * @param {Boolean} startingFromScratch -\n   * @return {Boolean} Returns true if a model is present.\n   */\n  reload (selectedNode, coords, startingFromScratch) {\n    // Try finding the selected node\n    if (!startingFromScratch && !selectedNode) {\n      console.error('No selected node and not starting from scratch')\n      return\n    }\n\n    this.place(coords)\n\n    if (this.map.cobra_model === null) {\n      this.completely.setText('Cannot add: No model.')\n      // this.completely.repaint()\n      return false\n    }\n\n    // settings\n    const showNames = this.settings.get('identifiers_on_map') === 'name'\n    const allowDuplicates = this.settings.get('allow_building_duplicate_reactions')\n\n    // Find selected\n    const options = []\n    const cobraReactions = this.map.cobra_model.reactions\n    const cobraMetabolites = this.map.cobra_model.metabolites\n    const reactions = this.map.reactions\n    const hasDataOnReactions = this.map.has_data_on_reactions\n    const selectedMetName = (selectedNode ? (showNames ? selectedNode.name : selectedNode.bigg_id) : '')\n    const boldMetsInStr = (str, mets) =>\n          str.replace(new RegExp('(^| )(' + mets.join('|') + ')($| )', 'g'), '$1<b>$2</b>$3')\n\n    // for reactions\n    const reactionSuggestions = {}\n    for (let biggId in cobraReactions) {\n      const reaction = cobraReactions[biggId]\n      const reactionName = reaction.name\n      const showReactionName = (showNames ? reactionName : biggId)\n\n      // ignore drawn reactions\n      if ((!allowDuplicates) && this.alreadyDrawn(biggId, reactions)) {\n        continue\n      }\n\n      // check segments for match to selected metabolite\n      for (let metBiggId in reaction.metabolites) {\n        // if starting with a selected metabolite, check for that id\n        if (startingFromScratch || metBiggId === selectedNode.bigg_id) {\n          // don't add suggestions twice\n          if (biggId in reactionSuggestions) continue\n\n          // get the metabolite names or IDs\n          let mets = {}\n          const showMetNames = []\n          let metId\n          if (showNames) {\n            for (metId in reaction.metabolites) {\n              var name = cobraMetabolites[metId].name\n              mets[name] = reaction.metabolites[metId]\n              showMetNames.push(name)\n            }\n          } else {\n            mets = utils.clone(reaction.metabolites)\n            for (metId in reaction.metabolites) {\n              showMetNames.push(metId)\n            }\n          }\n          const showGeneNames = _.flatten(\n            reaction.genes.map(g => [ g.name, g.biggId ])\n          )\n          // get the reaction string\n          const reactionString = CobraModel.build_reaction_string(mets,\n                                                                  reaction.reversibility,\n                                                                  reaction.lower_bound,\n                                                                  reaction.upper_bound)\n          // make the matches list and filter out any missing entries (e.g.\n          // missing gene names from model\n          const matches = [ showReactionName ].concat(showMetNames).concat(showGeneNames).filter(x => x)\n\n          if (hasDataOnReactions) {\n            options.push({\n              reaction_data: reaction.data,\n              html: '<b>' + showReactionName + '</b>' + ': ' + reaction.data_string,\n              matches,\n              id: biggId\n            })\n          } else {\n            options.push({\n              html: ('<b>' + showReactionName + '</b>' + '\\t' +\n                     boldMetsInStr(reactionString, [selectedMetName])),\n              matches,\n              id: biggId\n            })\n          }\n          reactionSuggestions[biggId] = true\n        }\n      }\n    }\n\n    // Generate the array of reactions to suggest and sort it\n    const sortFn = hasDataOnReactions\n          ? (x, y) => Math.abs(x.reaction_data) > Math.abs(y.reaction_data) ? -1 : 1\n          : (x, y) => x.html.toLowerCase() < y.html.toLowerCase() ? -1 : 1\n\n    // set up the box with data\n    this.completely.options = options.sort(sortFn)\n\n    // TODO test this behavior\n    // if (strings_to_display.length==1) this.completely.setText(strings_to_display[0])\n    // else this.completely.setText(\"\")\n    this.completely.setText('')\n\n    const checkAndBuild = id => {\n      if (id !== null) {\n        // make sure the selected node exists, in case changes were made in the meantime\n        if (startingFromScratch) {\n          this.map.new_reaction_from_scratch(id,\n                                             coords,\n                                             this.direction_arrow.getRotation())\n        } else {\n          if (!(selectedNode.node_id in this.map.nodes)) {\n            console.error('Selected node no longer exists')\n            this.hideDropdown()\n            return\n          }\n          this.map.new_reaction_for_metabolite(id,\n                                               selectedNode.node_id,\n                                               this.direction_arrow.getRotation())\n        }\n      }\n    }\n    this.completely.onEnter = function (id) {\n      this.setText('')\n      this.onChange('')\n      checkAndBuild(id)\n    }\n\n    return true\n  }\n\n  /**\n   * Toggle listening for a click to place a new reaction on the canvas.\n   */\n  toggleStartReactionListener (onOff) {\n    if (onOff === undefined) {\n      this.start_reaction_listener = !this.start_reaction_listener\n    } else if (this.start_reaction_listener === onOff) {\n      return\n    } else {\n      this.start_reaction_listener = onOff\n    }\n\n    if (this.start_reaction_listener) {\n      const node = this.map.sel.node()\n      this.map.sel.on('click.start_reaction', () => {\n        // TODO fix this hack\n        if (this.direction_arrow.dragging) return\n        // reload the reaction input\n        var coords = {\n          x: d3Mouse(node)[0],\n          y: d3Mouse(node)[1]\n        }\n        // unselect metabolites\n        this.map.deselect_nodes()\n        this.map.deselect_text_labels()\n        // reload the reaction input\n        const hasModel = this.reload(null, coords, true)\n        if (hasModel) {\n          // show the dropdown\n          this.showDropdown(coords)\n        }\n        // generate the target symbol\n        this.showTarget(this.map, coords)\n      })\n      this.map.sel.style('cursor', 'pointer')\n    } else {\n      this.map.sel.on('click.start_reaction', null)\n      this.map.sel.style('cursor', null)\n      this.hideTarget()\n    }\n  }\n\n  hideTarget () {\n    if (this.target_coords) {\n      this.map.sel.selectAll('.start-reaction-target').remove()\n    }\n    this.target_coords = null\n  }\n\n  showTarget (map, coords) {\n    var s = map.sel.selectAll('.start-reaction-target').data([12, 5])\n    s.enter()\n      .append('circle')\n      .classed('start-reaction-target', true)\n      .attr('r', function (d) { return d })\n      .style('stroke-width', 4)\n      .merge(s)\n      .style('visibility', 'visible')\n      .attr('transform', 'translate(' + coords.x + ',' + coords.y + ')')\n    this.target_coords = coords\n  }\n}\n","/**\n * @license\n *\n * complete.ly 1.0.0\n * MIT Licensing\n * Copyright (c) 2013 Lorenzo Puccetti\n *\n * This Software shall be used for doing good things, not bad things.\n *\n *\n * Modified by Zachary King (c) 2014.\n *\n **/\n\nimport * as utils from './utils'\n\nmodule.exports = function(container, config) {\n  const thisDocument = utils.get_document(container)\n  const thisWindow = utils.get_window(container)\n\n    config = config || {};\n    config.fontSize =                       config.fontSize   || '13px';\n    config.fontFamily =                     config.fontFamily || 'sans-serif';\n    config.promptInnerHTML =                config.promptInnerHTML || '';\n    config.color =                          config.color || '#333';\n    config.hintColor =                      config.hintColor || '#aaa';\n    config.backgroundColor =                config.backgroundColor || '#fff';\n    config.dropDownBorderColor =            config.dropDownBorderColor || '#aaa';\n    config.dropDownZIndex =                 config.dropDownZIndex || '100'; // to ensure we are in front of everybody\n    config.dropDownOnHoverBackgroundColor = config.dropDownOnHoverBackgroundColor || '#ddd';\n\n    var txtInput = thisDocument.createElement('input');\n    txtInput.type ='text';\n    txtInput.spellcheck = false;\n    txtInput.style.fontSize =        config.fontSize;\n    txtInput.style.fontFamily =      config.fontFamily;\n    txtInput.style.color =           config.color;\n    txtInput.style.backgroundColor = config.backgroundColor;\n    txtInput.style.width = '100%';\n    txtInput.style.outline = '0';\n    txtInput.style.border =  '0';\n    txtInput.style.margin =  '0';\n    txtInput.style.padding = '0';\n\n    var txtHint = txtInput.cloneNode();\n    txtHint.disabled='';\n    txtHint.style.position = 'absolute';\n    txtHint.style.top =  '0';\n    txtHint.style.left = '0';\n    txtHint.style.borderColor = 'transparent';\n    txtHint.style.boxShadow =   'none';\n    txtHint.style.color = config.hintColor;\n\n    txtInput.style.backgroundColor ='transparent';\n    txtInput.style.verticalAlign = 'top';\n    txtInput.style.position = 'relative';\n\n    var wrapper = thisDocument.createElement('div');\n    wrapper.style.position = 'relative';\n    wrapper.style.outline = '0';\n    wrapper.style.border =  '0';\n    wrapper.style.margin =  '0';\n    wrapper.style.padding = '0';\n\n    var prompt = thisDocument.createElement('div');\n    prompt.style.position = 'absolute';\n    prompt.style.outline = '0';\n    prompt.style.margin =  '0';\n    prompt.style.padding = '0';\n    prompt.style.border =  '0';\n    prompt.style.fontSize =   config.fontSize;\n    prompt.style.fontFamily = config.fontFamily;\n    prompt.style.color =           config.color;\n    prompt.style.backgroundColor = config.backgroundColor;\n    prompt.style.top = '0';\n    prompt.style.left = '0';\n    prompt.style.overflow = 'hidden';\n    prompt.innerHTML = config.promptInnerHTML;\n    prompt.style.background = 'transparent';\n    if (thisDocument.body === undefined) {\n        throw 'thisDocument.body is undefined. The library was wired up incorrectly.';\n    }\n    thisDocument.body.appendChild(prompt);\n    var w = prompt.getBoundingClientRect().right; // works out the width of the prompt.\n    wrapper.appendChild(prompt);\n    prompt.style.visibility = 'visible';\n    prompt.style.left = '-'+w+'px';\n    wrapper.style.marginLeft= w+'px';\n\n    wrapper.appendChild(txtHint);\n    wrapper.appendChild(txtInput);\n\n    var dropDown = thisDocument.createElement('div');\n    dropDown.style.position = 'absolute';\n    dropDown.style.visibility = 'hidden';\n    dropDown.style.outline = '0';\n    dropDown.style.margin =  '0';\n    dropDown.style.padding = '0';\n    dropDown.style.textAlign = 'left';\n    dropDown.style.fontSize =   config.fontSize;\n    dropDown.style.fontFamily = config.fontFamily;\n    dropDown.style.backgroundColor = config.backgroundColor;\n    dropDown.style.zIndex = config.dropDownZIndex;\n    dropDown.style.cursor = 'default';\n    dropDown.style.borderStyle = 'solid';\n    dropDown.style.borderWidth = '1px';\n    dropDown.style.borderColor = config.dropDownBorderColor;\n    dropDown.style.overflowX= 'hidden';\n    dropDown.style.whiteSpace = 'pre';\n    dropDown.style.overflowY = 'scroll';\n\n    var createDropDownController = function(elem) {\n        var rows = [];\n        var ix = 0;\n        var oldIndex = -1;\n        var current_row = null;\n\n        var onMouseOver =  function() { this.style.outline = '1px solid #ddd'; }\n        var onMouseOut =   function() { this.style.outline = '0'; }\n        var onDblClick =  function(e) {\n            e.preventDefault();\n            p.onmouseselection(this.id);\n        }\n\n        var p = {\n            hide :  function() { elem.style.visibility = 'hidden'; },\n            refresh : function(token, options) {\n                elem.style.visibility = 'hidden';\n                ix = 0;\n                elem.innerHTML ='';\n                var vph = (thisWindow.innerHeight || thisDocument.documentElement.clientHeight);\n                var rect = elem.parentNode.getBoundingClientRect();\n                var distanceToTop = rect.top - 6;                        // heuristic give 6px\n                var distanceToBottom = vph - rect.bottom -6;  // distance from the browser border.\n\n                rows = [];\n                for (var i = 0; i < options.length; i++) {\n                    // ignore case\n                    var found = options[i].matches.filter(function(match) {\n                        return match.toLowerCase().indexOf(token.toLowerCase()) == 0;\n                    });\n                    if (found.length == 0)\n                        continue;\n                    var divRow = thisDocument.createElement('div');\n                    divRow.style.color = config.color;\n                    divRow.onmouseover = onMouseOver;\n                    divRow.onmouseout =  onMouseOut;\n                    // prevent selection for double click\n                    divRow.onmousedown = function(e) { e.preventDefault(); };\n                    divRow.ondblclick = onDblClick;\n                    divRow.__hint = found[0];\n                    divRow.id = options[i].id;\n                    divRow.innerHTML = options[i].html;\n                    rows.push(divRow);\n                    elem.appendChild(divRow);\n                    // limit results and add a note at the buttom\n                    if (rows.length >= rs.display_limit) {\n                        var divRow2 = thisDocument.createElement('div');\n                        divRow2.innerHTML = ' ' + (options.length - rows.length) + ' more';\n                        rows.push(divRow2);\n                        elem.appendChild(divRow2);\n                        break;\n                    }\n                }\n                if (rows.length===0) {\n                    return; // nothing to show.\n                }\n                p.highlight(0);\n\n                // Heuristic (only when the distance to the to top is 4\n                // times more than distance to the bottom\n                if (distanceToTop > distanceToBottom*3) {\n                    // we display the dropDown on the top of the input text\n                    elem.style.maxHeight =  distanceToTop+'px';\n                    elem.style.top ='';\n                    elem.style.bottom ='100%';\n                } else {\n                    elem.style.top = '100%';\n                    elem.style.bottom = '';\n                    elem.style.maxHeight =  distanceToBottom+'px';\n                }\n                elem.style.visibility = 'visible';\n            },\n            highlight : function(index) {\n                if (oldIndex !=-1 && rows[oldIndex]) {\n                    rows[oldIndex].style.backgroundColor = config.backgroundColor;\n                }\n                rows[index].style.backgroundColor = config.dropDownOnHoverBackgroundColor; // <-- should be config\n                oldIndex = index;\n                current_row = rows[index];\n            },\n            // moves the selection either up or down (unless it's not\n            // possible) step is either +1 or -1.\n            move : function(step) {\n                // nothing to move if there is no dropDown. (this happens if\n                // the user hits escape and then down or up)\n                if (elem.style.visibility === 'hidden')\n                    return '';\n                // No circular scrolling\n                if (ix+step === -1 || ix+step === rows.length)\n                    return rows[ix].__hint;\n                ix+=step;\n                p.highlight(ix);\n                return rows[ix].__hint;\n            },\n            onmouseselection : function() {},\n            get_current_row: function () {\n                return current_row;\n            }\n        };\n        return p;\n    }\n\n    var dropDownController = createDropDownController(dropDown);\n\n    dropDownController.onmouseselection = function(id) {\n        rs.onEnter(id)\n        rs.input.focus();\n    }\n\n    wrapper.appendChild(dropDown);\n    container.appendChild(wrapper);\n\n    var spacer,\n        // This will contain the leftSide part of the textfield (the bit that\n        // was already autocompleted)\n        leftSide;\n\n    function calculateWidthForText(text) {\n        if (spacer === undefined) { // on first call only.\n            spacer = thisDocument.createElement('span');\n            spacer.style.visibility = 'hidden';\n            spacer.style.position = 'fixed';\n            spacer.style.outline = '0';\n            spacer.style.margin =  '0';\n            spacer.style.padding = '0';\n            spacer.style.border =  '0';\n            spacer.style.left = '0';\n            spacer.style.whiteSpace = 'pre';\n            spacer.style.fontSize =   config.fontSize;\n            spacer.style.fontFamily = config.fontFamily;\n            spacer.style.fontWeight = 'normal';\n            thisDocument.body.appendChild(spacer);\n        }\n\n        // Used to encode an HTML string into a plain text.\n        // taken from http://stackoverflow.com/questions/1219860/javascript-jquery-html-encoding\n        spacer.innerHTML = String(text).replace(/&/g, '&amp;')\n            .replace(/\"/g, '&quot;')\n            .replace(/'/g, '&#39;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;');\n        return spacer.getBoundingClientRect().right;\n    }\n\n\n    var rs = {\n        get_hint :    function(x) { return x; },\n        display_limit: 1000,\n        onArrowDown : function() {},               // defaults to no action.\n        onArrowUp :   function() {},               // defaults to no action.\n        onEnter :     function() {},               // defaults to no action.\n        onTab :       function() {},               // defaults to no action.\n        onChange:     function() { rs.repaint() }, // defaults to repainting.\n        startFrom:    0,\n        options:      [],\n\n        // Only to allow easy access to the HTML elements to the final user\n        // (possibly for minor customizations)\n        wrapper : wrapper,\n        input :  txtInput,\n        hint  :  txtHint,\n        dropDown :  dropDown,\n\n        prompt : prompt,\n        setText : function(text) {\n            txtHint.value = text;\n            txtInput.value = text;\n        },\n        getText : function() {\n            return txtInput.value;\n        },\n        hideDropDown : function() {\n            dropDownController.hide();\n        },\n        repaint : function() {\n            var text = txtInput.value;\n            var startFrom =  rs.startFrom;\n            var options =    rs.options;\n            var optionsLength = options.length;\n\n            // breaking text in leftSide and token.\n            var token = text.substring(startFrom);\n            leftSide =  text.substring(0,startFrom);\n\n            // updating the hint.\n            txtHint.value ='';\n            for (var i = 0; i < optionsLength; i++) {\n                var found = options[i].matches.filter(function(match) {\n                    return match.toLowerCase().indexOf(token.toLowerCase()) == 0;\n                });\n                if (found.length == 0)\n                    continue;\n                txtHint.value = rs.get_hint(found[0]);\n                break;\n            }\n\n            // moving the dropDown and refreshing it.\n            dropDown.style.left = calculateWidthForText(leftSide)+'px';\n            dropDownController.refresh(token, rs.options);\n        }\n    };\n\n    var registerOnTextChangeOldValue;\n\n    // Register a callback function to detect changes to the content of the\n    // input-type-text.  Those changes are typically followed by user's\n    // action: a key-stroke event but sometimes it might be a mouse click.\n    var registerOnTextChange = function(txt, callback) {\n        registerOnTextChangeOldValue = txt.value;\n        var handler = function() {\n            var value = txt.value;\n            if (registerOnTextChangeOldValue !== value) {\n                registerOnTextChangeOldValue = value;\n                callback(value);\n            }\n        };\n\n        // For user's actions, we listen to both input events and key up events\n        // It appears that input events are not enough so we defensively listen to key up events too.\n        // source: http://help.dottoro.com/ljhxklln.php\n        //\n        // The cost of listening to three sources should be negligible as the handler will invoke callback function\n        // only if the text.value was effectively changed.\n        txt.addEventListener(\"input\",  handler, false);\n        txt.addEventListener('keyup',  handler, false);\n        txt.addEventListener('change', handler, false);\n    };\n\n\n    registerOnTextChange(txtInput,function(text) { // note the function needs to be wrapped as API-users will define their onChange\n        rs.onChange(text);\n        rs.repaint();\n    });\n\n\n    var keyDownHandler = function(e) {\n        e = e || thisWindow.event;\n        var keyCode = e.keyCode;\n\n        if (keyCode == 33) { return; } // page up (do nothing)\n        if (keyCode == 34) { return; } // page down (do nothing);\n\n        // right,  end, tab  (autocomplete triggered)\n        if (keyCode == 39 || keyCode == 35 || keyCode == 9) {\n            // for tabs we need to ensure that we override the default\n            // behaviour: move to the next focusable HTML-element\n            if (keyCode == 9) {\n                e.preventDefault();\n                e.stopPropagation();\n                if (txtHint.value.length == 0) {\n                    // tab was called with no action.\n                    rs.onTab();\n                }\n            }\n            // if there is a hint\n            if (txtHint.value.length > 0) {\n                txtInput.value = txtHint.value;\n                var hasTextChanged = registerOnTextChangeOldValue != txtInput.value\n                // avoid dropDown to appear again\n                registerOnTextChangeOldValue = txtInput.value;\n                // for example imagine the array contains the following\n                // words: bee, beef, beetroot. User has hit enter to get\n                // 'bee' it would be prompted with the dropDown again (as\n                // beef and beetroot also match)\n                if (hasTextChanged) {\n                    // force it.\n                    rs.onChange(txtInput.value);\n                }\n            }\n            return;\n        }\n\n        if (keyCode == 13) { // enter\n            // get current\n            var id = dropDownController.get_current_row().id;\n            rs.onEnter(id);\n            return;\n        }\n\n        if (keyCode == 40) { // down\n            var m = dropDownController.move(+1);\n            if (m == '') { rs.onArrowDown(); }\n            txtHint.value = rs.get_hint(m);\n            return;\n        }\n\n        if (keyCode == 38 ) { // up\n            var m = dropDownController.move(-1);\n            if (m == '') { rs.onArrowUp(); }\n            txtHint.value = rs.get_hint(m);\n            e.preventDefault();\n            e.stopPropagation();\n            return;\n        }\n\n        // it's important to reset the txtHint on key down. Think: user\n        // presses a letter (e.g. 'x') and never releases. You get\n        // (xxxxxxxxxxxxxxxxx) and you would see still the hint. Reset the\n        // txtHint. (it might be updated onKeyUp).\n        txtHint.value ='';\n    };\n\n    txtInput.addEventListener(\"keydown\",  keyDownHandler, false);\n    return rs;\n};\n","import * as utils from './utils'\nimport { drag as d3Drag } from 'd3-drag'\nimport {\n  mouse as d3Mouse,\n  event\n} from 'd3-selection'\n\n/**\n * DirectionArrow. A constructor for an arrow that can be rotated and dragged,\n * and supplies its direction.\n * @param {D3 Selection} sel - The sel to render the arrow in.\n */\nexport default class DirectionArrow {\n  constructor (sel) {\n    this.arrowContainer = sel.append('g')\n      .attr('id', 'direction-arrow-container')\n      .attr('transform', 'translate(0,0)rotate(0)')\n\n    this.arrow = this.arrowContainer.append('path')\n      .classed('direction-arrow', true)\n      .attr('d', 'M0 -5 L0 5 L20 5 L20 10 L30 0 L20 -10 L20 -5 Z')\n      .style('visibility', 'hidden')\n      .attr('transform', 'translate(30,0)scale(2.5)')\n\n    this.sel = sel\n    this.center = { x: 0, y: 0 }\n\n    this._setupDrag()\n    this.dragging = false\n\n    this.isVisible = false\n    this.show()\n  }\n\n  /**\n   * Move the arrow to coords.\n   */\n  setLocation (coords) {\n    this.center = coords\n    var transform = utils.d3_transform_catch(this.arrowContainer.attr('transform'))\n    this.arrowContainer.attr('transform',\n                             'translate(' + coords.x + ',' + coords.y +\n                             ')rotate(' + transform.rotate + ')')\n  }\n\n  /**\n   * Rotate the arrow to rotation.\n   */\n  setRotation (rotation) {\n    var transform = utils.d3_transform_catch(this.arrowContainer.attr('transform'))\n    this.arrowContainer.attr('transform',\n                              'translate(' + transform.translate + ')rotate(' + rotation + ')')\n  }\n\n  /**\n   * Displace the arrow rotation by a set amount.\n   */\n  displaceRotation (dRotation) {\n    var transform = utils.d3_transform_catch(this.arrowContainer.attr('transform'))\n    this.arrowContainer.attr('transform',\n                              'translate(' + transform.translate + ')' +\n                              'rotate(' + (transform.rotate + dRotation) + ')')\n  }\n\n  /**\n   * Returns the arrow rotation.\n   */\n  getRotation () {\n    return utils.d3_transform_catch(this.arrowContainer.attr('transform')).rotate\n  }\n\n  toggle (onOff) {\n    if (onOff === undefined) this.isVisible = !this.isVisible\n    else this.isVisible = onOff\n    this.arrow.style('visibility', this.isVisible ? 'visible' : 'hidden')\n  }\n\n  show () {\n    this.toggle(true)\n  }\n\n  hide () {\n    this.toggle(false)\n  }\n\n  right () {\n    this.setRotation(0)\n  }\n\n  down () {\n    this.setRotation(90)\n  }\n\n  left () {\n    this.setRotation(180)\n  }\n\n  up () {\n    this.setRotation(270)\n  }\n\n  _setupDrag () {\n    var drag = d3Drag()\n        .on('start', d => {\n          // silence other listeners\n          event.sourceEvent.stopPropagation()\n          this.dragging = true\n        })\n        .on('drag', d => {\n          const displacement = {\n            x: event.dx,\n            y: event.dy\n          }\n          const location = {\n            x: d3Mouse(this.sel.node())[0],\n            y: d3Mouse(this.sel.node())[1]\n          }\n          const dAngle = utils.angle_for_event(displacement, location,\n                                               this.center)\n          this.displaceRotation(utils.to_degrees(dAngle))\n        })\n        .on('end', d => {\n          setTimeout(() => { this.dragging = false }, 200)\n        })\n    this.arrowContainer.call(drag)\n  }\n}\n","/**\n * Draw. Manages creating, updating, and removing objects during d3 data\n * binding.\n *\n * Arguments\n * ---------\n *\n * behavior: An escher.Behavior object.\n * settings: An escher.Settings object.\n *\n * Callbacks\n * ---------\n *\n * draw.callback_manager.run('create_membrane', draw, enter_selection)\n * draw.callback_manager.run('update_membrane', draw, update_selection)\n * draw.callback_manager.run('create_reaction', draw, enter_selection)\n * draw.callback_manager.run('update_reaction', draw, update_selection)\n * draw.callback_manager.run('create_reaction_label', draw, enter_selection)\n * draw.callback_manager.run('update_reaction_label', draw, update_selection)\n * draw.callback_manager.run('create_segment', draw, enter_selection)\n * draw.callback_manager.run('update_segment', draw, update_selection)\n * draw.callback_manager.run('create_bezier', draw, enter_selection)\n * draw.callback_manager.run('update_bezier', draw, update_selection)\n * draw.callback_manager.run('create_node', draw, enter_selection)\n * draw.callback_manager.run('update_node', draw, update_selection)\n * draw.callback_manager.run('create_text_label', draw, enter_selection)\n * draw.callback_manager.run('update_text_label', draw, update_selection)\n *\n */\n\nvar utils = require('./utils')\nvar dataStyles = require('./dataStyles')\nvar CallbackManager = require('./CallbackManager').default\nvar d3_format = require('d3-format').format\nimport { color as d3Color } from 'd3-color'\n\nvar Draw = utils.make_class()\n// instance methods\nDraw.prototype = {\n  init: init,\n  create_reaction: create_reaction,\n  update_reaction: update_reaction,\n  create_bezier: create_bezier,\n  update_bezier: update_bezier,\n  create_node: create_node,\n  update_node: update_node,\n  create_text_label: create_text_label,\n  update_text_label: update_text_label,\n  create_membrane: create_membrane,\n  update_membrane: update_membrane,\n  create_reaction_label: create_reaction_label,\n  update_reaction_label: update_reaction_label,\n  create_segment: create_segment,\n  update_segment: update_segment\n}\nmodule.exports = Draw\n\nfunction init (behavior, settings, map) {\n  this.behavior = behavior\n  this.settings = settings\n  this.map = map\n  this.callback_manager = new CallbackManager()\n}\n\n/**\n * Create membranes in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_membrane (enter_selection) {\n  var rect = enter_selection\n    .append('rect')\n    .attr('class', 'membrane')\n\n  this.callback_manager.run('create_membrane', this, enter_selection)\n\n  return rect\n}\n\n/**\n * Update the membrane\n */\nfunction update_membrane (update_selection) {\n  update_selection\n    .attr('width', function(d){ return d.width; })\n    .attr('height', function(d){ return d.height; })\n    .attr('transform', function(d){return 'translate('+d.x+','+d.y+')';})\n    .style('stroke-width', function(d) { return 10; })\n    .attr('rx', function(d){ return 20; })\n    .attr('ry', function(d){ return 20; })\n\n  this.callback_manager.run('update_membrane', this, update_selection)\n}\n\n/**\n * Create reactions in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_reaction (enter_selection) {\n  // attributes for new reaction group\n  var group = enter_selection.append('g')\n    .attr('id', function (d) { return 'r' + d.reaction_id })\n    .attr('class', 'reaction')\n  this.create_reaction_label(group)\n\n  this.callback_manager.run('create_reaction', this, enter_selection)\n\n  return group\n}\n\n/**\n * Run on the update selection for reactions.\n * update_selection: The D3.js update selection.\n * scale: A Scale object.\n * cobra_model: A CobraModel object.\n * drawn_nodes: The nodes object (e.g. Map.nodes).\n * defs: The defs object generated by utils.setup_defs() (e.g. Map.defs).\n * has_data_on_reactions: Boolean to determine whether data needs to be drawn.\n */\nfunction update_reaction (update_selection, scale, cobra_model, drawn_nodes,\n                          defs, has_data_on_reactions) {\n  // Update reaction label\n  update_selection.select('.reaction-label-group')\n    .call(function(sel) {\n      return this.update_reaction_label(sel, has_data_on_reactions)\n    }.bind(this))\n\n  // draw segments\n  utils.draw_a_nested_object(update_selection, '.segment-group', 'segments', 'segment_id',\n                             this.create_segment.bind(this),\n                             function(sel) {\n                               return this.update_segment(sel, scale, cobra_model,\n                                                          drawn_nodes, defs,\n                                                          has_data_on_reactions)\n                             }.bind(this),\n                             function(sel) {\n                               sel.remove()\n                             })\n\n  // run the callback\n  this.callback_manager.run('update_reaction', this, update_selection)\n}\n\n/**\n * Draw reaction labels in the enter selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_reaction_label (enter_selection, tool) {\n  var group = enter_selection\n    .append('g')\n    .attr('class', 'reaction-label-group')\n  group.append('text').attr('class', 'reaction-label label')\n  group.append('g').attr('class', 'all-genes-label-group')\n\n  this.callback_manager.run('create_reaction_label', this, enter_selection)\n\n  return group\n}\n\n/**\n * Run on the update selection for reaction labels.\n * @param {D3 Selection} update_selection - The D3.js update selection.\n * @param {Boolean} has_data_on_reactions - Whether data needs to be drawn.\n */\nfunction update_reaction_label (update_selection, has_data_on_reactions) {\n  const decimal_format = d3_format('.4g')\n  const identifiers_on_map = this.settings.get('identifiers_on_map')\n  const reaction_data_styles = this.settings.get('reaction_styles')\n  const show_gene_reaction_rules = this.settings.get('show_gene_reaction_rules')\n  const hide_all_labels = this.settings.get('hide_all_labels')\n  const gene_font_size = this.settings.get('gene_font_size')\n  const reactionLabelMouseover = this.behavior.reactionLabelMouseover\n  const reactionLabelMouseout = this.behavior.reactionLabelMouseout\n  const reactionLabelTouch = this.behavior.reactionLabelTouch\n  const geneLabelMouseover = this.behavior.geneLabelMouseover\n  const geneLabelMouseout = this.behavior.geneLabelMouseout\n  const geneLabelTouch = this.behavior.geneLabelTouch\n\n  // label location\n  update_selection\n    .attr('transform', function(d) {\n      return 'translate(' + d.label_x + ',' + d.label_y + ')'\n    })\n    .call(this.behavior.turnOffDrag)\n    .call(this.behavior.reactionLabelDrag)\n\n  // update label visibility\n  var label = update_selection.select('.reaction-label')\n    .attr('visibility', hide_all_labels ? 'hidden' : 'visible')\n\n  if (!hide_all_labels) {\n    label\n      .text(function (d) {\n        var t = d[identifiers_on_map]\n        if (has_data_on_reactions &&\n            reaction_data_styles.indexOf('text') !== -1) {\n          t += ' ' + d.data_string\n        }\n        return t\n      })\n      .on('mouseover', reactionLabelMouseover)\n      .on('mouseout', reactionLabelMouseout)\n      .on('touchend', reactionLabelTouch)\n  }\n\n  var add_gene_height = function (y, i) {\n    return y + (gene_font_size * 1.5 * (i + 1))\n  }\n\n  // gene label\n  var all_genes_g = update_selection.select('.all-genes-label-group')\n    .selectAll('.gene-label-group')\n    .data(function (d) {\n      var show_gene_string = ('gene_string' in d &&\n                              d.gene_string !== null &&\n                              show_gene_reaction_rules &&\n                              (!hide_all_labels) &&\n                              reaction_data_styles.indexOf('text') !== -1)\n      var show_gene_reaction_rule = ('gene_reaction_rule' in d &&\n                                     d.gene_reaction_rule !== null &&\n                                     show_gene_reaction_rules &&\n                                     (!hide_all_labels))\n      if (show_gene_string) {\n        // TODO do we ever use gene_string?\n        console.warn('Showing gene_string. See TODO in source.')\n        return d.gene_string\n      } else if (show_gene_reaction_rule) {\n        // make the gene string with no data\n        var sd = dataStyles.gene_string_for_data(d.gene_reaction_rule, null,\n                                                  d.genes, null,\n                                                  identifiers_on_map, null)\n        // add coords for tooltip\n        sd.forEach(function (td, i) {\n          td.label_x = d.label_x\n          td.label_y = add_gene_height(d.label_y, i)\n        })\n        return sd\n      } else {\n        return []\n      }\n    })\n\n  // enter\n  var gene_g = all_genes_g.enter()\n    .append('g')\n    .attr('class', 'gene-label-group')\n  gene_g.append('text')\n    .attr('class', 'gene-label')\n    .style('font-size', gene_font_size + 'px')\n\n  // update\n  var gene_update = gene_g.merge(all_genes_g)\n  gene_update.attr('transform', function (d, i) {\n    return 'translate(0, ' + add_gene_height(0, i) + ')'\n  })\n  // update text\n  gene_update\n    .select('text')\n    .text(d => d.text)\n    .on('mouseover', geneLabelMouseover)\n    .on('mouseout', geneLabelMouseout)\n    .on('touchend', geneLabelTouch)\n\n  // exit\n  all_genes_g.exit().remove()\n\n  this.callback_manager.run('update_reaction_label', this, update_selection)\n}\n\n/**\n * Create segments in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_segment (enter_selection) {\n  // create segments\n  var g = enter_selection\n      .append('g')\n    .attr('class', 'segment-group')\n    .attr('id', function (d) { return 's' + d.segment_id })\n\n  // create reaction arrow\n  g.append('path')\n    .attr('class', 'segment')\n\n  g.append('g')\n    .attr('class', 'arrowheads')\n\n  g.append('g')\n    .attr('class', 'stoichiometry-labels')\n\n  this.callback_manager.run('create_segment', this, enter_selection)\n\n  return g\n}\n\n/**\n * Update segments in update selection.\n * @param {} -\n * @param {} -\n * @param {} -\n * @param {} -\n * @param {} -\n * @param {} -\n * @return {}\n */\nfunction update_segment (update_selection, scale, cobra_model,\n                         drawn_nodes, defs, has_data_on_reactions) {\n  const reaction_data_styles = this.settings.get('reaction_styles')\n  const should_size = (has_data_on_reactions && reaction_data_styles.indexOf('size') !== -1)\n  const should_color = (has_data_on_reactions && reaction_data_styles.indexOf('color') !== -1)\n  const no_data_size = this.settings.get('reaction_no_data_size')\n  const no_data_color = this.settings.get('reaction_no_data_color')\n\n  // update segment attributes\n  const highlight_missing  = this.settings.get('highlight_missing')\n  const hide_secondary_metabolites = this.settings.get('hide_secondary_metabolites')\n  const primary_r = this.settings.get('primary_metabolite_radius')\n  const secondary_r = this.settings.get('secondary_metabolite_radius')\n\n  const objectMouseover = this.behavior.reactionObjectMouseover\n  const objectMouseout = this.behavior.reactionObjectMouseout\n\n  const get_arrow_size = function (data, should_size) {\n    let width = 20\n    let height = 13\n    if (should_size) {\n      height = (data === null ? no_data_size : scale.reaction_size(data))\n      // check for nan\n      if (isNaN(height)) {\n        height = no_data_size\n      }\n      width = height * 2\n    }\n    return { width: width, height: height }\n  }\n  const get_disp = function (arrow_size, reversibility, coefficient, node_is_primary) {\n    var arrow_height = ((reversibility || coefficient > 0) ?\n                        arrow_size.height : 0)\n    var r = node_is_primary ? primary_r : secondary_r\n    return r + arrow_height + 10\n  }\n\n  // update arrows\n  update_selection\n    .selectAll('.segment')\n    .datum(function () {\n      // Concatenate the segment data with the reaction data from its parent node\n      return Object.assign({}, this.parentNode.__data__, this.parentNode.parentNode.__data__)\n    })\n    .style('visibility', function(d) {\n      var start = drawn_nodes[d.from_node_id]\n      var end = drawn_nodes[d.to_node_id]\n      if (hide_secondary_metabolites &&\n          ((end['node_type'] === 'metabolite' && !end.node_is_primary) ||\n           (start['node_type'] === 'metabolite' && !start.node_is_primary))) {\n        return 'hidden'\n      }\n      return null\n    })\n    .attr('d', function(d) {\n      if (d.from_node_id === null || d.to_node_id === null) {\n        return null\n      }\n      var start = drawn_nodes[d.from_node_id]\n      var end = drawn_nodes[d.to_node_id]\n      var b1 = d.b1\n      var b2 = d.b2\n      // if metabolite, then displace the arrow\n      if (start['node_type'] === 'metabolite') {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = get_disp(arrow_size, d.reversibility,\n                            d.from_node_coefficient,\n                            start.node_is_primary)\n        var direction = (b1 === null) ? end : b1\n        start = displacedCoords(disp, start, direction, 'start')\n      }\n      if (end['node_type'] == 'metabolite') {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = get_disp(arrow_size, d.reversibility,\n                            d.to_node_coefficient,\n                            end.node_is_primary)\n        var direction = (b2 === null) ? start : b2\n        end = displacedCoords(disp, direction, end, 'end')\n      }\n      var curve = ('M' + start.x + ',' + start.y + ' ')\n      if (b1 !== null && b2 !== null) {\n        curve += ('C' + b1.x + ',' + b1.y + ' ' +\n                  b2.x + ',' + b2.y + ' ')\n      }\n      curve += (end.x + ',' + end.y)\n      return curve\n    })\n    .style('stroke', function(d) {\n      var reaction_id = this.parentNode.parentNode.__data__.bigg_id\n      var show_missing = (highlight_missing &&\n                          cobra_model !== null &&\n                          !(reaction_id in cobra_model.reactions))\n      if (show_missing) {\n        return 'red'\n      }\n      if (should_color) {\n        var f = d.data\n        return f === null ? no_data_color : scale.reaction_color(f)\n      }\n      return null\n    })\n    .style('stroke-width', function(d) {\n      if (should_size) {\n        var f = d.data\n        return f === null ? no_data_size : scale.reaction_size(f)\n      } else {\n        return null\n      }\n    })\n    .attr('pointer-events', 'visibleStroke')\n    .on('mouseover', objectMouseover)\n    .on('mouseout', objectMouseout)\n\n  // new arrowheads\n  var arrowheads = update_selection.select('.arrowheads')\n    .selectAll('.arrowhead')\n    .data(function (d) {\n      var arrowheads = []\n      var start = drawn_nodes[d.from_node_id]\n      var b1 = d.b1\n      var end = drawn_nodes[d.to_node_id]\n      var b2 = d.b2\n      // hide_secondary_metabolites option\n      if (hide_secondary_metabolites &&\n          ((end['node_type'] === 'metabolite' && !end.node_is_primary) ||\n           (start['node_type'] === 'metabolite' && !start.node_is_primary))) {\n        return arrowheads\n      }\n\n      if (start.node_type === 'metabolite' &&\n          (d.reversibility || d.from_node_coefficient > 0)) {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = get_disp(arrow_size, d.reversibility,\n                        d.from_node_coefficient,\n                        start.node_is_primary)\n        var direction = (b1 === null) ? end : b1\n        var rotation = utils.to_degrees(utils.get_angle([ start, direction ])) + 90\n        var loc = displacedCoords(disp, start, direction, 'start')\n        arrowheads.push({\n          data: d.data,\n          x: loc.x,\n          y: loc.y,\n          size: arrow_size,\n          rotation: rotation,\n          show_arrowhead_flux: (((d.from_node_coefficient < 0) === d.reverse_flux) || d.data === 0)\n        })\n      }\n\n      if (end.node_type === 'metabolite' &&\n          (d.reversibility || d.to_node_coefficient > 0)) {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = get_disp(arrow_size, d.reversibility,\n                        d.to_node_coefficient,\n                        end.node_is_primary)\n        var direction = (b2 === null) ? start : b2\n        var rotation = utils.to_degrees(utils.get_angle([ end, direction ])) + 90\n        var loc = displacedCoords(disp, direction, end, 'end')\n        arrowheads.push({\n          data: d.data,\n          x: loc.x,\n          y: loc.y,\n          size: arrow_size,\n          rotation: rotation,\n          show_arrowhead_flux: (((d.to_node_coefficient < 0) === d.reverse_flux) || d.data === 0)\n        })\n      }\n\n      if (d.unconnected_segment_with_arrow) {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var direction = end\n        var rotation = utils.to_degrees(utils.get_angle([ start, direction ])) + 90\n        arrowheads.push({\n          data: d.data,\n          x: start.x,\n          y: start.y,\n          size: arrow_size,\n          rotation: rotation,\n          show_arrowhead_flux: (((d.to_node_coefficient < 0) === d.reverse_flux) || d.data === 0)\n        })\n      }\n\n      return arrowheads\n    })\n  arrowheads.enter().append('path')\n    .classed('arrowhead', true)\n  // update arrowheads\n    .merge(arrowheads)\n    .attr('d', function(d) {\n      return ('M' + [-d.size.width / 2, 0] +\n              ' L' + [0, d.size.height] +\n              ' L' + [d.size.width / 2, 0] + ' Z')\n    }).attr('transform', function(d) {\n      return 'translate(' + d.x + ',' + d.y + ')rotate(' + d.rotation + ')'\n    }).style('fill', function(d) {\n      if (should_color) {\n        if (d.show_arrowhead_flux) {\n          // show the flux\n          var f = d.data\n          return f === null ? no_data_color : scale.reaction_color(f)\n        } else {\n          // if the arrowhead is not filled because it is reversed\n          return '#FFFFFF'\n        }\n      }\n      // default fill color\n      return null\n    }).style('stroke', function(d) {\n      if (should_color) {\n        // show the flux color in the stroke whether or not the fill is present\n        var f = d.data\n        return f===null ? no_data_color : scale.reaction_color(f)\n      }\n      // default stroke color\n      return null\n    })\n  // remove\n  arrowheads.exit().remove()\n\n  // new stoichiometry labels\n  var stoichiometry_labels = update_selection.select('.stoichiometry-labels')\n    .selectAll('.stoichiometry-label')\n    .data(function (d) {\n      var labels = []\n      var start = drawn_nodes[d.from_node_id]\n      var b1 = d.b1\n      var end = drawn_nodes[d.to_node_id]\n      var b2 = d.b2\n      var disp_factor = 1.5\n\n      // hide_secondary_metabolites option\n      if (hide_secondary_metabolites &&\n          ((end['node_type']=='metabolite' && !end.node_is_primary) ||\n           (start['node_type']=='metabolite' && !start.node_is_primary))) {\n        return labels\n      }\n\n      if (start.node_type === 'metabolite' && (Math.abs(d.from_node_coefficient) != 1)) {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = disp_factor * get_disp(arrow_size, false, 0, end.node_is_primary)\n        var direction = (b1 === null) ? end : b1\n        direction = utils.c_plus_c(direction, utils.rotate_coords(direction, 0.5, start))\n        var loc = displacedCoords(disp, start, direction, 'start')\n        loc = utils.c_plus_c(loc, { x: 0, y: 7 })\n        labels.push({\n          coefficient: Math.abs(d.from_node_coefficient),\n          x: loc.x,\n          y: loc.y,\n          data: d.data,\n        })\n      }\n\n      if (end.node_type === 'metabolite' && (Math.abs(d.to_node_coefficient) !== 1)) {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = disp_factor * get_disp(arrow_size, false, 0, end.node_is_primary)\n        var direction = (b2 === null) ? start : b2\n        direction = utils.c_plus_c(direction,\n                                   utils.rotate_coords(direction, 0.5, end))\n        var loc = displacedCoords(disp, direction, end, 'end')\n        loc = utils.c_plus_c(loc, { x: 0, y: 7 })\n        labels.push({\n          coefficient: Math.abs(d.to_node_coefficient),\n          x: loc.x,\n          y: loc.y,\n          data: d.data,\n        })\n      }\n      return labels\n    })\n\n  // add labels\n  stoichiometry_labels.enter()\n    .append('text')\n    .attr('class', 'stoichiometry-label')\n    .attr('text-anchor', 'middle')\n  // update stoichiometry_labels\n    .merge(stoichiometry_labels)\n    .attr('transform', function(d) {\n      return 'translate(' + d.x + ',' + d.y + ')'\n    })\n    .text(function(d) {\n      return d.coefficient\n    })\n    .style('fill', function (d) {\n      if (should_color) {\n        // show the flux color\n        var f = d.data\n        return f === null ? no_data_color : scale.reaction_color(f)\n      }\n      // default segment color\n      return null\n    })\n\n  // remove\n  stoichiometry_labels.exit().remove()\n\n  this.callback_manager.run('update_segment', this, update_selection)\n}\n\n/**\n * Create beziers in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_bezier (enter_selection) {\n  var g = enter_selection.append('g')\n    .attr('id', function (d) { return d.bezier_id })\n    .attr('class', function (d) { return 'bezier' })\n  g.append('path')\n    .attr('class', 'connect-line')\n  g.append('circle')\n    .attr('class', function (d) { return 'bezier-circle ' + d.bezier })\n    .style('stroke-width', String(1) + 'px')\n    .attr('r', String(7) + 'px')\n\n  this.callback_manager.run('create_bezier', this, enter_selection)\n\n  return g\n}\n\n/**\n * Update beziers in update_selection.\n */\nfunction update_bezier(update_selection, show_beziers, drag_behavior,\n                       mouseover, mouseout, drawn_nodes, drawn_reactions) {\n  var hide_secondary_metabolites = this.settings.get('hide_secondary_metabolites')\n\n  if (!show_beziers) {\n    update_selection.attr('visibility', 'hidden')\n    return\n  } else {\n    update_selection.attr('visibility', 'visible')\n  }\n\n  // hide secondary\n  update_selection\n    .style('visibility', function (d) {\n      var seg_data = drawn_reactions[d.reaction_id].segments[d.segment_id]\n      var start = drawn_nodes[seg_data.from_node_id]\n      var end = drawn_nodes[seg_data.to_node_id]\n      if (hide_secondary_metabolites &&\n          ((end['node_type'] === 'metabolite' && !end.node_is_primary) ||\n           (start['node_type'] === 'metabolite' && !start.node_is_primary))) {\n        return 'hidden'\n      }\n      return null\n    })\n\n  // Draw bezier points\n  update_selection.select('.bezier-circle')\n    .call(this.behavior.turnOffDrag)\n    .call(drag_behavior)\n    .on('mouseover', mouseover)\n    .on('mouseout', mouseout)\n    .attr('transform', function (d) {\n      if (d.x === null || d.y === null) return ''\n      return 'translate(' + d.x + ',' + d.y + ')'\n    })\n\n  // Update bezier line\n  update_selection\n    .select('.connect-line')\n    .attr('d', function (d) {\n      var segment_d = drawn_reactions[d.reaction_id].segments[d.segment_id]\n      var node = d.bezier === 'b1'\n        ? drawn_nodes[segment_d.from_node_id]\n        : drawn_nodes[segment_d.to_node_id]\n      if (d.x === null || d.y === null || node.x === null || node.y === null) {\n        return ''\n      }\n      return 'M' + d.x + ', ' + d.y + ' ' + node.x + ',' + node.y\n    })\n\n  this.callback_manager.run('update_bezier', this, update_selection)\n}\n\n/**\n * Create nodes in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @param {} drawn_nodes - The nodes object (e.g. Map.nodes).\n * @param {} drawn_reactions - The reactions object (e.g. Map.reactions).\n * @returns {} The selection of the new nodes.\n */\nfunction create_node (enter_selection, drawn_nodes, drawn_reactions) {\n  // create nodes\n  var g = enter_selection\n      .append('g')\n      .attr('class', 'node')\n      .attr('id', function (d) { return 'n' + d.node_id })\n\n  // create metabolite circle and label\n  g.append('circle')\n    .attr('class', function (d) {\n      var c = 'node-circle'\n      if (d.node_type !== null)\n        c += (' ' + d.node_type + '-circle')\n      return c\n    })\n\n  // labels\n  var metabolite_groups = g.filter(function (d) {\n    return d.node_type === 'metabolite'\n  })\n\n  metabolite_groups.append('text')\n    .attr('class', 'node-label label')\n\n  this.callback_manager.run('create_node', this, enter_selection)\n\n  return g\n}\n\n/**\n * Run on the update selection for nodes.\n * @param {D3 Selection} update_selection - The D3.js update selection.\n * @param {Scale} scale - A Scale object.\n * @param {Boolean} has_data_on_nodes - Boolean to determine whether data needs to be drawn.\n * @param {Function} mousedown_fn - A function to call on mousedown for a node.\n * @param {Function} click_fn - A function to call on click for a node.\n * @param {Function} mouseover_fn - A function to call on mouseover for a node.\n * @param {Function} mouseout_fn - A function to call on mouseout for a node.\n * @param {D3 Behavior} drag_behavior - The D3.js drag behavior object for the nodes.\n * @param {D3 Behavior} label_drag_behavior - The D3.js drag behavior object for the node labels.\n */\nfunction update_node (update_selection, scale, has_data_on_nodes,\n                      mousedown_fn, click_fn, mouseover_fn, mouseout_fn,\n                      drag_behavior, label_drag_behavior) {\n  // update circle and label location\n  var hide_secondary_metabolites = this.settings.get('hide_secondary_metabolites')\n  var primary_r = this.settings.get('primary_metabolite_radius')\n  var secondary_r = this.settings.get('secondary_metabolite_radius')\n  var marker_r = this.settings.get('marker_radius')\n  var hide_all_labels = this.settings.get('hide_all_labels')\n  var identifiers_on_map = this.settings.get('identifiers_on_map')\n  var metabolite_data_styles = this.settings.get('metabolite_styles')\n  var no_data_style = { color: this.settings.get('metabolite_no_data_color'),\n                        size: this.settings.get('metabolite_no_data_size') }\n  var labelMouseover = this.behavior.nodeLabelMouseover\n  var labelMouseout = this.behavior.nodeLabelMouseout\n  var labelTouch = this.behavior.nodeLabelTouch\n  var objectMouseover = this.behavior.nodeObjectMouseover\n  var objectMouseout = this.behavior.nodeObjectMouseout\n\n  // Function to check if a string starts with any of the given prefixes\n  function startsWithAny(str, prefixes) {\n    return prefixes.some(prefix => str.startsWith(prefix));\n  }\n\n  // List of prefixes to check\n  const ionsPrefixes = ['h_', 'nadh_', 'nadp_', 'nadph_', 'nad_'];\n  const energyPrefixes = ['atp_', 'adp_', 'pi_'];\n  const inorgPrefixes = ['h2o_', 'co2_'];\n  \n  var mg = update_selection\n      .select('.node-circle')\n    .attr('transform', function(d) {\n      return 'translate(' + d.x + ',' + d.y + ')'\n    })\n    .style('visibility', function(d) {\n      return hideNode(d, hide_secondary_metabolites) ? 'hidden' : null\n    })\n    .attr('r', function(d) {\n      if (d.node_type === 'metabolite') {\n        var should_scale = (has_data_on_nodes &&\n                            metabolite_data_styles.indexOf('size') !== -1)\n        if (should_scale) {\n          var f = d.data\n          return f === null ? no_data_style['size'] : scale.metabolite_size(f)\n        } else {\n          return d.node_is_primary ? primary_r : secondary_r\n        }\n      }\n      // midmarkers and multimarkers\n      return marker_r\n    })\n    .style('fill', function(d) {\n      if (d.node_type === 'metabolite') {\n        if (startsWithAny(d[identifiers_on_map], ionsPrefixes)) {\n          return '#66ccff';  // Light blue for all special metabolites\n        } else if (startsWithAny(d[identifiers_on_map], energyPrefixes)) {\n          return '#ff0000';  // Red for ATP, ADP, and Pi\n        } else if (startsWithAny(d[identifiers_on_map], inorgPrefixes)) {\n          return '#ffffff';  // White for H2O and CO2\n        }\n        \n        var should_color_data = (has_data_on_nodes &&\n                                 metabolite_data_styles.indexOf('color') !== -1)\n        if (should_color_data) {\n          var f = d.data\n          return f === null ? no_data_style['color'] : scale.metabolite_color(f)\n        } else {\n          return d.fillColor || null;\n        }\n      }\n      // midmarkers and multimarkers\n      return null\n    })\n    .style('stroke', function(d) {\n      if (d.node_type === 'metabolite') {\n        if (startsWithAny(d[identifiers_on_map], ionsPrefixes)) {\n          return d3Color('#66ccff').darker(0.8);  // Darker blue for all special metabolites\n        } else if (startsWithAny(d[identifiers_on_map], energyPrefixes)) {\n          return d3Color('#ff0000').darker(0.8);  // Darker red for ATP, ADP, and Pi\n        } else if (startsWithAny(d[identifiers_on_map], inorgPrefixes)) {\n          return '#000000';  // Black stroke for H2O and CO2\n        }\n        \n        if (d.strokeColor) {\n          if (typeof d.strokeColor === 'string') {\n            return d.strokeColor;\n          } else if (typeof d.strokeColor === 'object' && d.strokeColor.r !== undefined) {\n            return `rgb(${d.strokeColor.r}, ${d.strokeColor.g}, ${d.strokeColor.b})`;\n          }\n        }\n        return null;\n      }\n      return null;\n    })\n    .style('stroke-width', function(d) {\n      return (d.strokeColor) ? '2px' : null;\n    })\n    .call(this.behavior.turnOffDrag)\n    .call(drag_behavior)\n    .on('mousedown', mousedown_fn)\n    .on('click', click_fn)\n    .on('mouseover', objectMouseover)\n    .on('mouseout', objectMouseout)\n\n  // update node label visibility\n  var node_label = update_selection\n      .select('.node-label')\n      .attr('visibility', hide_all_labels ? 'hidden' : 'visible')\n  if (!hide_all_labels) {\n    node_label\n      .style('visibility', function(d) {\n        return hideNode(d, hide_secondary_metabolites) ? 'hidden' : null\n      })\n      .attr('transform', function(d) {\n        return 'translate(' + d.label_x + ',' + d.label_y + ')'\n      })\n      .text(function(d) {\n        var t = d[identifiers_on_map]\n        if (has_data_on_nodes && metabolite_data_styles.indexOf('text') !== -1)\n          t += ' ' + d.data_string\n        return t\n      })\n      .call(this.behavior.turnOffDrag)\n      .call(label_drag_behavior)\n      .on('mouseover', labelMouseover)\n      .on('mouseout', labelMouseout)\n      .on('touchend', labelTouch)\n  }\n\n  this.callback_manager.run('update_node', this, update_selection)\n\n  function hideNode (d, hide_secondary_metabolites) {\n    return (d.node_type === 'metabolite' &&\n            hide_secondary_metabolites &&\n            !d.node_is_primary)\n  }\n}\n\n/**\n * Create text labels in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_text_label (enter_selection) {\n  var g = enter_selection.append('g')\n      .attr('id', function (d) { return 'l' + d.text_label_id })\n      .attr('class', 'text-label')\n  g.append('text')\n    .attr('class', 'label')\n\n  this.callback_manager.run('create_text_label', this, enter_selection)\n\n  return g\n}\n\nfunction update_text_label (update_selection) {\n  const mousedown = this.behavior.textLabelMousedown\n  const click = this.behavior.textLabelClick\n  const turnOffDrag = this.behavior.turnOffDrag\n  const drag = this.behavior.selectableDrag\n\n  update_selection\n    .select('.label')\n    .text(function (d) { return d.text })\n    .attr('transform', function (d) {\n      return 'translate(' + d.x + ',' + d.y + ')'\n    })\n    .on('mousedown', mousedown)\n    .on('click', click)\n    .call(turnOffDrag)\n    .call(drag)\n\n  this.callback_manager.run('update_text_label', this, update_selection)\n}\n\nfunction displacedCoords (reactionArrowDisplacement, start, end, displace) {\n  const length = reactionArrowDisplacement\n  const hyp = utils.distance(start, end)\n  if (!length || !hyp) {\n    console.warn('No space for displacement')\n    return { x: start.x, y: start.y }\n  }\n  if (displace === 'start') {\n    return {\n      x: start.x + length * (end.x - start.x) / hyp,\n      y: start.y + length * (end.y - start.y) / hyp\n    }\n  } else if (displace === 'end') {\n    return {\n      x: end.x - length * (end.x - start.x) / hyp,\n      y: end.y - length * (end.y - start.y) / hyp\n    }\n  } else {\n    console.error('bad displace value: ' + displace)\n  }\n}\n/**\n * Draw. Manages creating, updating, and removing objects during d3 data\n * binding.\n *\n * Arguments\n * ---------\n *\n * behavior: An escher.Behavior object.\n * settings: An escher.Settings object.\n *\n * Callbacks\n * ---------\n *\n * draw.callback_manager.run('create_membrane', draw, enter_selection)\n * draw.callback_manager.run('update_membrane', draw, update_selection)\n * draw.callback_manager.run('create_reaction', draw, enter_selection)\n * draw.callback_manager.run('update_reaction', draw, update_selection)\n * draw.callback_manager.run('create_reaction_label', draw, enter_selection)\n * draw.callback_manager.run('update_reaction_label', draw, update_selection)\n * draw.callback_manager.run('create_segment', draw, enter_selection)\n * draw.callback_manager.run('update_segment', draw, update_selection)\n * draw.callback_manager.run('create_bezier', draw, enter_selection)\n * draw.callback_manager.run('update_bezier', draw, update_selection)\n * draw.callback_manager.run('create_node', draw, enter_selection)\n * draw.callback_manager.run('update_node', draw, update_selection)\n * draw.callback_manager.run('create_text_label', draw, enter_selection)\n * draw.callback_manager.run('update_text_label', draw, update_selection)\n *\n */\n\nvar utils = require('./utils')\nvar dataStyles = require('./dataStyles')\nvar CallbackManager = require('./CallbackManager').default\nvar d3_format = require('d3-format').format\n\n\nvar Draw = utils.make_class()\n// instance methods\nDraw.prototype = {\n  init: init,\n  create_reaction: create_reaction,\n  update_reaction: update_reaction,\n  create_bezier: create_bezier,\n  update_bezier: update_bezier,\n  create_node: create_node,\n  update_node: update_node,\n  create_text_label: create_text_label,\n  update_text_label: update_text_label,\n  create_membrane: create_membrane,\n  update_membrane: update_membrane,\n  create_reaction_label: create_reaction_label,\n  update_reaction_label: update_reaction_label,\n  create_segment: create_segment,\n  update_segment: update_segment\n}\nmodule.exports = Draw\n\nfunction init (behavior, settings, map) {\n  this.behavior = behavior\n  this.settings = settings\n  this.map = map\n  this.callback_manager = new CallbackManager()\n}\n\n/**\n * Create membranes in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_membrane (enter_selection) {\n  var rect = enter_selection\n    .append('rect')\n    .attr('class', 'membrane')\n\n  this.callback_manager.run('create_membrane', this, enter_selection)\n\n  return rect\n}\n\n/**\n * Update the membrane\n */\nfunction update_membrane (update_selection) {\n  update_selection\n    .attr('width', function(d){ return d.width; })\n    .attr('height', function(d){ return d.height; })\n    .attr('transform', function(d){return 'translate('+d.x+','+d.y+')';})\n    .style('stroke-width', function(d) { return 10; })\n    .attr('rx', function(d){ return 20; })\n    .attr('ry', function(d){ return 20; })\n\n  this.callback_manager.run('update_membrane', this, update_selection)\n}\n\n/**\n * Create reactions in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_reaction (enter_selection) {\n  // attributes for new reaction group\n  var group = enter_selection.append('g')\n    .attr('id', function (d) { return 'r' + d.reaction_id })\n    .attr('class', 'reaction')\n  this.create_reaction_label(group)\n\n  this.callback_manager.run('create_reaction', this, enter_selection)\n\n  return group\n}\n\n/**\n * Run on the update selection for reactions.\n * update_selection: The D3.js update selection.\n * scale: A Scale object.\n * cobra_model: A CobraModel object.\n * drawn_nodes: The nodes object (e.g. Map.nodes).\n * defs: The defs object generated by utils.setup_defs() (e.g. Map.defs).\n * has_data_on_reactions: Boolean to determine whether data needs to be drawn.\n */\nfunction update_reaction (update_selection, scale, cobra_model, drawn_nodes,\n                          defs, has_data_on_reactions) {\n  // Update reaction label\n  update_selection.select('.reaction-label-group')\n    .call(function(sel) {\n      return this.update_reaction_label(sel, has_data_on_reactions)\n    }.bind(this))\n\n  // draw segments\n  utils.draw_a_nested_object(update_selection, '.segment-group', 'segments', 'segment_id',\n                             this.create_segment.bind(this),\n                             function(sel) {\n                               return this.update_segment(sel, scale, cobra_model,\n                                                          drawn_nodes, defs,\n                                                          has_data_on_reactions)\n                             }.bind(this),\n                             function(sel) {\n                               sel.remove()\n                             })\n\n  // run the callback\n  this.callback_manager.run('update_reaction', this, update_selection)\n}\n\n/**\n * Draw reaction labels in the enter selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_reaction_label (enter_selection, tool) {\n  var group = enter_selection\n    .append('g')\n    .attr('class', 'reaction-label-group')\n  group.append('text').attr('class', 'reaction-label label')\n  group.append('g').attr('class', 'all-genes-label-group')\n\n  this.callback_manager.run('create_reaction_label', this, enter_selection)\n\n  return group\n}\n\n/**\n * Run on the update selection for reaction labels.\n * @param {D3 Selection} update_selection - The D3.js update selection.\n * @param {Boolean} has_data_on_reactions - Whether data needs to be drawn.\n */\nfunction update_reaction_label (update_selection, has_data_on_reactions) {\n  const decimal_format = d3_format('.4g')\n  const identifiers_on_map = this.settings.get('identifiers_on_map')\n  const reaction_data_styles = this.settings.get('reaction_styles')\n  const show_gene_reaction_rules = this.settings.get('show_gene_reaction_rules')\n  const hide_all_labels = this.settings.get('hide_all_labels')\n  const gene_font_size = this.settings.get('gene_font_size')\n  const reactionLabelMouseover = this.behavior.reactionLabelMouseover\n  const reactionLabelMouseout = this.behavior.reactionLabelMouseout\n  const reactionLabelTouch = this.behavior.reactionLabelTouch\n  const geneLabelMouseover = this.behavior.geneLabelMouseover\n  const geneLabelMouseout = this.behavior.geneLabelMouseout\n  const geneLabelTouch = this.behavior.geneLabelTouch\n\n  // label location\n  update_selection\n    .attr('transform', function(d) {\n      return 'translate(' + d.label_x + ',' + d.label_y + ')'\n    })\n    .call(this.behavior.turnOffDrag)\n    .call(this.behavior.reactionLabelDrag)\n\n  // update label visibility\n  var label = update_selection.select('.reaction-label')\n    .attr('visibility', hide_all_labels ? 'hidden' : 'visible')\n\n  if (!hide_all_labels) {\n    label\n      .text(function (d) {\n        var t = d[identifiers_on_map]\n        if (has_data_on_reactions &&\n            reaction_data_styles.indexOf('text') !== -1) {\n          t += ' ' + d.data_string\n        }\n        return t\n      })\n      .on('mouseover', reactionLabelMouseover)\n      .on('mouseout', reactionLabelMouseout)\n      .on('touchend', reactionLabelTouch)\n  }\n\n  var add_gene_height = function (y, i) {\n    return y + (gene_font_size * 1.5 * (i + 1))\n  }\n\n  // gene label\n  var all_genes_g = update_selection.select('.all-genes-label-group')\n    .selectAll('.gene-label-group')\n    .data(function (d) {\n      var show_gene_string = ('gene_string' in d &&\n                              d.gene_string !== null &&\n                              show_gene_reaction_rules &&\n                              (!hide_all_labels) &&\n                              reaction_data_styles.indexOf('text') !== -1)\n      var show_gene_reaction_rule = ('gene_reaction_rule' in d &&\n                                     d.gene_reaction_rule !== null &&\n                                     show_gene_reaction_rules &&\n                                     (!hide_all_labels))\n      if (show_gene_string) {\n        // TODO do we ever use gene_string?\n        console.warn('Showing gene_string. See TODO in source.')\n        return d.gene_string\n      } else if (show_gene_reaction_rule) {\n        // make the gene string with no data\n        var sd = dataStyles.gene_string_for_data(d.gene_reaction_rule, null,\n                                                  d.genes, null,\n                                                  identifiers_on_map, null)\n        // add coords for tooltip\n        sd.forEach(function (td, i) {\n          td.label_x = d.label_x\n          td.label_y = add_gene_height(d.label_y, i)\n        })\n        return sd\n      } else {\n        return []\n      }\n    })\n\n  // enter\n  var gene_g = all_genes_g.enter()\n    .append('g')\n    .attr('class', 'gene-label-group')\n  gene_g.append('text')\n    .attr('class', 'gene-label')\n    .style('font-size', gene_font_size + 'px')\n\n  // update\n  var gene_update = gene_g.merge(all_genes_g)\n  gene_update.attr('transform', function (d, i) {\n    return 'translate(0, ' + add_gene_height(0, i) + ')'\n  })\n  // update text\n  gene_update\n    .select('text')\n    .text(d => d.text)\n    .on('mouseover', geneLabelMouseover)\n    .on('mouseout', geneLabelMouseout)\n    .on('touchend', geneLabelTouch)\n\n  // exit\n  all_genes_g.exit().remove()\n\n  this.callback_manager.run('update_reaction_label', this, update_selection)\n}\n\n/**\n * Create segments in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_segment (enter_selection) {\n  // create segments\n  var g = enter_selection\n      .append('g')\n    .attr('class', 'segment-group')\n    .attr('id', function (d) { return 's' + d.segment_id })\n\n  // create reaction arrow\n  g.append('path')\n    .attr('class', 'segment')\n\n  g.append('g')\n    .attr('class', 'arrowheads')\n\n  g.append('g')\n    .attr('class', 'stoichiometry-labels')\n\n  this.callback_manager.run('create_segment', this, enter_selection)\n\n  return g\n}\n\n/**\n * Update segments in update selection.\n * @param {} -\n * @param {} -\n * @param {} -\n * @param {} -\n * @param {} -\n * @param {} -\n * @return {}\n */\nfunction update_segment (update_selection, scale, cobra_model,\n                         drawn_nodes, defs, has_data_on_reactions) {\n  const reaction_data_styles = this.settings.get('reaction_styles')\n  const should_size = (has_data_on_reactions && reaction_data_styles.indexOf('size') !== -1)\n  const should_color = (has_data_on_reactions && reaction_data_styles.indexOf('color') !== -1)\n  const no_data_size = this.settings.get('reaction_no_data_size')\n  const no_data_color = this.settings.get('reaction_no_data_color')\n\n  // update segment attributes\n  const highlight_missing  = this.settings.get('highlight_missing')\n  const hide_secondary_metabolites = this.settings.get('hide_secondary_metabolites')\n  const primary_r = this.settings.get('primary_metabolite_radius')\n  const secondary_r = this.settings.get('secondary_metabolite_radius')\n\n  const objectMouseover = this.behavior.reactionObjectMouseover\n  const objectMouseout = this.behavior.reactionObjectMouseout\n\n  const get_arrow_size = function (data, should_size) {\n    let width = 20\n    let height = 13\n    if (should_size) {\n      height = (data === null ? no_data_size : scale.reaction_size(data))\n      // check for nan\n      if (isNaN(height)) {\n        height = no_data_size\n      }\n      width = height * 2\n    }\n    return { width: width, height: height }\n  }\n  const get_disp = function (arrow_size, reversibility, coefficient, node_is_primary) {\n    var arrow_height = ((reversibility || coefficient > 0) ?\n                        arrow_size.height : 0)\n    var r = node_is_primary ? primary_r : secondary_r\n    return r + arrow_height + 10\n  }\n\n  // update arrows\n  update_selection\n    .selectAll('.segment')\n    .datum(function () {\n      // Concatenate the segment data with the reaction data from its parent node\n      return Object.assign({}, this.parentNode.__data__, this.parentNode.parentNode.__data__)\n    })\n    .style('visibility', function(d) {\n      var start = drawn_nodes[d.from_node_id]\n      var end = drawn_nodes[d.to_node_id]\n      if (hide_secondary_metabolites &&\n          ((end['node_type'] === 'metabolite' && !end.node_is_primary) ||\n           (start['node_type'] === 'metabolite' && !start.node_is_primary))) {\n        return 'hidden'\n      }\n      return null\n    })\n    .attr('d', function(d) {\n      if (d.from_node_id === null || d.to_node_id === null) {\n        return null\n      }\n      var start = drawn_nodes[d.from_node_id]\n      var end = drawn_nodes[d.to_node_id]\n      var b1 = d.b1\n      var b2 = d.b2\n      // if metabolite, then displace the arrow\n      if (start['node_type'] === 'metabolite') {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = get_disp(arrow_size, d.reversibility,\n                            d.from_node_coefficient,\n                            start.node_is_primary)\n        var direction = (b1 === null) ? end : b1\n        start = displacedCoords(disp, start, direction, 'start')\n      }\n      if (end['node_type'] == 'metabolite') {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = get_disp(arrow_size, d.reversibility,\n                            d.to_node_coefficient,\n                            end.node_is_primary)\n        var direction = (b2 === null) ? start : b2\n        end = displacedCoords(disp, direction, end, 'end')\n      }\n      var curve = ('M' + start.x + ',' + start.y + ' ')\n      if (b1 !== null && b2 !== null) {\n        curve += ('C' + b1.x + ',' + b1.y + ' ' +\n                  b2.x + ',' + b2.y + ' ')\n      }\n      curve += (end.x + ',' + end.y)\n      return curve\n    })\n    .style('stroke', function(d) {\n      var reaction_id = this.parentNode.parentNode.__data__.bigg_id\n      var show_missing = (highlight_missing &&\n                          cobra_model !== null &&\n                          !(reaction_id in cobra_model.reactions))\n      if (show_missing) {\n        return 'red'\n      }\n      if (should_color) {\n        var f = d.data\n        return f === null ? no_data_color : scale.reaction_color(f)\n      }\n      return null\n    })\n    .style('stroke-width', function(d) {\n      if (should_size) {\n        var f = d.data\n        return f === null ? no_data_size : scale.reaction_size(f)\n      } else {\n        return null\n      }\n    })\n    .attr('pointer-events', 'visibleStroke')\n    .on('mouseover', objectMouseover)\n    .on('mouseout', objectMouseout)\n\n  // new arrowheads\n  var arrowheads = update_selection.select('.arrowheads')\n    .selectAll('.arrowhead')\n    .data(function (d) {\n      var arrowheads = []\n      var start = drawn_nodes[d.from_node_id]\n      var b1 = d.b1\n      var end = drawn_nodes[d.to_node_id]\n      var b2 = d.b2\n      // hide_secondary_metabolites option\n      if (hide_secondary_metabolites &&\n          ((end['node_type'] === 'metabolite' && !end.node_is_primary) ||\n           (start['node_type'] === 'metabolite' && !start.node_is_primary))) {\n        return arrowheads\n      }\n\n      if (start.node_type === 'metabolite' &&\n          (d.reversibility || d.from_node_coefficient > 0)) {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = get_disp(arrow_size, d.reversibility,\n                        d.from_node_coefficient,\n                        start.node_is_primary)\n        var direction = (b1 === null) ? end : b1\n        var rotation = utils.to_degrees(utils.get_angle([ start, direction ])) + 90\n        var loc = displacedCoords(disp, start, direction, 'start')\n        arrowheads.push({\n          data: d.data,\n          x: loc.x,\n          y: loc.y,\n          size: arrow_size,\n          rotation: rotation,\n          show_arrowhead_flux: (((d.from_node_coefficient < 0) === d.reverse_flux) || d.data === 0)\n        })\n      }\n\n      if (end.node_type === 'metabolite' &&\n          (d.reversibility || d.to_node_coefficient > 0)) {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = get_disp(arrow_size, d.reversibility,\n                        d.to_node_coefficient,\n                        end.node_is_primary)\n        var direction = (b2 === null) ? start : b2\n        var rotation = utils.to_degrees(utils.get_angle([ end, direction ])) + 90\n        var loc = displacedCoords(disp, direction, end, 'end')\n        arrowheads.push({\n          data: d.data,\n          x: loc.x,\n          y: loc.y,\n          size: arrow_size,\n          rotation: rotation,\n          show_arrowhead_flux: (((d.to_node_coefficient < 0) === d.reverse_flux) || d.data === 0)\n        })\n      }\n\n      if (d.unconnected_segment_with_arrow) {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var direction = end\n        var rotation = utils.to_degrees(utils.get_angle([ start, direction ])) + 90\n        arrowheads.push({\n          data: d.data,\n          x: start.x,\n          y: start.y,\n          size: arrow_size,\n          rotation: rotation,\n          show_arrowhead_flux: (((d.to_node_coefficient < 0) === d.reverse_flux) || d.data === 0)\n        })\n      }\n\n      return arrowheads\n    })\n  arrowheads.enter().append('path')\n    .classed('arrowhead', true)\n  // update arrowheads\n    .merge(arrowheads)\n    .attr('d', function(d) {\n      return ('M' + [-d.size.width / 2, 0] +\n              ' L' + [0, d.size.height] +\n              ' L' + [d.size.width / 2, 0] + ' Z')\n    }).attr('transform', function(d) {\n      return 'translate(' + d.x + ',' + d.y + ')rotate(' + d.rotation + ')'\n    }).style('fill', function(d) {\n      if (should_color) {\n        if (d.show_arrowhead_flux) {\n          // show the flux\n          var f = d.data\n          return f === null ? no_data_color : scale.reaction_color(f)\n        } else {\n          // if the arrowhead is not filled because it is reversed\n          return '#FFFFFF'\n        }\n      }\n      // default fill color\n      return null\n    }).style('stroke', function(d) {\n      if (should_color) {\n        // show the flux color in the stroke whether or not the fill is present\n        var f = d.data\n        return f===null ? no_data_color : scale.reaction_color(f)\n      }\n      // default stroke color\n      return null\n    })\n  // remove\n  arrowheads.exit().remove()\n\n  // new stoichiometry labels\n  var stoichiometry_labels = update_selection.select('.stoichiometry-labels')\n    .selectAll('.stoichiometry-label')\n    .data(function (d) {\n      var labels = []\n      var start = drawn_nodes[d.from_node_id]\n      var b1 = d.b1\n      var end = drawn_nodes[d.to_node_id]\n      var b2 = d.b2\n      var disp_factor = 1.5\n\n      // hide_secondary_metabolites option\n      if (hide_secondary_metabolites &&\n          ((end['node_type']=='metabolite' && !end.node_is_primary) ||\n           (start['node_type']=='metabolite' && !start.node_is_primary))) {\n        return labels\n      }\n\n      if (start.node_type === 'metabolite' && (Math.abs(d.from_node_coefficient) != 1)) {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = disp_factor * get_disp(arrow_size, false, 0, end.node_is_primary)\n        var direction = (b1 === null) ? end : b1\n        direction = utils.c_plus_c(direction, utils.rotate_coords(direction, 0.5, start))\n        var loc = displacedCoords(disp, start, direction, 'start')\n        loc = utils.c_plus_c(loc, { x: 0, y: 7 })\n        labels.push({\n          coefficient: Math.abs(d.from_node_coefficient),\n          x: loc.x,\n          y: loc.y,\n          data: d.data,\n        })\n      }\n\n      if (end.node_type === 'metabolite' && (Math.abs(d.to_node_coefficient) !== 1)) {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = disp_factor * get_disp(arrow_size, false, 0, end.node_is_primary)\n        var direction = (b2 === null) ? start : b2\n        direction = utils.c_plus_c(direction,\n                                   utils.rotate_coords(direction, 0.5, end))\n        var loc = displacedCoords(disp, direction, end, 'end')\n        loc = utils.c_plus_c(loc, { x: 0, y: 7 })\n        labels.push({\n          coefficient: Math.abs(d.to_node_coefficient),\n          x: loc.x,\n          y: loc.y,\n          data: d.data,\n        })\n      }\n      return labels\n    })\n\n  // add labels\n  stoichiometry_labels.enter()\n    .append('text')\n    .attr('class', 'stoichiometry-label')\n    .attr('text-anchor', 'middle')\n  // update stoichiometry_labels\n    .merge(stoichiometry_labels)\n    .attr('transform', function(d) {\n      return 'translate(' + d.x + ',' + d.y + ')'\n    })\n    .text(function(d) {\n      return d.coefficient\n    })\n    .style('fill', function (d) {\n      if (should_color) {\n        // show the flux color\n        var f = d.data\n        return f === null ? no_data_color : scale.reaction_color(f)\n      }\n      // default segment color\n      return null\n    })\n\n  // remove\n  stoichiometry_labels.exit().remove()\n\n  this.callback_manager.run('update_segment', this, update_selection)\n}\n\n/**\n * Create beziers in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_bezier (enter_selection) {\n  var g = enter_selection.append('g')\n    .attr('id', function (d) { return d.bezier_id })\n    .attr('class', function (d) { return 'bezier' })\n  g.append('path')\n    .attr('class', 'connect-line')\n  g.append('circle')\n    .attr('class', function (d) { return 'bezier-circle ' + d.bezier })\n    .style('stroke-width', String(1) + 'px')\n    .attr('r', String(7) + 'px')\n\n  this.callback_manager.run('create_bezier', this, enter_selection)\n\n  return g\n}\n\n/**\n * Update beziers in update_selection.\n */\nfunction update_bezier(update_selection, show_beziers, drag_behavior,\n                       mouseover, mouseout, drawn_nodes, drawn_reactions) {\n  var hide_secondary_metabolites = this.settings.get('hide_secondary_metabolites')\n\n  if (!show_beziers) {\n    update_selection.attr('visibility', 'hidden')\n    return\n  } else {\n    update_selection.attr('visibility', 'visible')\n  }\n\n  // hide secondary\n  update_selection\n    .style('visibility', function (d) {\n      var seg_data = drawn_reactions[d.reaction_id].segments[d.segment_id]\n      var start = drawn_nodes[seg_data.from_node_id]\n      var end = drawn_nodes[seg_data.to_node_id]\n      if (hide_secondary_metabolites &&\n          ((end['node_type'] === 'metabolite' && !end.node_is_primary) ||\n           (start['node_type'] === 'metabolite' && !start.node_is_primary))) {\n        return 'hidden'\n      }\n      return null\n    })\n\n  // Draw bezier points\n  update_selection.select('.bezier-circle')\n    .call(this.behavior.turnOffDrag)\n    .call(drag_behavior)\n    .on('mouseover', mouseover)\n    .on('mouseout', mouseout)\n    .attr('transform', function (d) {\n      if (d.x === null || d.y === null) return ''\n      return 'translate(' + d.x + ',' + d.y + ')'\n    })\n\n  // Update bezier line\n  update_selection\n    .select('.connect-line')\n    .attr('d', function (d) {\n      var segment_d = drawn_reactions[d.reaction_id].segments[d.segment_id]\n      var node = d.bezier === 'b1'\n        ? drawn_nodes[segment_d.from_node_id]\n        : drawn_nodes[segment_d.to_node_id]\n      if (d.x === null || d.y === null || node.x === null || node.y === null) {\n        return ''\n      }\n      return 'M' + d.x + ', ' + d.y + ' ' + node.x + ',' + node.y\n    })\n\n  this.callback_manager.run('update_bezier', this, update_selection)\n}\n\n/**\n * Create nodes in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @param {} drawn_nodes - The nodes object (e.g. Map.nodes).\n * @param {} drawn_reactions - The reactions object (e.g. Map.reactions).\n * @returns {} The selection of the new nodes.\n */\nfunction create_node (enter_selection, drawn_nodes, drawn_reactions) {\n  // create nodes\n  var g = enter_selection\n      .append('g')\n      .attr('class', 'node')\n      .attr('id', function (d) { return 'n' + d.node_id })\n\n  // create metabolite circle and label\n  g.append('circle')\n    .attr('class', function (d) {\n      var c = 'node-circle'\n      if (d.node_type !== null)\n        c += (' ' + d.node_type + '-circle')\n      return c\n    })\n\n  // labels\n  var metabolite_groups = g.filter(function (d) {\n    return d.node_type === 'metabolite'\n  })\n\n  metabolite_groups.append('text')\n    .attr('class', 'node-label label')\n\n  this.callback_manager.run('create_node', this, enter_selection)\n\n  return g\n}\n\n/**\n * Run on the update selection for nodes.\n * @param {D3 Selection} update_selection - The D3.js update selection.\n * @param {Scale} scale - A Scale object.\n * @param {Boolean} has_data_on_nodes - Boolean to determine whether data needs to be drawn.\n * @param {Function} mousedown_fn - A function to call on mousedown for a node.\n * @param {Function} click_fn - A function to call on click for a node.\n * @param {Function} mouseover_fn - A function to call on mouseover for a node.\n * @param {Function} mouseout_fn - A function to call on mouseout for a node.\n * @param {D3 Behavior} drag_behavior - The D3.js drag behavior object for the nodes.\n * @param {D3 Behavior} label_drag_behavior - The D3.js drag behavior object for the node labels.\n */\nfunction update_node (update_selection, scale, has_data_on_nodes,\n                      mousedown_fn, click_fn, mouseover_fn, mouseout_fn,\n                      drag_behavior, label_drag_behavior) {\n  // update circle and label location\n  var hide_secondary_metabolites = this.settings.get('hide_secondary_metabolites')\n  var primary_r = this.settings.get('primary_metabolite_radius')\n  var secondary_r = this.settings.get('secondary_metabolite_radius')\n  var marker_r = this.settings.get('marker_radius')\n  var hide_all_labels = this.settings.get('hide_all_labels')\n  var identifiers_on_map = this.settings.get('identifiers_on_map')\n  var metabolite_data_styles = this.settings.get('metabolite_styles')\n  var no_data_style = { color: this.settings.get('metabolite_no_data_color'),\n                        size: this.settings.get('metabolite_no_data_size') }\n  var labelMouseover = this.behavior.nodeLabelMouseover\n  var labelMouseout = this.behavior.nodeLabelMouseout\n  var labelTouch = this.behavior.nodeLabelTouch\n  var objectMouseover = this.behavior.nodeObjectMouseover\n  var objectMouseout = this.behavior.nodeObjectMouseout\n\n  // Function to check if a string starts with any of the given prefixes\n  function startsWithAny(str, prefixes) {\n    return prefixes.some(prefix => str.startsWith(prefix));\n  }\n\n  // List of prefixes to check\n  const ionsPrefixes = ['h_', 'nadh_', 'nadp_', 'nadph_', 'nad_', 'nh4_', 'hco3_'];\n  const energyPrefixes = ['atp_', 'adp_', 'pi_'];\n  const inorgPrefixes = ['h2o_', 'co2_', 'o2_'];\n  \n  var mg = update_selection\n      .select('.node-circle')\n    .attr('transform', function(d) {\n      return 'translate(' + d.x + ',' + d.y + ')'\n    })\n    .style('visibility', function(d) {\n      return hideNode(d, hide_secondary_metabolites) ? 'hidden' : null\n    })\n    .attr('r', function(d) {\n      if (d.node_type === 'metabolite') {\n        var should_scale = (has_data_on_nodes &&\n                            metabolite_data_styles.indexOf('size') !== -1)\n        if (should_scale) {\n          var f = d.data\n          return f === null ? no_data_style['size'] : scale.metabolite_size(f)\n        } else {\n          return d.node_is_primary ? primary_r : secondary_r\n        }\n      }\n      // midmarkers and multimarkers\n      return marker_r\n    })\n    .style('fill', function(d) {\n      if (d.node_type === 'metabolite') {\n        if (startsWithAny(d[identifiers_on_map], ionsPrefixes)) {\n          return '#66ccff';  // Light blue for all special metabolites\n        } else if (startsWithAny(d[identifiers_on_map], energyPrefixes)) {\n          return '#ff0000';  // Red for ATP, ADP, and Pi\n        } else if (startsWithAny(d[identifiers_on_map], inorgPrefixes)) {\n          return '#ffffff';  // White for H2O and CO2\n        }\n        \n        var should_color_data = (has_data_on_nodes &&\n                                 metabolite_data_styles.indexOf('color') !== -1)\n        if (should_color_data) {\n          var f = d.data\n          return f === null ? no_data_style['color'] : scale.metabolite_color(f)\n        } else {\n          return d.fillColor || null;\n        }\n      }\n      // midmarkers and multimarkers\n      return null\n    })\n    .style('stroke', function(d) {\n      if (d.node_type === 'metabolite') {\n        if (startsWithAny(d[identifiers_on_map], ionsPrefixes)) {\n          return d3Color('#66ccff').darker(0.8);  // Darker blue for all special metabolites\n        } else if (startsWithAny(d[identifiers_on_map], energyPrefixes)) {\n          return d3Color('#ff0000').darker(0.8);  // Darker red for ATP, ADP, and Pi\n        } else if (startsWithAny(d[identifiers_on_map], inorgPrefixes)) {\n          return '#000000';  // Black stroke for H2O and CO2\n        }\n        \n        if (d.strokeColor) {\n          if (typeof d.strokeColor === 'string') {\n            return d.strokeColor;\n          } else if (typeof d.strokeColor === 'object' && d.strokeColor.r !== undefined) {\n            return `rgb(${d.strokeColor.r}, ${d.strokeColor.g}, ${d.strokeColor.b})`;\n          }\n        }\n        return null;\n      }\n      return null;\n    })\n    .style('stroke-width', function(d) {\n      return (d.strokeColor) ? '2px' : null;\n    })\n    .call(this.behavior.turnOffDrag)\n    .call(drag_behavior)\n    .on('mousedown', mousedown_fn)\n    .on('click', click_fn)\n    .on('mouseover', objectMouseover)\n    .on('mouseout', objectMouseout)\n\n  // update node label visibility\n  var node_label = update_selection\n      .select('.node-label')\n      .attr('visibility', hide_all_labels ? 'hidden' : 'visible')\n  if (!hide_all_labels) {\n    node_label\n      .style('visibility', function(d) {\n        return hideNode(d, hide_secondary_metabolites) ? 'hidden' : null\n      })\n      .attr('transform', function(d) {\n        return 'translate(' + d.label_x + ',' + d.label_y + ')'\n      })\n      .text(function(d) {\n        var t = d[identifiers_on_map]\n        if (has_data_on_nodes && metabolite_data_styles.indexOf('text') !== -1)\n          t += ' ' + d.data_string\n        return t\n      })\n      .call(this.behavior.turnOffDrag)\n      .call(label_drag_behavior)\n      .on('mouseover', labelMouseover)\n      .on('mouseout', labelMouseout)\n      .on('touchend', labelTouch)\n  }\n\n  this.callback_manager.run('update_node', this, update_selection)\n\n  function hideNode (d, hide_secondary_metabolites) {\n    return (d.node_type === 'metabolite' &&\n            hide_secondary_metabolites &&\n            !d.node_is_primary)\n  }\n}\n\n/**\n * Create text labels in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_text_label (enter_selection) {\n  var g = enter_selection.append('g')\n      .attr('id', function (d) { return 'l' + d.text_label_id })\n      .attr('class', 'text-label')\n  g.append('text')\n    .attr('class', 'label')\n\n  this.callback_manager.run('create_text_label', this, enter_selection)\n\n  return g\n}\n\nfunction update_text_label (update_selection) {\n  const mousedown = this.behavior.textLabelMousedown\n  const click = this.behavior.textLabelClick\n  const turnOffDrag = this.behavior.turnOffDrag\n  const drag = this.behavior.selectableDrag\n\n  update_selection\n    .select('.label')\n    .text(function (d) { return d.text })\n    .attr('transform', function (d) {\n      return 'translate(' + d.x + ',' + d.y + ')'\n    })\n    .on('mousedown', mousedown)\n    .on('click', click)\n    .call(turnOffDrag)\n    .call(drag)\n\n  this.callback_manager.run('update_text_label', this, update_selection)\n}\n\nfunction displacedCoords (reactionArrowDisplacement, start, end, displace) {\n  const length = reactionArrowDisplacement\n  const hyp = utils.distance(start, end)\n  if (!length || !hyp) {\n    console.warn('No space for displacement')\n    return { x: start.x, y: start.y }\n  }\n  if (displace === 'start') {\n    return {\n      x: start.x + length * (end.x - start.x) / hyp,\n      y: start.y + length * (end.y - start.y) / hyp\n    }\n  } else if (displace === 'end') {\n    return {\n      x: end.x - length * (end.x - start.x) / hyp,\n      y: end.y - length * (end.y - start.y) / hyp\n    }\n  } else {\n    console.error('bad displace value: ' + displace)\n  }\n}\n","import scalePresets from './scalePresets'\nimport { scaleLinear } from 'd3-scale'\n\nexport default class Scale {\n  constructor () {\n    this.x = scaleLinear()\n    this.y = scaleLinear()\n    this.x_size = scaleLinear()\n    this.y_size = scaleLinear()\n    this.size = scaleLinear()\n    this.reaction_color = scaleLinear().clamp(true)\n    this.reaction_size = scaleLinear().clamp(true)\n    this.metabolite_color = scaleLinear().clamp(true)\n    this.metabolite_size = scaleLinear().clamp(true)\n  }\n\n  connectToSettings (settings, map, getDataStatistics) {\n    // Wire up default scales. First warn if preset and scale are set. Use\n    // presets to set scales, avoiding loops.\n    const types = [ 'reaction', 'metabolite' ]\n    types.forEach(type => {\n      const scale = `${type}_scale`\n      const preset = `${type}_scale_preset`\n\n      // initial\n      const presetVal = settings.get(preset)\n      const scaleVal = settings.get(scale)\n      if (presetVal && scaleVal && scaleVal !== scalePresets[presetVal]) {\n        console.warn(`Both ${scale} and ${preset} are defined. Ignoring ${preset}. Set ${preset} to \"false\" to hide this warning.`)\n        settings.set(preset, null)\n      } else if (presetVal) {\n        settings.set(scale, scalePresets[presetVal])\n      } else if (!scaleVal) {\n        console.error(`Must provide a ${scale} or ${preset}`)\n      }\n\n      // Warn if scales are too short\n      if (settings.get(scale) && settings.get(scale).length < 2) {\n        console.error(`Bad value for option ${scale}. Scales must have at least 2 points.`)\n      } else {\n        this.setScale(type, scale, getDataStatistics)\n      }\n\n      // reactive\n      settings.streams[scale].onValue(val => {\n        // if the scale did not come from the preset, then reset the preset setting\n        if (val && val !== scalePresets[settings.get(preset)]) {\n          settings.set(preset, null)\n        }\n        this.setScale(type, val, getDataStatistics)\n      })\n      settings.streams[preset].onValue(val => {\n        // if there is a new preset, then set the scale\n        if (val) {\n          settings.set(scale, scalePresets[val])\n        }\n      })\n\n      // stats changes\n      map.callback_manager.set(`calc_data_stats__${type}`, changed => {\n        if (changed) {\n          this.setScale(type, settings.get(`${type}_scale`), getDataStatistics)\n        }\n      })\n    })\n  }\n\n  sortScale (scale, stats) {\n    var sorted = scale.map(x => {\n      let v\n      if (x.type in stats) {\n        v = stats[x.type]\n      } else if (x.type === 'value') {\n        v = x.value\n      } else {\n        throw new Error('Bad domain type ' + x.type)\n      }\n      return { v, color: x.color, size: x.size }\n    }).sort((a, b) => {\n      return a.v - b.v\n    })\n    return {\n      domain: sorted.map(x => { return x.v }),\n      color_range: sorted.map(x => { return x.color }),\n      size_range: sorted.map(x => { return x.size })\n    }\n  }\n\n  setScale (type, scale, getDataStatistics) {\n    if (type === 'reaction') {\n      this.setReactionScale(scale, getDataStatistics)\n    } else {\n      this.setMetaboliteScale(scale, getDataStatistics)\n    }\n  }\n\n  setReactionScale (scale, getDataStatistics) {\n    const stats = getDataStatistics().reaction\n    // If stats are null, then no data, so don't worry about it.\n    if (stats !== null) {\n      const out = this.sortScale(scale, stats)\n      this.reaction_color.domain(out.domain)\n      this.reaction_size.domain(out.domain)\n      this.reaction_color.range(out.color_range)\n      this.reaction_size.range(out.size_range)\n    }\n  }\n\n  setMetaboliteScale (scale, getDataStatistics) {\n    const stats = getDataStatistics().metabolite\n    // If stats are null, then no data, so don't worry about it.\n    if (stats !== null) {\n      const out = this.sortScale(scale, stats)\n      this.metabolite_color.domain(out.domain)\n      this.metabolite_size.domain(out.domain)\n      this.metabolite_color.range(out.color_range)\n      this.metabolite_size.range(out.size_range)\n    }\n  }\n}\n","import * as utils from './utils'\nimport CallbackManager from './CallbackManager'\n\nimport { drag as d3Drag } from 'd3-drag'\nimport { selection as d3Selection, event } from 'd3-selection'\nimport _ from 'underscore'\n\n/**\n * Canvas. Defines a canvas that accepts drag/zoom events and can be resized.\n * Canvas(selection, x, y, width, height)\n * Adapted from http://bl.ocks.org/mccannf/1629464.\n */\nexport default class Canvas {\n  constructor (selection, sizeAndLocation) {\n    this.selection = selection\n    this.x = sizeAndLocation.x\n    this.y = sizeAndLocation.y\n    this.width = sizeAndLocation.width\n    this.height = sizeAndLocation.height\n\n    // enable by default\n    this.resizeEnabled = true\n\n    // set up the callbacks\n    this.callbackManager = new CallbackManager()\n\n    this.setup()\n  }\n\n  /**\n   * Turn the resize on or off\n   */\n  toggleResize (onOff) {\n    if (_.isUndefined(onOff)) onOff = !this.resizeEnabled\n\n    if (onOff) {\n      this.selection.selectAll('.drag-rect')\n        .style('pointer-events', 'auto')\n    } else {\n      this.selection.selectAll('.drag-rect')\n        .style('pointer-events', 'none')\n    }\n  }\n\n  setup () {\n    const dragbarWidth = 100\n    const mouseNodeMult = 10\n    const newSel = this.selection.append('g')\n          .classed('canvas-group', true)\n          .data([ { x: this.x, y: this.y } ])\n\n    const stopPropagation = () => {\n      event.sourceEvent.stopPropagation()\n    }\n\n    const transformString = (x, y, currentTransform) => {\n      const tr = utils.d3_transform_catch(currentTransform)\n      const translate = tr.translate\n      if (x !== null) translate[0] = x\n      if (y !== null) translate[1] = y\n      return 'translate(' + translate + ')'\n    }\n\n    const mouseNode = newSel.append('rect')\n        .attr('id', 'mouse-node')\n        .attr('width', this.width * mouseNodeMult)\n        .attr('height', this.height * mouseNodeMult)\n        .attr('transform', 'translate(' + [ this.x - this.width * mouseNodeMult / 2, this.y - this.height * mouseNodeMult / 2 ] + ')')\n        .attr('pointer-events', 'all')\n    this.mouseNode = mouseNode\n\n    const rect = newSel.append('rect')\n        .attr('id', 'canvas')\n        .attr('width', this.width)\n        .attr('height', this.height)\n        .attr('transform', 'translate(' + [ this.x, this.y ] + ')')\n\n    const dragLeft = d3Drag()\n          .on('start', stopPropagation)\n          .on('drag', d => {\n            const oldX = d.x\n            d.x = Math.min(d.x + this.width - (dragbarWidth / 2), event.x)\n            this.x = d.x\n            this.width = this.width + (oldX - d.x)\n            left.attr('transform', d => {\n              return transformString(d.x - (dragbarWidth / 2), null, left.attr('transform'))\n            })\n            mouseNode.attr('transform', d => {\n              return transformString(d.x, null, mouseNode.attr('transform'))\n            }).attr('width', this.width * mouseNodeMult)\n            rect.attr('transform', d => {\n              return transformString(d.x, null, rect.attr('transform'))\n            }).attr('width', this.width)\n            top.attr('transform', d => transformString(d.x + (dragbarWidth / 2), null, top.attr('transform')))\n              .attr('width', this.width - dragbarWidth)\n            bottom.attr('transform', d => transformString(d.x + (dragbarWidth / 2), null, bottom.attr('transform')))\n              .attr('width', this.width - dragbarWidth)\n\n            this.callbackManager.run('resize')\n          })\n\n    const left = newSel.append('rect')\n          .classed('drag-rect', true)\n          .attr('transform', d => 'translate(' + [ d.x - (dragbarWidth / 2), d.y + (dragbarWidth / 2) ] + ')')\n          .attr('height', this.height - dragbarWidth)\n          .attr('id', 'dragleft')\n          .attr('width', dragbarWidth)\n          .attr('cursor', 'ew-resize')\n          .classed('resize-rect', true)\n          .call(dragLeft)\n\n    const dragRight = d3Drag()\n          .on('start', stopPropagation)\n          .on('drag', d => {\n            event.sourceEvent.stopPropagation()\n            const dragX = Math.max(d.x + (dragbarWidth / 2),\n                                   d.x + this.width + event.dx)\n            // recalculate width\n            this.width = dragX - d.x\n            // move the right drag handle\n            right.attr('transform', d =>\n              transformString(dragX - (dragbarWidth / 2), null, right.attr('transform'))\n            )\n            // resize the drag rectangle. as we are only resizing from the\n            // right, the x coordinate does not need to change\n            mouseNode.attr('width', this.width * mouseNodeMult)\n            rect.attr('width', this.width)\n            top.attr('width', this.width - dragbarWidth)\n            bottom.attr('width', this.width - dragbarWidth)\n\n            this.callbackManager.run('resize')\n          })\n\n    const right = newSel.append('rect')\n        .classed('drag-rect', true)\n        .attr('transform', d => {\n          return 'translate(' +\n            [ d.x + this.width - (dragbarWidth / 2), d.y + (dragbarWidth / 2) ] +\n            ')'\n        })\n        .attr('id', 'dragright')\n        .attr('height', this.height - dragbarWidth)\n        .attr('width', dragbarWidth)\n        .attr('cursor', 'ew-resize')\n        .classed('resize-rect', true)\n        .call(dragRight)\n\n    const dragTop = d3Drag()\n          .on('start', stopPropagation)\n          .on('drag', d => {\n            event.sourceEvent.stopPropagation()\n            const oldY = d.y\n            d.y = Math.min(d.y + this.height - (dragbarWidth / 2), event.y)\n            this.y = d.y\n            this.height = this.height + (oldY - d.y)\n            top.attr('transform', d => {\n              return transformString(null, d.y - (dragbarWidth / 2), top.attr('transform'))\n            })\n            mouseNode.attr('transform', d => {\n              return transformString(null, d.y, mouseNode.attr('transform'))\n            }).attr('width', this.height * mouseNodeMult)\n            rect.attr('transform', d => {\n              return transformString(null, d.y, rect.attr('transform'))\n            }).attr('height', this.height)\n            left.attr('transform', d => {\n              return transformString(null, d.y + (dragbarWidth / 2), left.attr('transform'))\n            }).attr('height', this.height - dragbarWidth)\n            right.attr('transform', d => {\n              return transformString(null, d.y + (dragbarWidth / 2), right.attr('transform'))\n            }).attr('height', this.height - dragbarWidth)\n\n            this.callbackManager.run('resize')\n          })\n\n    const top = newSel.append('rect')\n        .classed('drag-rect', true)\n        .attr('transform', d => {\n          return 'translate(' +\n            [ d.x + (dragbarWidth / 2), d.y - (dragbarWidth / 2) ] +\n            ')'\n        })\n        .attr('height', dragbarWidth)\n        .attr('width', this.width - dragbarWidth)\n        .attr('cursor', 'ns-resize')\n        .classed('resize-rect', true)\n        .call(dragTop)\n\n    const dragBottom = d3Drag()\n          .on('start', stopPropagation)\n          .on('drag', d => {\n            event.sourceEvent.stopPropagation()\n            const dragY = Math.max(d.y + (dragbarWidth / 2),\n                                   d.y + this.height + event.dy)\n            // recalculate width\n            this.height = dragY - d.y\n            // move the right drag handle\n            bottom.attr('transform', d => transformString(null,\n                                                          dragY - (dragbarWidth / 2),\n                                                          bottom.attr('transform')))\n            // resize the drag rectangle. as we are only resizing from the\n            // right, the x coordinate does not need to change\n            mouseNode.attr('height', this.height * mouseNodeMult)\n            rect.attr('height', this.height)\n            left.attr('height', this.height - dragbarWidth)\n            right.attr('height', this.height - dragbarWidth)\n\n            this.callbackManager.run('resize')\n          })\n\n    const bottom = newSel.append('rect')\n          .classed('drag-rect', true)\n          .attr('transform', d => 'translate(' + [ d.x + (dragbarWidth / 2), d.y + this.height - (dragbarWidth / 2) ] + ')')\n          .attr('height', dragbarWidth)\n          .attr('width', this.width - dragbarWidth)\n          .attr('cursor', 'ns-resize')\n          .classed('resize-rect', true)\n          .call(dragBottom)\n  }\n\n  sizeAndLocation () {\n    return {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    }\n  }\n}\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import {\n  brush as d3Brush,\n  brushSelection as d3BrushSelection\n} from 'd3-brush'\nimport { event } from 'd3-selection'\n\n/**\n * Define a brush to select elements in a map.\n * @param {D3 Selection} selection - A d3 selection to place the brush in.\n * @param {Boolean} is_enabled - Whether to turn the brush on.\n * @param {escher.Map} map - The map where the brush will be active.\n * @param {String} insert_after - A d3 selector string to choose the svg element\n *                                that the brush will be inserted after. Often a\n *                                canvas element (e.g. '.canvas-group').\n */\nexport default class Brush {\n  constructor (selection, isEnabled, map, insertAfter) {\n    this.brushSel = selection.append('g').attr('id', 'brush-container')\n    const node = this.brushSel.node()\n    const insertBeforeNode = selection.select(insertAfter).node().nextSibling\n    if (node !== insertBeforeNode) {\n      node.parentNode.insertBefore(node, insertBeforeNode)\n    }\n    this.enabled = isEnabled\n    this.map = map\n  }\n\n  /**\n   * Returns a boolean for the on/off status of the brush\n   * @return {Boolean}\n   */\n  brushIsEnabled () {\n    return this.map.sel.select('.brush').empty()\n  }\n\n  /**\n   * Turn the brush on or off\n   * @param {Boolean} on_off\n   */\n  toggle (onOff) {\n    if (onOff === undefined) {\n      onOff = !this.enabled\n    }\n    if (onOff) {\n      this.setupSelectionBrush()\n    } else {\n      this.brushSel.selectAll('*').remove()\n    }\n  }\n\n  /**\n   * Turn off the mouse crosshair\n   */\n  turnOffCrosshair (sel) {\n    sel.selectAll('rect').attr('cursor', null)\n  }\n\n  setupSelectionBrush () {\n    const map = this.map\n    const selection = this.brushSel\n    const selectableSelection = map.sel.selectAll('#nodes,#text-labels')\n    const sizeAndLocation = map.canvas.sizeAndLocation()\n    const width = sizeAndLocation.width\n    const height = sizeAndLocation.height\n    const x = sizeAndLocation.x\n    const y = sizeAndLocation.y\n    const turnOffCrosshair = this.turnOffCrosshair.bind(this)\n\n    // Clear existing brush\n    selection.selectAll('*').remove()\n\n    // Set a flag so we know that the brush is being cleared at the end of a\n    // successful brush\n    let clearingFlag = false\n\n    var brush = d3Brush()\n        .extent([ [ x, y ], [ x + width, y + height ] ])\n        .on('start', () => {\n          this.turnOffCrosshair(selection)\n          // unhide secondary metabolites if they are hidden\n          if (map.settings.get('hide_secondary_metabolites')) {\n            map.settings.set('hide_secondary_metabolites', false)\n            map.draw_everything()\n            map.set_status('Showing secondary metabolites. You can hide them ' +\n                           'again in Settings.', 2000)\n          }\n        })\n        .on('brush', function () {\n          const shiftKeyOn = event.sourceEvent.shiftKey\n          const rect = d3BrushSelection(this)\n          // Check for no selection (e.g. after clearing brush)\n          if (rect !== null) {\n            // When shift is pressed, ignore the currently selected nodes.\n            // Otherwise, brush all nodes.\n            var selection = shiftKeyOn\n                ? selectableSelection.selectAll('.node:not(.selected),.text-label:not(.selected)')\n                : selectableSelection.selectAll('.node,.text-label')\n            selection.classed('selected', d => {\n              const sx = d.x\n              const sy = d.y\n              return (rect[0][0] <= sx && sx < rect[1][0] &&\n                      rect[0][1] <= sy && sy < rect[1][1])\n            })\n          }\n        })\n        .on('end', function () {\n          turnOffCrosshair(selection)\n          // Clear brush\n          var rect = d3BrushSelection(this)\n          if (rect === null) {\n            if (clearingFlag) {\n              clearingFlag = false\n            } else {\n              // Empty selection, deselect all\n              map.select_none()\n            }\n          } else {\n            // Not empty, then clear the box\n            clearingFlag = true\n            selection.call(brush.move, null)\n          }\n        })\n\n    selection\n    // Initialize brush\n      .call(brush)\n\n    // Turn off the pan grab icons\n    turnOffCrosshair(selection)\n  }\n}\n","import PlacedDiv from './PlacedDiv'\n\n/**\n * TextEditInput\n */\nexport default class TextEditInput {\n  constructor (selection, map, zoomContainer) {\n    const div = selection.append('div')\n          .attr('id', 'text-edit-input')\n    this.placedDiv = PlacedDiv(div, map)\n    this.placedDiv.hide()\n    this.input = div.append('input')\n\n    this.map = map\n    this.setUpMapCallbacks(map)\n    this.zoomContainer = zoomContainer\n    this.setUpZoomCallbacks(zoomContainer)\n\n    this.isNew = false\n  }\n\n  setUpMapCallbacks (map) {\n    // Input\n    map.callback_manager.set('edit_text_label.text_edit_input', (target, coords) => {\n      this.show(target, coords)\n    })\n\n    // new text_label\n    map.callback_manager.set('new_text_label.text_edit_input', coords => {\n      if (this.activeTarget !== null) {\n        this._acceptChanges(this.activeTarget.target)\n      }\n      this.hide()\n      this._addAndEdit(coords)\n    })\n\n    map.callback_manager.set('hide_text_label_editor.text_edit_input', () => {\n      this.hide()\n    })\n  }\n\n  setUpZoomCallbacks (zoomContainer) {\n    zoomContainer.callbackManager.set('zoom.text_edit_input', () => {\n      if (this.activeTarget) {\n        this._acceptChanges(this.activeTarget.target)\n      }\n      if (this.is_visible()) {\n        this.hide()\n      }\n    })\n    zoomContainer.callbackManager.set('go_to.text_edit_input', () => {\n      if (this.activeTarget) {\n        this._acceptChanges(this.activeTarget.target)\n      }\n      if (this.is_visible()) {\n        this.hide()\n      }\n    })\n  }\n\n  is_visible () { // eslint-disable-line camelcase\n    return this.placedDiv.is_visible()\n  }\n\n  show (target, coords) {\n    // save any existing edit\n    if (this.activeTarget) {\n      this._acceptChanges(this.activeTarget.target)\n    }\n\n    // set the current target\n    this.activeTarget = { target, coords }\n\n    // set the new value\n    target.each(d => {\n      this.input.node().value = d.text\n    })\n\n    // place the input\n    this.placedDiv.place(coords)\n    this.input.node().focus()\n\n    // escape key\n    this.clearEscape = this.map.key_manager.addEscapeListener(() => {\n      this._acceptChanges(target)\n      this.hide()\n    }, true)\n    // enter key\n    this.clearEnter = this.map.key_manager.addEnterListener(() => {\n      this._acceptChanges(target)\n      this.hide()\n    }, true)\n  }\n\n  hide () {\n    this.isNew = false\n\n    // hide the input\n    this.placedDiv.hide()\n\n    // clear the value\n    this.input.attr('value', '')\n    this.activeTarget = null\n\n    // clear escape\n    if (this.clearEscape) this.clearEscape()\n    this.clearEscape = null\n    // clear enter\n    if (this.clearEnter) this.clearEnter()\n    this.clearEnter = null\n    // turn off click listener\n    // this.map.sel.on('click.', null)\n  }\n\n  _acceptChanges (target) {\n    const value = this.input.node().value\n    if (value === '') {\n      // Delete the label\n      target.each(d => {\n        const selected = {}\n        selected[d.text_label_id] = this.map.text_labels[d.text_label_id]\n        this.map.delete_selectable({}, selected, true)\n      })\n    } else {\n      // Set the text\n      const textLabelIds = []\n      target.each(d => {\n        this.map.edit_text_label(d.text_label_id, value, true, this.isNew)\n        textLabelIds.push(d.text_label_id)\n      })\n    }\n  }\n\n  _addAndEdit (coords) {\n    this.isNew = true\n\n    // Make an empty label\n    const textLabelId = this.map.new_text_label(coords, '')\n    // Apply the cursor to the new label\n    const sel = this.map.sel.select('#text-labels').selectAll('.text-label')\n          .filter(d => d.text_label_id === textLabelId)\n    sel.select('text').classed('edit-text-cursor', true)\n    this.show(sel, coords)\n  }\n}\n","/** @jsx h */\nimport { h, Component } from 'preact'\nimport ScaleSelector from './ScaleSelector'\nimport ScaleSlider from './ScaleSlider'\nimport ScaleSelection from './ScaleSelection'\nimport _ from 'underscore'\nimport './SettingsMenu.css'\nimport scalePresets from './scalePresets'\n\n/**\n * SettingsMenu. Handles the functions associated with the UI for changing\n * settings. Implements Settings.js but otherwise only uses\n * Preact.\n */\nclass SettingsMenu extends Component {\n  componentWillMount () {\n    this.props.settings.holdChanges()\n    this.setState({\n      clearEscape: this.props.map.key_manager.addEscapeListener(\n        () => this.abandonChanges(),\n        true\n      ),\n      clearEnter: this.props.map.key_manager.addKeyListener(\n        ['enter'],\n        () => this.saveChanges(),\n        true\n      )\n    })\n  }\n\n  componentWillUnmount () {\n    this.state.clearEscape()\n    this.state.clearEnter()\n  }\n\n  abandonChanges () {\n    this.props.settings.abandonChanges()\n    this.props.setDisplay(false)\n  }\n\n  saveChanges () {\n    this.props.settings.acceptChanges()\n    this.props.setDisplay(false)\n  }\n\n  /**\n   * Function to toggle one option in the reaction or metabolite styling.\n   * @param {String} value - the style option to be added or removed\n   * @param {String} type - reaction_style or metabolite_style\n   */\n  handleStyle (value, type) {\n    const currentSetting = this.props.settings.get(type)\n    const index = currentSetting.indexOf(value)\n    if (index === -1) {\n      this.props.settings.set(type, [...currentSetting, value])\n    } else {\n      this.props.settings.set(type, [\n        ...currentSetting.slice(0, index),\n        ...currentSetting.slice(index + 1)\n      ])\n    }\n  }\n\n  render () {\n    const settings = this.props.settings\n    const enableTooltips = settings.get('enable_tooltips') || []\n    const dataStatistics = this.props.map.get_data_statistics()\n\n    return (\n      <div className='settingsBackground'>\n        <div className='settingsBoxContainer'>\n          <button className='discardChanges btn' onClick={() => this.abandonChanges()}>\n            <i className='icon-cancel' aria-hidden='true' />\n          </button>\n          <button className='saveChanges btn' onClick={() => this.saveChanges()}>\n            <i className='icon-ok' aria-hidden='true' />\n          </button>\n          <div className='settingsBox'>\n            <div className='settingsTip'>\n              <i>Tip: Hover over an option to see more details about it.</i>\n            </div>\n            <hr />\n            <div className='title'>\n              View and build options\n            </div>\n            <div className='settingsContainer'>\n              <table className='radioSelection'>\n                <tr title='The identifiers that are show in the reaction, gene, and metabolite labels on the map.'>\n                  <td className='optionLabel'>Identifiers:</td>\n                  <td className='singleLine'>\n                    <label className='optionGroup'>\n                      <input\n                        type='radio'\n                        name='identifiers'\n                        onClick={() => { settings.set('identifiers_on_map', 'bigg_id') }}\n                        checked={settings.get('identifiers_on_map') === 'bigg_id'}\n                      />\n                      ID&apos;s\n                    </label>\n                    <label className='optionGroup'>\n                      <input\n                        type='radio'\n                        name='identifiers'\n                        onClick={() => { settings.set('identifiers_on_map', 'name') }}\n                        checked={settings.get('identifiers_on_map') === 'name'}\n                      />\n                      Descriptive names\n                    </label>\n                  </td>\n                </tr>\n              </table>\n              <label title='If checked, then the scroll wheel and trackpad will control zoom rather than pan.'>\n                <input\n                  type='checkbox'\n                  onClick={() => {\n                    if (settings.get('scroll_behavior') === 'zoom') {\n                      settings.set('scroll_behavior', 'pan')\n                    } else {\n                      settings.set('scroll_behavior', 'zoom')\n                    }\n                  }}\n                  checked={settings.get('scroll_behavior') === 'zoom'}\n                />\n                Scroll to zoom (instead of scroll to pan)\n              </label>\n              <label title='If checked, then only the primary metabolites will be displayed.'>\n                <input\n                  type='checkbox'\n                  onClick={() =>\n                    settings.set(\n                      'hide_secondary_metabolites',\n                      !settings.get('hide_secondary_metabolites')\n                    )\n                  }\n                  checked={settings.get('hide_secondary_metabolites')}\n                />\n                Hide secondary metabolites\n              </label>\n              <label\n                title='If checked, then gene reaction rules will be displayed below each reaction label. (Gene reaction rules are always shown when gene data is loaded.)'\n              >\n                <input\n                  type='checkbox'\n                  onClick={() =>\n                    settings.set(\n                      'show_gene_reaction_rules',\n                      !settings.get('show_gene_reaction_rules')\n                    )\n                  }\n                  checked={settings.get('show_gene_reaction_rules')}\n                  />\n                  Show gene reaction rules\n              </label>\n              <label title='If checked, hide all reaction, gene, and metabolite labels'>\n                <input\n                  type='checkbox'\n                  onClick={() =>\n                    settings.set(\n                      'hide_all_labels',\n                      !settings.get('hide_all_labels')\n                    )\n                  }\n                  checked={settings.get('hide_all_labels')}\n                />\n                Hide reaction, gene, and metabolite labels\n              </label>\n              <label title='If checked, then allow duplicate reactions during model building.'>\n                <input\n                  type='checkbox'\n                  onClick={() =>\n                    settings.set(\n                      'allow_building_duplicate_reactions',\n                      !settings.get('allow_building_duplicate_reactions')\n                    )\n                  }\n                  checked={settings.get('allow_building_duplicate_reactions')}\n                />\n                Allow duplicate reactions\n              </label>\n              <label title='If checked, then highlight in red all the reactions on the map that are not present in the loaded model.'>\n                <input\n                  type='checkbox'\n                  onClick={() => {\n                    settings.set(\n                      'highlight_missing',\n                      !settings.get('highlight_missing')\n                    )\n                  }}\n                  checked={settings.get('highlight_missing')}\n                />\n                Highlight reactions not in model\n              </label>\n              <label title='If true, then use CSS3 3D transforms to speed up panning and zooming.'>\n                <input\n                  type='checkbox'\n                  onClick={() => {\n                    settings.set(\n                      'use_3d_transform',\n                      !settings.get('use_3d_transform')\n                    )\n                  }}\n                  checked={settings.get('use_3d_transform')}\n                />\n                Use 3D transform for responsive panning and zooming\n              </label>\n              <table style={{marginTop: '5px'}}>\n                <tr title='Determines over which elements tooltips will display for reactions, metabolites, and genes'>\n                  <td>\n                      Show tooltips over:\n                  </td>\n                  <td className='singleLine' >\n                    <label className='tooltipOption' title='If checked, tooltips will display over the gene, reaction, and metabolite labels'>\n                      <input\n                        type='checkbox'\n                        onClick={() => {\n                          const type = 'label'\n                          const newEnableTooltips = _.contains(enableTooltips, type)\n                                                  ? _.filter(enableTooltips, x => x !== type)\n                                                  : [...enableTooltips, type]\n                          settings.set('enable_tooltips', newEnableTooltips)\n                        }}\n                        checked={_.contains(enableTooltips, 'label')}\n                      />\n                      Labels\n                    </label>\n                    <label className='tooltipOption' title='If checked, tooltips will display over the reaction line segments and metabolite circles'>\n                      <input\n                        type='checkbox'\n                        onClick={() => {\n                          const type = 'object'\n                          const newEnableTooltips = _.contains(enableTooltips, type)\n                                                  ? _.filter(enableTooltips, x => x !== type)\n                                                  : [...enableTooltips, type]\n                          settings.set('enable_tooltips', newEnableTooltips)\n                        }}\n                        checked={_.contains(enableTooltips, 'object')}\n                      />\n                      Objects\n                    </label>\n                  </td>\n                </tr>\n              </table>\n            </div>\n            <div className='settingsTip' style={{marginTop: '16px'}}>\n              <i>Tip: To increase map performance, turn off text boxes (i.e. labels and gene reaction rules).</i>\n            </div>\n            <hr />\n            <div className='scaleTitle'>\n              <div className='title'>\n                Reactions\n              </div>\n              <ScaleSelector disabled={dataStatistics.reaction === null}>\n                {Object.values(_.mapObject(scalePresets, (value, key) => {\n                  return (\n                    <ScaleSelection\n                      name={key}\n                      scale={value}\n                      onClick={() => {\n                        settings.set('reaction_scale_preset', key)\n                      }}\n                    />\n                  )\n                }))}\n              </ScaleSelector>\n            </div>\n            <ScaleSlider\n              scale={settings.get('reaction_scale')}\n              settings={settings}\n              type='Reaction'\n              stats={dataStatistics.reaction}\n              noDataColor={settings.get('reaction_no_data_color')}\n              noDataSize={settings.get('reaction_no_data_size')}\n              onChange={scale => {\n                settings.set('reaction_scale', scale)\n              }}\n              onNoDataColorChange={val => {\n                settings.set('reaction_no_data_color', val)\n              }}\n              onNoDataSizeChange={val => {\n                settings.set('reaction_no_data_size', val)\n              }}\n              abs={settings.get('reaction_styles').indexOf('abs') > -1}\n            />\n            <div className='subheading'>\n              Reaction or Gene data\n            </div>\n            <table className='radioSelection'>\n              <tr>\n                <td\n                  className='optionLabel'\n                  title='Options for reactions data'\n                >\n                Options:\n                </td>\n                <td>\n                  <label\n                    className='optionGroup'\n                    title='If checked, use the absolute value when calculating colors and sizes of reactions on the map'\n                  >\n                    <input\n                      type='checkbox'\n                      name='reactionStyle'\n                      onClick={() => this.handleStyle('abs', 'reaction_styles')}\n                      checked={_.contains(settings.get('reaction_styles'), 'abs')}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Absolute value\n                  </label>\n                  <label\n                    className='optionGroup'\n                    title='If checked, then size the thickness of reaction lines according to the value of the reaction data'\n                  >\n                    <input\n                      type='checkbox'\n                      name='reactionStyle'\n                      onClick={() => this.handleStyle('size', 'reaction_styles')}\n                      checked={_.contains(settings.get('reaction_styles'), 'size')}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Size\n                  </label>\n                  <label className='optionGroup' title='If checked, then color the reaction lines according to the value of the reaction data'>\n                    <input\n                      type='checkbox'\n                      name='reactionStyle'\n                      onClick={() => this.handleStyle('color', 'reaction_styles')}\n                      checked={_.contains(settings.get('reaction_styles'), 'color')}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Color\n                  </label>\n                  <br />\n                  <label className='optionGroup' title='If checked, then show data values in the reaction labels'>\n                    <input\n                      type='checkbox'\n                      name='reactionStyle'\n                      onClick={() => this.handleStyle('text', 'reaction_styles')}\n                      checked={_.contains(settings.get('reaction_styles'), 'text')}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Text (Show data in label)\n                  </label>\n                </td>\n              </tr>\n              <tr title='The function that will be used to compare datasets, when paired data is loaded'>\n                <td className='optionLabel'>Comparison:</td>\n                <td>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='reactionCompare'\n                      onClick={() => settings.set('reaction_compare_style', 'fold')}\n                      checked={settings.get('reaction_compare_style') === 'fold'}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Fold Change\n                  </label>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='reactionCompare'\n                      onClick={() => settings.set('reaction_compare_style', 'log2_fold')}\n                      checked={settings.get('reaction_compare_style') === 'log2_fold'}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Log2 (Fold Change)\n                  </label>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='reactionCompare'\n                      onClick={() => settings.set('reaction_compare_style', 'diff')}\n                      checked={settings.get('reaction_compare_style') === 'diff'}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Difference\n                  </label>\n                </td>\n              </tr>\n            </table>\n            <table className='radioSelection'>\n              <tr\n                title='The function that will be used to evaluate AND connections in gene reaction rules (AND connections generally connect components of an enzyme complex)'\n              >\n                <td className='optionLabelWide'>Method for evaluating AND:</td>\n                <td>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='andMethod'\n                      onClick={() => settings.set('and_method_in_gene_reaction_rule', 'mean')}\n                      checked={settings.get('and_method_in_gene_reaction_rule') === 'mean'}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Mean\n                  </label>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='andMethod'\n                      onClick={() => settings.set('and_method_in_gene_reaction_rule', 'min')}\n                      checked={settings.get('and_method_in_gene_reaction_rule') === 'min'}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Min\n                  </label>\n                </td>\n              </tr>\n            </table>\n            <hr />\n            <div className='scaleTitle'>\n              <div className='title'>\n                Metabolites\n              </div>\n              <ScaleSelector disabled={dataStatistics.metabolite === null}>\n                {Object.values(_.mapObject(scalePresets, (value, key) => {\n                  return (\n                    <ScaleSelection\n                      name={key}\n                      scale={value}\n                      onClick={() => settings.set('metabolite_scale', value)}\n                    />\n                  )\n                }))}\n              </ScaleSelector>\n            </div>\n            <ScaleSlider\n              scale={settings.get('metabolite_scale')}\n              settings={settings}\n              type='Metabolite'\n              stats={dataStatistics.metabolite}\n              noDataColor={settings.get('metabolite_no_data_color')}\n              noDataSize={settings.get('metabolite_no_data_size')}\n              onChange={scale => {\n                settings.set('metabolite_scale', scale)\n              }}\n              onNoDataColorChange={val => {\n                settings.set('metabolite_no_data_color', val)\n              }}\n              onNoDataSizeChange={val => {\n                settings.set('metabolite_no_data_size', val)\n              }}\n              abs={_.contains(settings.get('metabolite_styles'), 'abs')}\n            />\n            <div className='subheading'>\n              Metabolite data\n            </div>\n            <table className='radioSelection'>\n              <tr>\n                <td\n                  className='optionLabel'\n                  title='Options for metabolite data'\n                >\n                Options:\n                </td>\n                <td>\n                  <label\n                    className='optionGroup'\n                    title='If checked, use the absolute value when calculating colors and sizes of metabolites on the map'\n                  >\n                    <input\n                      type='checkbox'\n                      name='metaboliteStyle'\n                      onClick={() => this.handleStyle('abs', 'metabolite_styles')}\n                      checked={_.contains(settings.get('metabolite_styles'), 'abs')}\n                      disabled={dataStatistics.metabolite === null}\n                    />\n                    Absolute value\n                  </label>\n                  <label\n                    className='optionGroup'\n                    title='If checked, then size the thickness of reaction lines according to the value of the metabolite data'\n                  >\n                    <input\n                      type='checkbox'\n                      name='metaboliteStyle'\n                      onClick={() => this.handleStyle('size', 'metabolite_styles')}\n                      checked={_.contains(settings.get('metabolite_styles'), 'size')}\n                      disabled={dataStatistics.metabolite === null}\n                    />\n                    Size\n                  </label>\n                  <label className='optionGroup' title='If checked, then color the reaction lines according to the value of the metabolite data'>\n                    <input\n                      type='checkbox'\n                      name='metaboliteStyle'\n                      onClick={() => this.handleStyle('color', 'metabolite_styles')}\n                      checked={_.contains(settings.get('metabolite_styles'), 'color')}\n                      disabled={dataStatistics.metabolite === null}\n                    />\n                    Color\n                  </label>\n                  <br />\n                  <label className='optionGroup' title='If checked, then show data values in the metabolite labels'>\n                    <input\n                      type='checkbox'\n                      name='metaboliteStyle'\n                      onClick={() => this.handleStyle('text', 'metabolite_styles')}\n                      checked={_.contains(settings.get('metabolite_styles'), 'text')}\n                      disabled={dataStatistics.metabolite === null}\n                    />\n                    Text (Show data in label)\n                  </label>\n                </td>\n              </tr>\n              <tr title='The function that will be used to compare datasets, when paired data is loaded'>\n                <td className='optionLabel'>Comparison:</td>\n                <td>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='metaboliteCompare'\n                      onClick={() => settings.set('metabolite_compare_style', 'fold')}\n                      checked={settings.get('metabolite_compare_style') === 'fold'}\n                      disabled={dataStatistics.metabolite === null}\n                    />\n                    Fold Change\n                  </label>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='metaboliteCompare'\n                      onClick={() => settings.set('metabolite_compare_style', 'log2_fold')}\n                      checked={settings.get('metabolite_compare_style') === 'log2_fold'}\n                      disabled={dataStatistics.metabolite === null}\n                    />\n                    Log2 (Fold Change)\n                  </label>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='metaboliteCompare'\n                      onClick={() => settings.set('metabolite_compare_style', 'diff')}\n                      checked={settings.get('metabolite_compare_style') === 'diff'}\n                      disabled={dataStatistics.metabolite === null}\n                    />\n                    Difference\n                  </label>\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nexport default SettingsMenu\n","/** @jsx h */\n\nimport { h, Component } from 'preact'\n\nclass ScaleSelector extends Component {\n  constructor (props) {\n    super(props)\n    this.setWrapperRef = this.setWrapperRef.bind(this)\n    this.handleClickOutside = this.handleClickOutside.bind(this)\n    this.state = {\n      visible: false\n    }\n  }\n\n  componentDidMount () {\n    document.addEventListener('mouseup', this.handleClickOutside)\n  }\n\n  // Reference for hiding the menu when a mouse event happens outside\n  setWrapperRef (node) {\n    this.wrapperRef = node\n  }\n\n  handleClickOutside (event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.setState({visible: false})\n    }\n  }\n\n  render () {\n    return (\n      <div className='selector'>\n        <div\n          className={\n            [\n              'selectorTitle',\n              (this.props.disabled ? 'disabled' : '')\n            ].join(' ')\n          }\n          ref={this.setWrapperRef}\n          onClick={() => {\n            if (!this.props.disabled) {\n              this.setState({visible: !this.state.visible})\n            }\n          }}\n        >\n          Preset Scale Selections\n          <i className='icon-sort-down' />\n        </div>\n        <div\n          className='selectorMenu'\n          style={\n            this.state.visible\n            ? {display: 'block'}\n            : {display: 'none'}}\n          >\n          {this.props.children.map(listItem => {\n            return listItem\n          })}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ScaleSelector\n","/** @jsx h */\n\nimport { h, Component } from 'preact'\nimport Picker from './Picker'\nimport update from 'immutability-helper'\nimport _ from 'underscore'\n\nimport './ScaleSlider.css'\n\nconst TRACK_WIDTH = 400\n\nclass ScaleSlider extends Component {\n  /**\n   * Sorts the color scale for makeGradient\n   */\n  sortScale () {\n    const newScale = _.sortBy(this.props.scale, stop => {\n      if (stop.type === 'value') {\n        return stop.value\n      } else {\n        return this.props.stats[stop.type]\n      }\n    })\n    return newScale\n  }\n\n  /**\n   * Places the pickers as a percentage of the max\n   */\n  placePickers () {\n    const stats = this.props.stats\n\n    // Get min and max from scale stops too\n    const [ absoluteMin, absoluteMax ] = this.props.scale.reduce(\n      ([ curMin, curMax ], stop) => {\n        if (stop.type === 'value') {\n          return [ Math.min(stop.value, curMin), Math.max(stop.value, curMax) ]\n        } else {\n          return [ curMin, curMax ]\n        }\n      },\n      [ stats.min, stats.max ]\n    )\n\n    // Calculate positions\n    const pickerLocations = this.props.scale.map(stop => {\n      const value = stop.type === 'value' ? stop.value : stats[stop.type]\n      // normalize within min/max\n      return (value - absoluteMin) / (absoluteMax - absoluteMin)\n    })\n\n    return { pickerLocations, absoluteMax, absoluteMin }\n  }\n\n  /**\n   * Function enabling modification of any color scale attribute\n   * @param {number} index - index of the scale object to be modified\n   * @param {string} parameter - the parameter to be replaced\n   * @param {(number|string)} value - the new value of the parameter\n   */\n  scaleChange (index, parameter, value) {\n    let newScale = null\n    if (parameter === 'type' && value !== 'value') {\n      newScale = update(this.props.scale, {\n        [index]: {\n          [parameter]: {$set: value},\n          $unset: ['value']\n        }\n      })\n      this.props.onChange(newScale)\n    } else if (parameter === 'value' && this.props.scale[index].type !== 'value') {\n      newScale = update(this.props.scale, {\n        [index]: {\n          [parameter]: {$set: value},\n          'type': {$set: 'value'}\n        }\n      })\n      this.props.onChange(newScale)\n    } else if (value === 'value') {\n      newScale = update(this.props.scale, {\n        [index]: {\n          [parameter]: {$set: value},\n          $merge: {'value': this.props.stats[this.props.scale[index].type]}\n        }\n      })\n      this.props.onChange(newScale)\n    } else if (!isNaN(parseFloat(value)) || (value[0] === '#' && parameter === 'color')) {\n      newScale = update(this.props.scale, {\n        [index]: {\n          [parameter]: {$set: value}\n        }\n      })\n      this.props.onChange(newScale)\n    }\n  }\n\n  addColorStop (event) {\n    const newScale = update(this.props.scale, {\n      $push: [{\n        type: 'value',\n        value: event.layerX / event.target.clientWidth * this.props.stats.max +\n            (1 - event.layerX / event.target.clientWidth) * this.props.stats.min,\n        color: '#9696ff',\n        size: 20\n      }]\n    })\n    this.props.onChange(newScale)\n  }\n\n  /**\n   * Sorts and then returns a string that can be fed into the HTML linear-gradient style\n   */\n  makeGradient (min, max) {\n    const sortedScale = this.sortScale()\n    // Fix for when there is one or zero stops\n    const sortedScaleFix = (\n      sortedScale.length < 2\n      ? [{ type: 'min', color: '#f1ecfa' }, { type: 'max', color: '#f1ecfa' }]\n      : sortedScale\n    )\n    return sortedScaleFix.map(stop => {\n      const value = stop.type === 'value' ? stop.value : this.props.stats[stop.type]\n      return ` ${stop.color} ${(value - min) / (max - min) * 100}%`\n    }).toString()\n  }\n\n  removeColorStop (index) {\n    const newScale = update(this.props.scale, {$splice: [[[index], 1]]})\n    this.props.onChange(newScale)\n  }\n\n  render () {\n    // -------\n    // No data\n    // -------\n\n    // Check for data\n    if (!this.props.stats) {\n      return (\n        <div className='scaleEditor'>\n          <div>\n            <div\n              className='scaleTrack disabled'\n              style={{ width: TRACK_WIDTH }}\n            >\n              {this.props.type} data not loaded\n              <Picker location={0} trackWidth={TRACK_WIDTH} disabled />\n              <Picker location={1} trackWidth={TRACK_WIDTH} disabled />\n            </div>\n          </div>\n          <div className='scaleLabels'>\n            <label>Value:</label><label>Color:</label><label>Size:</label>\n          </div>\n          <div className='noDataStyle'>\n            <label className='styleHeader'>Styles for reactions with no data</label>\n            <br />\n            <label>Color:</label>\n            <input type='text' className='colorInput' disabled />\n            <input type='color' className='colorWheel' disabled />\n            <label>Size:</label>\n            <input type='text' className='sizeInput' disabled />\n          </div>\n        </div>\n      )\n    }\n\n    // --------\n    // Has data\n    // --------\n\n    const {\n      pickerLocations,\n      absoluteMax,\n      absoluteMin\n    } = this.placePickers()\n\n    // Create the pickers\n    const pickers = this.props.scale.map((stop, i) => {\n      if (stop.type !== 'value') {\n        return (\n          <Picker\n            trackWidth={TRACK_WIDTH}\n            type={stop.type}\n            location={pickerLocations[i]}\n            onChange={\n              (parameter, value) => this.scaleChange(i, parameter, value)\n            }\n            focus={() => this.setState({ focusedPicker: i })}\n            remove={() => this.removeColorStop(i)}\n            min={absoluteMin}\n            max={absoluteMax}\n            value={\n              this.props.stats[stop.type]\n            }\n            color={stop.color}\n            size={stop.size}\n            zIndex={this.state.focusedPicker === i ? '2' : '0'}\n            showTrash={this.props.scale.length >= 3}\n          />\n        )\n      } else if (stop.value != null) {  // Check for valid value type\n        return (\n          <Picker\n            trackWidth={TRACK_WIDTH}\n            type={stop.type}\n            location={pickerLocations[i]}\n            onChange={\n              (parameter, value) => this.scaleChange(i, parameter, value)\n            }\n            focus={() => this.setState({focusedPicker: i})}\n            remove={() => this.removeColorStop(i)}\n            min={absoluteMin}\n            max={absoluteMax}\n            value={stop.value}\n            color={stop.color}\n            size={stop.size}\n            zIndex={this.state.focusedPicker === i ? '2' : '0'}\n            showTrash={this.props.scale.length >= 3}\n          />\n        )\n      }\n    })\n\n    // Render everything\n    return (\n      <div className='scaleEditor'>\n        <div>\n          <i className='settingsTip'>To add a color stop to the scale, click the gradient</i>\n          <div\n            className='scaleTrack'\n            style={{width: TRACK_WIDTH}}\n          >\n            <div\n              className='gradient'\n              onClick={(event) => this.addColorStop(event)}\n              style={{\n                background: `linear-gradient(to right,${this.makeGradient(absoluteMin, absoluteMax)})`\n              }}\n            />\n            {pickers}\n          </div>\n        </div>\n        <div className='scaleLabels'>\n          <label>Value:</label><label>Color:</label><label>Size:</label>\n        </div>\n        <div className='noDataStyle'>\n          <label className='styleHeader'>Styles for reactions with no data</label>\n          <br />\n          <label>\n            Color:\n          </label>\n          <input\n            type='text'\n            className='colorInput'\n            value={this.props.noDataColor}\n            onInput={event => this.props.onNoDataColorChange(event.target.value)}\n          />\n          <input\n            type='color'\n            className='colorWheel'\n            value={this.props.noDataColor}\n            onInput={event => this.props.onNoDataColorChange(event.target.value)}\n          />\n          <label>\n            Size:\n          </label>\n          <input\n            type='text'\n            className='sizeInput'\n            value={this.props.noDataSize}\n            onInput={event => this.props.onNoDataSizeChange(parseFloat(event.target.value))}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ScaleSlider\n","/** @jsx h */\n\nimport { h, Component } from 'preact'\nimport { select as d3Select, event } from 'd3-selection'\nimport { drag as d3Drag } from 'd3-drag'\n\nimport './Picker.css'\n\nclass Picker extends Component {\n  setUpDrag () {\n    // Double check that the drag is not left over from a previous use of this\n    // node.\n    d3Select(this.base).select('.pickerBox').on('mousedown.drag', null)\n\n    if (!this.props.disabled) {\n      const drag = d3Drag()\n        .on('start', () => {\n          if (this.props.focus) this.props.focus()\n        })\n        .on('drag', () => {\n          // If it was not a value slider before, make it one\n          if (this.props.type !== 'value') {\n            if (this.props.onChange) this.props.onChange('type', 'value')\n          }\n\n          // New location\n          const newValue = (\n            this.props.value + (\n              (event.dx / this.props.trackWidth) *\n              (this.props.max - this.props.min)\n            )\n          )\n\n          // Don't go outside bar\n          const newLimValue = Math.max(\n            this.props.min,\n            Math.min(\n              this.props.max,\n              newValue\n            )\n          )\n\n          this.props.onChange('value', newLimValue)\n        })\n        .container(() => this.base.parentNode.parentNode)\n      d3Select(this.base).select('.pickerBox').call(drag)\n    }\n  }\n\n  componentDidUpdate () {\n    this.setUpDrag()\n  }\n\n  componentDidMount () {\n    this.setUpDrag()\n  }\n\n  render () {\n    return (\n      <div\n        className='picker'\n        style={{\n          left: `${this.props.location * this.props.trackWidth}px`,\n          zIndex: this.props.zIndex\n        }}\n      >\n        {this.props.showTrash &&\n          <div className='trashDiv'>\n            <i\n              className='icon-trash-empty'\n              aria-hidden='true'\n              onClick={() => {\n                if (this.props.remove) this.props.remove()\n              }}\n            />\n          </div>\n        }\n        <div\n          className='pickerBox'\n          onClick={() => {\n            if (this.props.focus) this.props.focus()\n          }}\n        />\n        <div\n          className={\n            [\n              'pickerOptions',\n              this.props.location > 0.8 ? 'rightOptions' : ''\n            ].join(' ')\n          }\n        >\n          <input\n            type='text'\n            className='option'\n            value={\n              this.props.disabled ? '' : (\n                this.props.type === 'value'\n                ? parseFloat(this.props.value.toFixed(2))\n                : `${this.props.type} (${parseFloat(this.props.value.toFixed(2))})`\n              )\n            }\n            disabled={this.props.disabled}\n            onInput={(event) => {\n              const newVal = parseFloat(event.target.value)\n              if (!isNaN(newVal)) this.props.onChange('value', newVal)\n            }}\n            onFocus={(event) => {\n              event.target.select()\n              if (this.props.focus) this.props.focus()\n            }}\n          />\n          <select\n            className='typePicker'\n            value={this.props.type}\n            onChange={(event) => {\n              if (this.props.onChange) this.props.onChange('type', event.target.value)\n            }}\n            disabled={this.props.disabled}\n            onFocus={(event) => {\n              if (this.props.focus) this.props.focus()\n            }}\n          >\n            <option value='value'>Value</option>\n            <option value='min'>Min</option>\n            <option value='mean'>Mean</option>\n            <option value='Q1'>Q1</option>\n            <option value='median'>Median</option>\n            <option value='Q3'>Q3</option>\n            <option value='max'>Max</option>\n          </select>\n          <div className='colorOptions'>\n            <input\n              type='text'\n              className='colorText'\n              onInput={(event) => {\n                if (this.props.onChange) this.props.onChange('color', event.target.value)\n              }}\n              onFocus={(event) => {\n                event.target.select()\n                if (this.props.focus) this.props.focus()\n              }}\n              value={this.props.color || ''}\n              disabled={this.props.disabled}\n            />\n            <input\n              type='color'\n              className='colorWheel'\n              onInput={(event) => {\n                if (this.props.onChange) this.props.onChange('color', event.target.value)\n              }}\n              onFocus={(event) => {\n                event.target.select()\n                if (this.props.focus) this.props.focus()\n              }}\n              value={this.props.color || ''}\n              disabled={this.props.disabled}\n            />\n          </div>\n          <input\n            type='text'\n            className='option'\n            onInput={(event) => {\n              if (this.props.onChange) this.props.onChange('size', parseInt(event.target.value))\n            }}\n            onFocus={(event) => {\n              event.target.select()\n              if (this.props.focus) this.props.focus()\n            }}\n            value={this.props.size}\n            disabled={this.props.disabled}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Picker\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./Picker.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./Picker.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./Picker.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".escher-container .picker {\\n  top: 35px;\\n  margin-left: -7px;\\n  position: absolute;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.escher-container .pickerBox {\\n  position: absolute;\\n  cursor: pointer;\\n  background: rgba(0, 0, 0, 0.375);\\n  width: 14px;\\n  height: 35px;\\n  top: -35px\\n}\\n\\n.escher-container .scaleTrack .rightOptions {\\n  position: absolute;\\n  left: -76px;\\n}\\n\\n.escher-container .pickerOptions {\\n  box-shadow: 0 2px 14px #c5c5c5;\\n  margin-top: 1px;\\n  display: inline-flex;\\n  flex-direction: column;\\n  width: 90px;\\n}\\n\\n.escher-container .pickerOptions * {\\n  font-size: 12px;\\n}\\n\\n.escher-container .pickerOptions .option {\\n  padding: 3px 0px;\\n}\\n\\n.escher-container .pickerOptions .typePicker {\\n  width: 20px;\\n  position: absolute;\\n  left: 70px;\\n  top: 1px;\\n  right: 0px;\\n  height: 14px;\\n  background-color: rgb(232, 232, 232);\\n}\\n\\n.escher-container .pickerOptions .colorOptions {\\n  display: inline-flex;\\n}\\n\\n.escher-container .colorOptions .colorText {\\n  padding: 3px 0px;\\n  width: 100%;\\n}\\n\\n.escher-container .colorOptions .colorWheel {\\n  padding: 0px;\\n  position: absolute;\\n  right: 0;\\n  height: 24px;\\n  width: 21px;\\n  border: 1px solid black;\\n}\\n\\n.escher-container .picker .trashDiv {\\n  position: absolute;\\n  top: -56px;\\n  font-size: 17px;\\n}\\n\\n.escher-container .picker .trashDiv * {\\n  font-size: 17px;\\n  cursor: pointer;\\n}\\n\\n.escher-container .picker .icon-trash-empty {\\n  margin: -5px;\\n}\\n\\n.escher-container .scaleEditor :disabled {\\n  background: #f1ecfa;\\n}\\n\\n.escher-container .scaleEditor input[type=color]:disabled {\\n  margin-top: 1px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","var invariant = require('invariant');\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar splice = Array.prototype.splice;\n\nvar toString = Object.prototype.toString\nvar type = function(obj) {\n  return toString.call(obj).slice(8, -1);\n}\n\nvar assign = Object.assign || /* istanbul ignore next */ function assign(target, source) {\n  getAllKeys(source).forEach(function(key) {\n    if (hasOwnProperty.call(source, key)) {\n      target[key] = source[key];\n    }\n  });\n  return target;\n};\n\nvar getAllKeys = typeof Object.getOwnPropertySymbols === 'function' ?\n  function(obj) { return Object.keys(obj).concat(Object.getOwnPropertySymbols(obj)) } :\n  /* istanbul ignore next */ function(obj) { return Object.keys(obj) };\n\n/* istanbul ignore next */\nfunction copy(object) {\n  if (Array.isArray(object)) {\n    return assign(object.constructor(object.length), object)\n  } else if (type(object) === 'Map') {\n    return new Map(object)\n  } else if (type(object) === 'Set') {\n    return new Set(object)\n  } else if (object && typeof object === 'object') {\n    var prototype = Object.getPrototypeOf(object);\n    return assign(Object.create(prototype), object);\n  } else {\n    return object;\n  }\n}\n\nfunction newContext() {\n  var commands = assign({}, defaultCommands);\n  update.extend = function(directive, fn) {\n    commands[directive] = fn;\n  };\n  update.isEquals = function(a, b) { return a === b; };\n\n  return update;\n\n  function update(object, spec) {\n    if (typeof spec === 'function') {\n      spec = { $apply: spec };\n    }\n\n    if (!(Array.isArray(object) && Array.isArray(spec))) {\n      invariant(\n        !Array.isArray(spec),\n        'update(): You provided an invalid spec to update(). The spec may ' +\n        'not contain an array except as the value of $set, $push, $unshift, ' +\n        '$splice or any custom command allowing an array value.'\n      );\n    }\n\n    invariant(\n      typeof spec === 'object' && spec !== null,\n      'update(): You provided an invalid spec to update(). The spec and ' +\n      'every included key path must be plain objects containing one of the ' +\n      'following commands: %s.',\n      Object.keys(commands).join(', ')\n    );\n\n    var nextObject = object;\n    var index, key;\n    getAllKeys(spec).forEach(function(key) {\n      if (hasOwnProperty.call(commands, key)) {\n        var objectWasNextObject = object === nextObject;\n        nextObject = commands[key](spec[key], nextObject, spec, object);\n        if (objectWasNextObject && update.isEquals(nextObject, object)) {\n          nextObject = object;\n        }\n      } else {\n        var nextValueForKey =\n          type(object) === 'Map'\n            ? update(object.get(key), spec[key])\n            : update(object[key], spec[key]);\n        var nextObjectValue =\n          type(nextObject) === 'Map'\n              ? nextObject.get(key)\n              : nextObject[key];\n        if (!update.isEquals(nextValueForKey, nextObjectValue) || typeof nextValueForKey === 'undefined' && !hasOwnProperty.call(object, key)) {\n          if (nextObject === object) {\n            nextObject = copy(object);\n          }\n          if (type(nextObject) === 'Map') {\n            nextObject.set(key, nextValueForKey);\n          } else {\n            nextObject[key] = nextValueForKey;\n          }\n        }\n      }\n    })\n    return nextObject;\n  }\n\n}\n\nvar defaultCommands = {\n  $push: function(value, nextObject, spec) {\n    invariantPushAndUnshift(nextObject, spec, '$push');\n    return value.length ? nextObject.concat(value) : nextObject;\n  },\n  $unshift: function(value, nextObject, spec) {\n    invariantPushAndUnshift(nextObject, spec, '$unshift');\n    return value.length ? value.concat(nextObject) : nextObject;\n  },\n  $splice: function(value, nextObject, spec, originalObject) {\n    invariantSplices(nextObject, spec);\n    value.forEach(function(args) {\n      invariantSplice(args);\n      if (nextObject === originalObject && args.length) nextObject = copy(originalObject);\n      splice.apply(nextObject, args);\n    });\n    return nextObject;\n  },\n  $set: function(value, nextObject, spec) {\n    invariantSet(spec);\n    return value;\n  },\n  $toggle: function(targets, nextObject) {\n    invariantSpecArray(targets, '$toggle');\n    var nextObjectCopy = targets.length ? copy(nextObject) : nextObject;\n\n    targets.forEach(function(target) {\n      nextObjectCopy[target] = !nextObject[target];\n    });\n\n    return nextObjectCopy;\n  },\n  $unset: function(value, nextObject, spec, originalObject) {\n    invariantSpecArray(value, '$unset');\n    value.forEach(function(key) {\n      if (Object.hasOwnProperty.call(nextObject, key)) {\n        if (nextObject === originalObject) nextObject = copy(originalObject);\n        delete nextObject[key];\n      }\n    });\n    return nextObject;\n  },\n  $add: function(value, nextObject, spec, originalObject) {\n    invariantMapOrSet(nextObject, '$add');\n    invariantSpecArray(value, '$add');\n    if (type(nextObject) === 'Map') {\n      value.forEach(function(pair) {\n        var key = pair[0];\n        var value = pair[1];\n        if (nextObject === originalObject && nextObject.get(key) !== value) nextObject = copy(originalObject);\n        nextObject.set(key, value);\n      });\n    } else {\n      value.forEach(function(value) {\n        if (nextObject === originalObject && !nextObject.has(value)) nextObject = copy(originalObject);\n        nextObject.add(value);\n      });\n    }\n    return nextObject;\n  },\n  $remove: function(value, nextObject, spec, originalObject) {\n    invariantMapOrSet(nextObject, '$remove');\n    invariantSpecArray(value, '$remove');\n    value.forEach(function(key) {\n      if (nextObject === originalObject && nextObject.has(key)) nextObject = copy(originalObject);\n      nextObject.delete(key);\n    });\n    return nextObject;\n  },\n  $merge: function(value, nextObject, spec, originalObject) {\n    invariantMerge(nextObject, value);\n    getAllKeys(value).forEach(function(key) {\n      if (value[key] !== nextObject[key]) {\n        if (nextObject === originalObject) nextObject = copy(originalObject);\n        nextObject[key] = value[key];\n      }\n    });\n    return nextObject;\n  },\n  $apply: function(value, original) {\n    invariantApply(value);\n    return value(original);\n  }\n};\n\nvar contextForExport = newContext();\n\nmodule.exports = contextForExport;\nmodule.exports.default = contextForExport;\nmodule.exports.newContext = newContext;\n\n// invariants\n\nfunction invariantPushAndUnshift(value, spec, command) {\n  invariant(\n    Array.isArray(value),\n    'update(): expected target of %s to be an array; got %s.',\n    command,\n    value\n  );\n  invariantSpecArray(spec[command], command)\n}\n\nfunction invariantSpecArray(spec, command) {\n  invariant(\n    Array.isArray(spec),\n    'update(): expected spec of %s to be an array; got %s. ' +\n    'Did you forget to wrap your parameter in an array?',\n    command,\n    spec\n  );\n}\n\nfunction invariantSplices(value, spec) {\n  invariant(\n    Array.isArray(value),\n    'Expected $splice target to be an array; got %s',\n    value\n  );\n  invariantSplice(spec['$splice']);\n}\n\nfunction invariantSplice(value) {\n  invariant(\n    Array.isArray(value),\n    'update(): expected spec of $splice to be an array of arrays; got %s. ' +\n    'Did you forget to wrap your parameters in an array?',\n    value\n  );\n}\n\nfunction invariantApply(fn) {\n  invariant(\n    typeof fn === 'function',\n    'update(): expected spec of $apply to be a function; got %s.',\n    fn\n  );\n}\n\nfunction invariantSet(spec) {\n  invariant(\n    Object.keys(spec).length === 1,\n    'Cannot have more than one key in an object with $set'\n  );\n}\n\nfunction invariantMerge(target, specValue) {\n  invariant(\n    specValue && typeof specValue === 'object',\n    'update(): $merge expects a spec of type \\'object\\'; got %s',\n    specValue\n  );\n  invariant(\n    target && typeof target === 'object',\n    'update(): $merge expects a target of type \\'object\\'; got %s',\n    target\n  );\n}\n\nfunction invariantMapOrSet(target, command) {\n  var typeOfTarget = type(target);\n  invariant(\n    typeOfTarget === 'Map' || typeOfTarget === 'Set',\n    'update(): %s expects a target of type Set or Map; got %s',\n    command,\n    typeOfTarget\n  );\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./ScaleSlider.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./ScaleSlider.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./ScaleSlider.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".escher-container .scaleEditor * {\\n  font-size: 12px;\\n  color: #777;\\n  box-sizing: border-box;\\n}\\n\\n.escher-container .scaleEditor {\\n  position: relative;\\n  display: flex;\\n  justify-content: center;\\n  flex-direction: column;\\n}\\n\\n.escher-container .scaleTrack {\\n  position: relative;\\n  display: flex;\\n  height: 30px;\\n  margin-bottom: 9px;\\n  margin-top: 30px;\\n  margin-left: 55px;\\n  font-size: 15px;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.escher-container .scaleTrack.disabled {\\n  background: #f1ecfa;\\n  color: #b19ec0;\\n  padding: 4px 0;\\n  justify-content: center;\\n}\\n\\n.escher-container .gradient {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  cursor: pointer;\\n}\\n\\n.escher-container .scaleLabels {\\n  display: inline-flex;\\n  flex-direction: column;\\n  font-size: 12px;\\n}\\n\\n.escher-container .scaleLabels label {\\n  margin-bottom: 6px;\\n}\\n\\n.escher-container .noDataStyle {\\n  position: relative;\\n  margin-top: 20px;\\n}\\n\\n.escher-container .noDataStyle .styleHeader {\\n  font-size: 12px;\\n  font-weight: bold;\\n}\\n\\n.escher-container .noDataStyle label {\\n  margin-right: 5px;\\n}\\n\\n.escher-container .noDataStyle input[type=text] {\\n  margin-right: 10px;\\n  padding: 3px 0px;\\n  width: 86px;\\n}\\n\\n.escher-container .noDataStyle input[type=color] {\\n  position: absolute;\\n  padding: 0px;\\n  border: 1px solid black;\\n  left: 103px;\\n  height: 24px;\\n  width: 21px;\\n}\\n\\n.escher-container .scaleEditor .icon-plus {\\n  cursor: pointer;\\n  position: absolute;\\n  font-size: 14px;\\n  right: 19px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/** @jsx h */\nimport {h, Component} from 'preact'\n\nclass ScaleSelection extends Component {\n  constructor (props) {\n    super(props)\n    const colors = []\n    if (props.scale) {\n      for (let i = 0; i < props.scale.length; i++) {\n        colors.push(props.scale[i].color)\n      }\n    }\n    this.state = {\n      colors\n    }\n  }\n  render () {\n    return (\n      <div className='scaleSelection' onClick={() => this.props.onClick()}>\n        <div>\n          {this.props.name}\n        </div>\n        <div className='scaleColors'>\n          {this.state.colors.map(color => {\n            return <i className='icon-blank' style={{color: color}} />\n          })}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ScaleSelection\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./SettingsMenu.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./SettingsMenu.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./SettingsMenu.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".escher-container .settingsBackground {\\n  box-sizing: border-box;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 9;\\n  background: rgba(0,0,0,.4);\\n  padding: 5% 0 80px;\\n  text-align: center;\\n}\\n\\n.escher-container .scale-editor .domain-input {\\n  color: #333;\\n}\\n\\n.escher-container .settingsBoxContainer button {\\n  position: absolute;\\n  top: 5px;\\n  right: 20px;\\n  z-index: 10;\\n  text-align: center;\\n  vertical-align: middle;\\n  font-weight: normal!important;\\n  width: 34px;\\n  height: 30px;\\n  margin: 0;\\n  padding: unset;\\n  font-size: 14px!important;\\n  border-radius: 3px;\\n  -ms-touch-action: none;\\n  touch-action: none;\\n}\\n\\n.escher-container .settingsBoxContainer button:active {\\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\\n}\\n\\n.escher-container .settingsBoxContainer .discardChanges {\\n  right: 60px;\\n}\\n\\n.escher-container .settingsBoxContainer {\\n  color: rgb(119, 119, 119);\\n  display: inline-block;\\n  position: relative;\\n  width: 90%;\\n  max-width: 520px;\\n  height: 100%;\\n  z-index: 10;\\n}\\n\\n.escher-container .settingsBox {\\n  font-size: 13px;\\n  box-sizing: border-box;\\n  display: inline-block;\\n  max-height: 100%;\\n  width: 100%;\\n  overflow-y: scroll;\\n  overflow-x: hidden;\\n  background: rgba(255, 255, 255, 0.953);\\n  padding: 8px;\\n  margin: 0;\\n  border: 1px solid #ddd;\\n  text-align: left;\\n}\\n\\n.escher-container .settingsBox * {\\n  box-sizing: border-box;\\n}\\n\\n.escher-container .settingsBox .title {\\n  font-size: 17px;\\n  font-weight: 700;\\n  color: #777777;\\n}\\n\\n.escher-container .settingsBox .subheading {\\n  font-size: 13px;\\n  font-weight: 700;\\n  margin-top: 15px;\\n  color: #777777;\\n}\\n\\n.escher-container .settingsBox table {\\n  border-collapse: collapse;\\n}\\n\\n.escher-container .settingsBox label {\\n  display: inline;\\n}\\n\\n.escher-container .settingsBox .radioSelection {\\n  cursor: default;\\n}\\n\\n.escher-container .radioSelection td {\\n  padding: 3px 5px;\\n}\\n\\n.escher-container .radioSelection input[type=radio] {\\n  margin: 0;\\n  margin-top: 4px;\\n  margin-right: 4px;\\n}\\n\\n.escher-container .radioSelection .optionLabel {\\n  width: 88px;\\n}\\n\\n.escher-container .radioSelection .optionLabelWide {\\n  width: 192px;\\n}\\n\\n.escher-container .radioSelection .optionGroup {\\n  margin-right: 10px\\n}\\n\\n.escher-container .settingsBox .singleLine {\\n  display: flex;\\n}\\n\\n.escher-container .settingsContainer label {\\n  display: block;\\n  margin-bottom: 0;\\n}\\n\\n.escher-container .settingsBoxContainer input[type=checkbox] {\\n  margin: 0;\\n  margin-top: 4px;\\n  margin-right: 4px;\\n}\\n\\n.escher-container .settingsTip {\\n  font-size: 13px;\\n}\\n\\n.escher-container .settingsBoxContainer hr {\\n  margin: 18px 0;\\n  border: 0;\\n  border-top: 1px solid #dddddd;\\n}\\n\\n.escher-container .scaleTitle {\\n  margin-top: 15px;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.escher-container .selector {\\n  position: relative;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n  padding-top: 2px;\\n}\\n\\n.escher-container .selectorTitle {\\n  background-color: white;\\n  border: 1px solid #a9a9a9;\\n  padding-left: 4px;\\n  cursor: default;\\n  width: 162px;\\n}\\n\\n.escher-container .selectorTitle:hover:not(.disabled) {\\n  border-color: black;\\n}\\n\\n.escher-container .selectorTitle.disabled {\\n  background-color: #f1ecfa;\\n}\\n\\n.escher-container .selectorMenu {\\n  position: absolute;\\n  z-index: 4;\\n  background-color: white;\\n  border: 1px solid #a9a9a9;\\n  min-width: 162px;\\n}\\n\\n.escher-container .scaleSelection {\\n  cursor: default;\\n  padding: 0 6px;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.escher-container .scaleSelection:hover {\\n  background-color: dodgerblue;\\n  color: white;\\n}\\n\\n.escher-container .settingsBox .icon-sort-down {\\n  position: absolute;\\n  top: 0;\\n}\\n\\n.escher-container .settingsBox .tooltipOption {\\n  margin-left: 10px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/** @jsx h */\nimport { h, Component } from 'preact'\nimport Dropdown from './Dropdown'\nimport MenuButton from './MenuButton'\n\n/**\n * MenuBar implements generic Dropdown and MenuButton objects to create the\n * Builder menu bar. Currently re-renders every time an edit mode is chosen.\n * This can be changed once Builder is ported to Preact.\n */\nclass MenuBar extends Component {\n  componentWillMount () {\n    this.props.sel.selectAll('.escher-zoom-container')\n        .on('touchend.menuBar', () => this.setState({ dropdownVisible: false }))\n        .on('click.menuBar', () => this.setState({ dropdownVisible: false }))\n  }\n\n  componentWillUnmount () {\n    this.props.sel.selectAll('.escher-zoom-container')\n        .on('touchend.menuBar', null)\n        .on('click.menuBar', null)\n  }\n\n  render () {\n    const enableKeys = this.props.settings.get('enable_keys')\n    const disabledButtons = this.props.settings.get('disabled_buttons')\n    const beziersEnabled = this.props.map.beziers_enabled\n    const fullScreenButtonEnabled = this.props.settings.get('full_screen_button')\n\n    return (\n      <ul className='menu-bar'>\n        <Dropdown name='Map' dropdownVisible={this.props.dropdownVisible}>\n          <MenuButton\n            name={'Save map JSON' + (enableKeys ? ' (Ctrl+S)' : '')}\n            onClick={() => this.props.saveMap()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Load map JSON' + (enableKeys ? ' (Ctrl+O)' : '')}\n            onClick={file => this.props.loadMap(file)}\n            assignKey={this.props.assignKeyLoadMap}\n            type='load'\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Export as SVG' + (enableKeys ? ' (Ctrl+Shift+S)' : '')}\n            onClick={() => this.props.save_svg()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Export as PNG' + (enableKeys ? ' (Ctrl+Shift+P)' : '')}\n            onClick={() => this.props.save_png()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name='Clear map'\n            onClick={() => this.props.clear_map()}\n            disabledButtons={disabledButtons}\n          />\n        </Dropdown>\n        <Dropdown name='Model' dropdownVisible={this.props.dropdownVisible}>\n          <MenuButton\n            name={'Load COBRA model JSON' + (enableKeys ? ' (Ctrl+M)' : '')}\n            onClick={file => this.props.loadModel(file)}\n            assignKey={this.props.assignKeyLoadModel}\n            type='load'\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name='Update names and gene reaction rules using model'\n            onClick={() => this.props.updateRules()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name='Clear model'\n            onClick={() => this.props.clearModel()}\n            disabledButtons={disabledButtons}\n          />\n        </Dropdown>\n        <Dropdown name='Data' dropdownVisible={this.props.dropdownVisible}>\n          <MenuButton\n            name='Load reaction data'\n            onClick={d => this.props.setReactionData(d)}\n            type='load'\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name='Clear reaction data'\n            onClick={() => this.props.clearReactionData()}\n            disabledButtons={disabledButtons}\n          />\n          <li name='divider' />\n          <MenuButton\n            name='Load gene data'\n            onClick={d => this.props.setGeneData(d)}\n            type='load'\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name='Clear gene data'\n            onClick={() => this.props.clearGeneData()}\n            disabledButtons={disabledButtons}\n          />\n          <li name='divider' />\n          <MenuButton\n            name='Load metabolite data'\n            onClick={d => this.props.setMetaboliteData(d)}\n            type='load'\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name='Clear metabolite data'\n            onClick={() => this.props.clearMetaboliteData()}\n            disabledButtons={disabledButtons}\n          />\n        </Dropdown>\n        <Dropdown\n          name='Edit'\n          rightMenu='true'\n          dropdownVisible={this.props.dropdownVisible}\n          disabledEditing={!this.props.settings.get('enable_editing')}\n        >\n          <MenuButton\n            name={'Pan mode' + (enableKeys ? ' (Z)' : '')}\n            checkMark={this.props.mode === 'zoom'}\n            onClick={() => this.props.setMode('zoom')}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Select mode' + (enableKeys ? ' (V)' : '')}\n            checkMark={this.props.mode === 'brush'}\n            onClick={() => this.props.setMode('brush')}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Add reaction mode' + (enableKeys ? ' (N)' : '')}\n            checkMark={this.props.mode === 'build'}\n            onClick={() => this.props.setMode('build')}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Rotate mode' + (enableKeys ? ' (R)' : '')}\n            checkMark={this.props.mode === 'rotate'}\n            onClick={() => this.props.setMode('rotate')}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Text mode' + (enableKeys ? ' (T)' : '')}\n            checkMark={this.props.mode === 'text'}\n            onClick={() => this.props.setMode('text')}\n            disabledButtons={disabledButtons}\n          />\n          <li name='divider' />\n          <MenuButton\n            name={'Delete' + (enableKeys ? ' (Del)' : '')}\n            onClick={() => this.props.deleteSelected()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Undo' + (enableKeys ? ' (Ctrl+Z)' : '')}\n            onClick={() => this.props.undo()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Redo' + (enableKeys ? ' (Ctrl+Shift+Z)' : '')}\n            onClick={() => this.props.redo()}\n            disabledButtons={disabledButtons}\n          />\n          <li name='divider' />\n          <MenuButton\n            name={`Align vertical${enableKeys ? ' (Alt+L)' : ''}`}\n            onClick={this.props.align_vertical}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={`Align horizontal${enableKeys ? ' (Shift+Alt+L)' : ''}`}\n            onClick={this.props.align_horizontal}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Toggle primary/secondary' + (enableKeys ? ' (P)' : '')}\n            onClick={() => this.props.togglePrimary()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Rotate reactant locations' + (enableKeys ? ' (C)' : '')}\n            onClick={() => this.props.cyclePrimary()}\n            disabledButtons={disabledButtons}\n          />\n          <li name='divider' />\n          <MenuButton\n            name={'Select all' + (enableKeys ? ' (Ctrl+A)' : '')}\n            onClick={() => this.props.selectAll()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Select none' + (enableKeys ? ' (Ctrl+Shift+A)' : '')}\n            onClick={() => this.props.selectNone()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name='Invert selection'\n            onClick={() => this.props.invertSelection()}\n            disabledButtons={disabledButtons}\n          />\n        </Dropdown>\n        <Dropdown name='View' rightMenu='true' dropdownVisible={this.props.dropdownVisible}>\n          <MenuButton\n            name={`Zoom in${enableKeys ? ' (+)' : ''}`}\n            onClick={() => this.props.zoom_in()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={`Zoom out${enableKeys ? ' (-)' : ''}`}\n            onClick={() => this.props.zoom_out()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={`Zoom to nodes${enableKeys ? ' (0)' : ''}`}\n            onClick={() => this.props.zoomExtentNodes()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={`Zoom to canvas${enableKeys ? ' (1)' : ''}`}\n            onClick={() => this.props.zoomExtentCanvas()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={`Find${enableKeys ? ' (F)' : ''}`}\n            onClick={() => this.props.search()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={`${beziersEnabled ? 'Hide' : 'Show'} control points${enableKeys ? ' (B)' : ''}`}\n            onClick={() => this.props.toggleBeziers()}\n            disabledButtons={disabledButtons}\n          />\n          <li name='divider' />\n          {/* TODO use preact X to combine the following 2 blocks */}\n          {fullScreenButtonEnabled &&\n            <MenuButton\n              name={'Full screen'}\n              onClick={() => this.props.full_screen()}\n              checkMark={this.props.isFullScreen}\n              disabledButtons={disabledButtons}\n            />\n          }\n          {fullScreenButtonEnabled &&\n            <li name='divider' />\n          }\n          <MenuButton\n            name={`Settings${enableKeys ? ' (,)' : ''}`}\n            onClick={() => this.props.renderSettingsMenu()}\n            disabledButtons={disabledButtons}\n            type='settings'\n          />\n        </Dropdown>\n        <a className='helpButton' target='#' href='https://escher.readthedocs.org'>?</a>\n      </ul>\n    )\n  }\n}\n\nexport default MenuBar\n","/**\n * Dropdown. Handles the behavior of the menu bar and the dropdowns. Composed of\n * a menu button and a corresponding menu that displays when the button is\n * clicked.\n */\n\n/** @jsx h */\nimport { h, Component } from 'preact'\nimport './Dropdown.css'\n\nclass Dropdown extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      visible: null\n    }\n    this.setWrapperRef = this.setWrapperRef.bind(this)\n    this.handleClickOutside = this.handleClickOutside.bind(this)\n  }\n\n  componentWillMount () {\n    this.setState({\n      visible: false\n    })\n  }\n\n  componentDidMount () {\n    document.addEventListener('mouseup', this.handleClickOutside)\n  }\n\n  componentWillReceiveProps (nextProps) {\n    this.setState({visible: nextProps.visible})\n  }\n\n  setWrapperRef (node) {\n    this.wrapperRef = node\n  }\n\n  handleClickOutside (event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.setState({visible: false})\n    }\n  }\n\n  render () {\n    return (\n      <li\n        className='dropdown'\n        style={this.props.disabledEditing\n          ? {display: 'none'}\n          : {display: 'block'}\n        }\n      >\n        <div\n          className='dropdownButton'\n          tabindex='0'\n          ref={this.setWrapperRef}\n          onClick={() => this.setState({visible: !this.state.visible})}\n        >\n          {this.props.name}&nbsp;\n          <i className='icon-sort-down' />\n        </div>\n        <ul\n          className='menu'\n          style={this.state.visible\n            ? {display: 'block'}\n            : {display: 'none'}}\n          id={this.props.rightMenu === 'true' ? 'rightMenu' : ''}\n        >\n          {this.props.children.map((listItem) => {\n            if (listItem && listItem.attributes.name === 'divider') {\n              return (\n                <li\n                  style={{\n                    height: '1px',\n                    backgroundColor: '#e5e5e5',\n                    padding: '0',\n                    margin: '8px 0'\n                  }}\n                />\n              )\n            } else {\n              return listItem\n            }\n          })}\n        </ul>\n      </li>\n    )\n  }\n}\n\nexport default Dropdown\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./Dropdown.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./Dropdown.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./Dropdown.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".escher-container .menu-bar {\\n  box-sizing: border-box;\\n  list-style-type: none;\\n  padding: 0;\\n  padding-right: 20px;\\n  position: relative;\\n  margin: 5px 0px;\\n  background-color: white;\\n  border: 1px solid #ddd;\\n  display: inline-flex;\\n  box-sizing: border-box;\\n  width: 100%;\\n  justify-content: space-between;\\n}\\n\\n.escher-container .dropdown {\\n  position: relative;\\n  float: left;\\n  box-sizing: border-box;\\n  font-size: 12px;\\n  border-radius: 3px;\\n\\n  /* these sometimes get overridden */\\n  margin: 0 !important;\\n  font-weight: normal !important;\\n\\n  text-align: center;\\n  vertical-align: middle;\\n  -ms-touch-action: none;\\n  touch-action: none;\\n  cursor: pointer;\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -khtml-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.escher-container .dropdownButton {\\n  color: #d9230f!important;\\n  border: 1px solid transparent;\\n  padding: 6px 9px;\\n}\\n\\n.escher-container .helpButton {\\n  color: #d9230f!important;\\n  padding: 0px 5px;\\n  background-color: #f5f5f5!important;\\n  border: 0!important;\\n  text-decoration: unset;\\n  height: fit-content;\\n  position: absolute;\\n  right: 0;\\n  font-size: 12px;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.escher-container .dropdownButton:focus, .escher-container .helpButton:focus {\\n  color: #91170a!important;\\n  text-decoration: underline;\\n}\\n\\n.escher-container .dropdownButton:hover, .escher-container .helpButton:hover {\\n  color: #91170a!important;\\n  text-decoration: underline;\\n}\\n\\n.escher-container .menu-bar .icon-sort-down {\\n  position: absolute;\\n  font-size: 10px;\\n  margin-left: -5px;\\n}\\n\\n@media (min-width: 550px) {\\n  .escher-container .menu-bar {\\n    padding-right: 25px;\\n  }\\n\\n  .escher-container .dropdown {\\n    font-size: 18px;\\n  }\\n\\n  .escher-container .dropdownButton {\\n    padding: 6px 10px;\\n    padding-right: 16px;\\n  }\\n\\n  .escher-container .helpButton {\\n    font-size: 16px;\\n  }\\n\\n  .escher-container .menu-bar .icon-sort-down {\\n    font-size: 14px;\\n  }\\n}\\n\\n.escher-container .menu {\\n  box-sizing: border-box;\\n  font-weight: normal!important;\\n  word-spacing: 0;\\n  position: absolute;\\n  white-space: nowrap;\\n  top: 103%;\\n  left: -1%;\\n  z-index: 1000;\\n  display: block;\\n  float: none;\\n  min-width: 160px;\\n  padding: 5px 0;\\n  list-style: none;\\n  font-size: 13px;\\n  box-shadow: 0 6px 12px rgba(0,0,0,0.175);\\n  background-clip: padding-box;\\n  border: 1px solid #ddd;\\n  background-color: rgba(255, 255, 255, 0.95);\\n  border-radius: 0;\\n  margin: 0;\\n  text-align: left;\\n}\\n\\n.escher-container #rightMenu {\\n  left: auto;\\n  right: -2%;\\n}\\n\\n.escher-container .menu li:hover {\\n  background-color: #d9230f;\\n  color: #FFFFFF;\\n}\\n\\n.escher-container .menu li, .menu label {\\n  font-size: 15px;\\n  display: block;\\n  color: #444444;\\n\\n  /* these sometimes get overridden */\\n  font-weight: normal !important;\\n  margin: 0 !important;\\n}\\n\\n.escher-container .menu.ul.li {\\n  background-color: rgba(255, 255, 255, 0.95);\\n}\\n\\n.escher-container .menuButton {\\n  box-sizing: border-box;\\n  width: 100%;\\n  padding: 5px 20px;\\n  margin: 0;\\n  cursor: pointer;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.escher-container label:focus, .menuButton:focus {\\n  background-color: #d9230f;\\n  color: #FFFFFF;\\n}\\n\\n.escher-container .menuButton:hover {\\n  background-color: #d9230f;\\n  color: #FFFFFF;\\n}\\n\\n.escher-container input[type=\\\"file\\\"] {\\n  display: none;\\n}\\n\\n.escher-container #disabled {\\n  color: #e0e0e0;\\n}\\n\\n.escher-container #disabled:hover, #disabled:focus {\\n  background-color: rgba(255, 255, 255, 0.95);\\n  cursor: default;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/**\n * MenuButton. Handles the individual menu items within the Dropdown menus.\n * Takes in a name and a function and binds the function to a button. If the\n * type prop is defined as 'load' will instead render a label with an attached\n * hidden input[file] element.\n */\n\n/** @jsx h */\nimport { h, Component } from 'preact'\nimport _ from 'underscore'\nimport utils from './utils'\nimport * as dataStyles from './dataStyles'\n\nclass MenuButton extends Component {\n  constructor (props) {\n    super(props)\n    this.assignKeyForInput = this.assignKeyForInput.bind(this)\n  }\n\n  handleFileInput (target) {\n    const file = target.files[0]\n    const reader = new window.FileReader()\n    reader.onload = () => {\n      utils.load_json_or_csv(file, dataStyles.csv_converter, (e, d) => this.props.onClick(d))\n    }\n    if (file !== undefined) {\n      reader.readAsText(file)\n    }\n    // reset input\n    target.value = null\n  }\n\n  assignKeyForInput (node) {\n    if (this.props.assignKey) {\n      this.props.assignKey(() => node.click())\n    }\n  }\n\n  render () {\n    const disabled = _.contains(this.props.disabledButtons, this.props.name.replace(/ \\(.*\\)$/, ''))\n    if (this.props.type === 'load') {\n      return (\n        <label\n          className='menuButton'\n          tabindex={disabled ? '-1' : '0'}\n          id={disabled ? 'disabled' : ''}\n        >\n          <input\n            type='file'\n            onChange={event => this.handleFileInput(event.target)}\n            disabled={disabled}\n            ref={this.assignKeyForInput}\n          />\n          {this.props.name}\n        </label>\n      )\n    } else if (this.props.checkMark) {\n      return (\n        <li\n          className='menuButton'\n          tabindex={disabled ? '-1' : '0'}\n          onClick={this.props.onClick}\n          id={disabled ? 'disabled' : ''}\n        >\n          <i className='icon-ok' aria-hidden='true'>&nbsp;</i>\n          {this.props.name}\n        </li>\n      )\n    } else {\n      return (\n        <li\n          className='menuButton'\n          tabindex={disabled ? '-1' : '0'}\n          onClick={disabled ? null : this.props.onClick}\n          id={disabled ? 'disabled' : ''}\n        >\n          {this.props.name}\n        </li>\n      )\n    }\n  }\n}\n\nexport default MenuButton\n","/** SearchBar */\n\n/** @jsx h */\nimport { h, Component } from 'preact'\nimport './SearchBar.css'\nimport _ from 'underscore'\n\nclass SearchBar extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      current: 0,\n      searchItem: props.searchItem,\n      counter: ''\n    }\n  }\n\n  componentWillMount () {\n    this.setState({\n      clearEscape: this.props.map.key_manager.addEscapeListener(\n        () => this.close(),\n        true\n      ),\n      clearNext: this.props.map.key_manager.addKeyListener(\n        ['enter', 'ctrl+g'],\n        () => this.next(),\n        false\n      ),\n      clearPrevious: this.props.map.key_manager.addKeyListener(\n        ['shift+enter', 'shift+ctrl+g'],\n        () => this.previous(),\n        false\n      )\n    })\n  }\n\n  componentDidMount () {\n    this.inputRef.focus()\n  }\n\n  componentWillUnmount () {\n    this.state.clearEscape()\n    this.state.clearNext()\n    this.state.clearPrevious()\n    this.props.map.highlight(null)\n  }\n\n  /**\n   * Updates map focus and search bar counter when new search term is entered.\n   * @param {string} value - Search term\n   */\n  handleInput (value) {\n    const results = this.dropDuplicates(this.props.map.search_index.find(value))\n    let counter = ''\n    if (results === null || !value) {\n      this.props.map.highlight(null)\n    } else if (results.length === 0) {\n      counter = '0 / 0'\n      this.props.map.highlight(null)\n    } else {\n      // Catches case where new search term shortens results to less than current index\n      if (this.state.current >= results.length) {\n        this.setState({\n          current: 0\n        })\n      }\n      counter = `${this.state.current + 1}/${results.length}`\n      const r = results[this.state.current]\n      if (r.type === 'reaction') {\n        this.props.map.zoom_to_reaction(r.reaction_id)\n        this.props.map.highlight_reaction(r.reaction_id)\n      } else if (r.type === 'metabolite') {\n        this.props.map.zoom_to_node(r.node_id)\n        this.props.map.highlight_node(r.node_id)\n      } else if (r.type === 'text_label') {\n        this.props.map.zoom_to_text_label(r.text_label_id)\n        this.props.map.highlight_text_label(r.text_label_id)\n      } else {\n        throw new Error('Bad search index data type: ' + r.type)\n      }\n    }\n    this.setState({\n      searchItem: value,\n      current: 0,\n      counter,\n      results\n    })\n  }\n\n  dropDuplicates (results) {\n    const compKeys = {\n      metabolite: {\n        type: 'm',\n        key: 'node_id'\n      },\n      reaction: {\n        type: 'r',\n        key: 'reaction_id'\n      },\n      text_label: {\n        type: 't',\n        key: 'text_label_id'\n      }\n    }\n    return _.uniq(results, item => {\n      // make a string for fast comparison\n      const {type, key} = compKeys[item.type]\n      return `${type}${item[key]}`\n    })\n  }\n\n  next () {\n    if (!(this.state.results && this.state.results.length > 0)) return\n    this.update((this.state.current + 1) % this.state.results.length)\n  }\n\n  previous () {\n    if (!(this.state.results && this.state.results.length > 0)) return\n    this.update(\n      (this.state.current + this.state.results.length - 1) %\n      this.state.results.length\n    )\n  }\n\n  /**\n   * Updates the map focus and search bar counter for when buttons are clicked.\n   * @param {number} current - index of current search result\n   */\n  update (current) {\n    this.setState({\n      current,\n      counter: `${current + 1}/${this.state.results.length}`\n    })\n    var r = this.state.results[current]\n    if (r.type === 'reaction') {\n      this.props.map.zoom_to_reaction(r.reaction_id)\n      this.props.map.highlight_reaction(r.reaction_id)\n    } else if (r.type === 'metabolite') {\n      this.props.map.zoom_to_node(r.node_id)\n      this.props.map.highlight_node(r.node_id)\n    } else if (r.type === 'text_label') {\n      this.props.map.zoom_to_text_label(r.text_label_id)\n      this.props.map.highlight_text_label(r.text_label_id)\n    } else {\n      throw new Error('Bad search index data type: ' + r.type)\n    }\n  }\n\n  close () {\n    this.props.setDisplay(false)\n  }\n\n  render () {\n    return (\n      <div className='search-container'>\n        <input\n          className='search-field'\n          value={this.state.searchItem}\n          onInput={event => this.handleInput(event.target.value)}\n          ref={input => { this.inputRef = input }}\n        />\n        <button className='search-bar-button left btn' onClick={() => this.previous()}>\n          <i className='icon-left-open' />\n        </button>\n        <button className='search-bar-button right btn' onClick={() => this.next()}>\n          <i className='icon-right-open' />\n        </button>\n        <div className='search-counter'>\n          {this.state.counter}\n        </div>\n        <button className='search-bar-button btn' onClick={() => this.close()}>\n          <i className='icon-cancel' />\n        </button>\n      </div>\n    )\n  }\n}\n\nexport default SearchBar\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./SearchBar.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./SearchBar.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./SearchBar.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".escher-container .search-container {\\n  display: flex;\\n  flex-direction: row;\\n  background-color: rgba(255, 255, 255, 0.95);\\n  padding: 3px;\\n  border: 1px solid #DDD;\\n}\\n\\n.escher-container .search-container .search-field {\\n  flex: 0 0 auto;\\n  color: #777;\\n  border: 1px solid #DDD;\\n  width: 114px;\\n  height: 29px;\\n  border-radius: 3px;\\n  font-size: 13px;\\n}\\n\\n.escher-container .search-container .search-counter {\\n  flex: 1;\\n  color: #777;\\n  font-size: 13px;\\n  padding: 9px 0 0 6px;\\n}\\n\\n.escher-container .search-container .search-bar-button {\\n  flex: 0 0 auto;\\n  border-radius: 4px;\\n  text-align: center;\\n  vertical-align: middle;\\n  font-size: 14px;\\n  font-weight: 400;\\n  height: 29px;\\n  width: 34px;\\n  margin: 3px;\\n}\\n\\n.escher-container .search-container .search-bar-button.left {\\n  border-top-right-radius: 0px;\\n  border-bottom-right-radius: 0px;\\n  margin-right: 0;\\n}\\n\\n.escher-container .search-container .search-bar-button.right {\\n  border-top-left-radius: 0px;\\n  border-bottom-left-radius: 0px;\\n  margin-left: 0;\\n}\\n\\n.escher-container .search-container .search-bar-button:active {\\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/** @jsx h */\nimport {h, Component} from 'preact'\nimport './ButtonPanel.css'\n\n/**\n * ButtonPanel. Sets up the button panel for Builder. Currently calls a\n * re-render on itself every time the mode is changed. This can be removed upon\n * porting Builder to Preact\n */\nclass ButtonPanel extends Component {\n  render () {\n    const menuSetting = this.props.settings.get('menu')\n    const enableKeys = this.props.settings.get('enable_keys')\n    const enableEditing = this.props.settings.get('enable_editing')\n\n    return (\n      <ul className='button-panel'>\n        <li>\n          <button\n            className='button btn'\n            onClick={() => this.props.zoomContainer.zoom_in()}\n            title={`Zoom in${enableKeys ? ' (+)' : ''}`}\n          >\n            <i className='icon-zoom-in' />\n          </button>\n        </li>\n        <li>\n          <button\n            className='button btn'\n            onClick={() => this.props.zoomContainer.zoom_out()}\n            title={`Zoom out${enableKeys ? ' (-)' : ''}`}\n          >\n            <i className='icon-zoom-out' />\n          </button>\n        </li>\n        <li>\n          <button\n            className='button btn'\n            onClick={() => this.props.map.zoom_extent_canvas()}\n            title={`Zoom to canvas${enableKeys ? ' (1)' : ''}`}\n          >\n            <i className='icon-resize-full' />\n          </button>\n        </li>\n        <li style={{display: this.props.settings.get('full_screen_button') !== false ? 'block' : 'none'}}>\n          <button\n            className={`button btn ${this.props.isFullScreen ? 'active-button' : ''}`}\n            onClick={() => this.props.full_screen()}\n            title={'Toggle full screen'}\n          >\n            <i className='icon-resize-full-alt' />\n          </button>\n        </li>\n        <li\n          className='grouping'\n          style={{display: menuSetting === 'all' && enableEditing ? 'block' : 'none'}}\n        >\n          <button\n            className='buttonGroup btn'\n            title={`Pan mode${enableKeys ? ' (Z)' : ''}`}\n            for='zoom'\n            id={this.props.mode === 'zoom' ? 'currentMode' : null}\n            onClick={() => this.props.setMode('zoom')}\n          >\n            <i className='icon-move' />\n          </button>\n          <button\n            className='buttonGroup btn'\n            title={`Select mode${enableKeys ? ' (V)' : ''}`}\n            for='brush'\n            id={this.props.mode === 'brush' ? 'currentMode' : null}\n            onClick={() => this.props.setMode('brush')}\n          >\n            <i className='icon-mouse-pointer' />\n          </button>\n          <button\n            className='buttonGroup btn'\n            title={`Add reaction mode${enableKeys ? ' (N)' : ''}`}\n            for='build'\n            onClick={() => this.props.setMode('build')}\n            id={this.props.mode === 'build' ? 'currentMode' : null}>\n            <i className='icon-wrench' />\n          </button>\n          <button\n            className='buttonGroup btn'\n            title={`Rotate mode${enableKeys ? ' (R)' : ''}`}\n            for='rotate'\n            id={this.props.mode === 'rotate' ? 'currentMode' : null}\n            onClick={() => this.props.setMode('rotate')}\n          >\n            <i className='icon-cw' />\n          </button>\n          <button\n            className='buttonGroup btn'\n            title={`Text mode${enableKeys ? ' (T)' : ''}`}\n            for='text'\n            id={this.props.mode === 'text' ? 'currentMode' : null}\n            onClick={() => this.props.setMode('text')}\n          >\n            <i className='icon-font' />\n          </button>\n        </li>\n        <li\n          className='grouping'\n          style={{display: this.props.mode === 'build' && menuSetting === 'all' && enableEditing ? 'block' : 'none'}}\n        >\n          <button\n            className='buttonGroup btn'\n            title={`Direction arrow${enableKeys ? ' ()' : ''}`}\n            onClick={() => this.props.buildInput.direction_arrow.left()}\n          >\n            <i className='icon-left-big' />\n          </button>\n          <button\n            className='buttonGroup btn'\n            title={`Direction arrow${enableKeys ? ' ()' : ''}`}\n            onClick={() => this.props.buildInput.direction_arrow.right()}\n          >\n            <i className='icon-right-big' />\n          </button>\n          <button\n            className='buttonGroup btn'\n            title={`Direction arrow${enableKeys ? ' ()' : ''}`}\n            onClick={() => this.props.buildInput.direction_arrow.up()}\n          >\n            <i className='icon-up-big' />\n          </button>\n          <button\n            className='buttonGroup btn'\n            title={`Direction arrow${enableKeys ? ' ()' : ''}`}\n            onClick={() => this.props.buildInput.direction_arrow.down()}\n          >\n            <i className='icon-down-big' />\n          </button>\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport default ButtonPanel\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./ButtonPanel.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./ButtonPanel.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./ButtonPanel.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".escher-container .button-panel {\\n  position: absolute;\\n  left: 4px;\\n  top: 20%;\\n  margin-top: -32px;\\n  padding-left: 0;\\n  touch-action: none;\\n}\\n\\n.escher-container .button-panel>li {\\n  margin-top: 5px;\\n  display: block;\\n\\n  /* these sometimes get overridden */\\n  margin-left: 0 !important;\\n}\\n\\n.escher-container .grouping {\\n  display: block;\\n}\\n\\n.escher-container .buttonGroup {\\n  display: block;\\n  margin-bottom: -1px;\\n  padding: 5px 0px;\\n  border-radius: 0;\\n}\\n\\n.escher-container .grouping>.buttonGroup:first-child {\\n  border-top-left-radius: 4px;\\n  border-top-right-radius: 4px;\\n}\\n\\n.escher-container .grouping>.buttonGroup:last-child {\\n  border-bottom-left-radius: 4px;\\n  border-bottom-right-radius: 4px;\\n}\\n\\n.escher-container .button-panel>.grouping:last-child {\\n  margin-top: 4px;\\n}\\n\\n.escher-container #currentMode,\\n.escher-container .active-button {\\n  background-image: linear-gradient(#8F4F3F,#834c3c 6%,#8d3a2d) !important;\\n}\\n\\n.escher-container .buttonGroup.btn {\\n  margin-top: -1px;\\n}\\n\\n.escher-container .button {\\n  border-radius: 4px;\\n}\\n\\n.escher-container .button.btn, .escher-container .buttonGroup.btn {\\n  padding: unset;\\n  color: white!important;\\n  border: 1px solid #474949;\\n  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);\\n  background-color: white;\\n  text-align: center;\\n  vertical-align: middle;\\n  cursor: pointer;\\n  font-size: 14px!important;\\n  font-weight: 400;\\n  width: 40px;\\n  height: 40px;\\n}\\n\\n.escher-container .button-panel .button:active, .escher-container .buttonGroup label:active, .escher-container .button-panel .buttonGroup:active {\\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\\n}\\n\\n.escher-container .button-panel .fa {\\n  font-size: 24px;\\n}\\n\\n/* Icons */\\n.escher-container .button-panel [class^='icon-'] {\\n  font-size: 23px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/** @jsx h */\nimport CallbackManager from './CallbackManager'\nimport PlacedDiv from './PlacedDiv'\nimport renderWrapper from './renderWrapper'\nimport _ from 'underscore'\n\n/**\n * Manage the tooltip that lives in a PlacedDiv.\n * @param selection\n * @param tooltipComponent\n * @param zoomContainer\n * @param map\n */\nexport default class TooltipContainer {\n  constructor (selection, TooltipComponent, zoomContainer, map, settings) {\n    this.div = selection.append('div').attr('id', 'tooltip-container')\n    this.tooltipRef = null\n\n    this.zoomContainer = zoomContainer\n    this.setUpZoomCallbacks(zoomContainer)\n\n    // Create callback manager\n    this.callbackManager = new CallbackManager()\n\n    this.div.on('mouseover', this.cancelHideTooltip.bind(this))\n    this.div.on('mouseleave', this.hide.bind(this))\n\n    this.map = map\n    this.setUpMapCallbacks(map)\n\n    this.settings = settings\n\n    this.delay_hide_timeout = null\n    this.currentTooltip = null\n\n    renderWrapper(\n      TooltipComponent,\n      null,\n      passProps => this.callbackManager.set('pass_props', passProps),\n      this.div.node(),\n      instance => { this.tooltipRef = instance }\n    )\n    this.passProps({\n      display: false,\n      disableTooltips: () => this.disableTooltips()\n    })\n  }\n\n  /**\n   * Disable tooltips in the settings\n   */\n  disableTooltips () {\n    this.settings.set('enable_tooltips', false)\n    // draw to update tooltip settings\n    this.map.draw_everything()\n    this.hide()\n    this.map.set_status(`Tooltips disabled. You can enable them again in the\n                         settings menu.`, 3000)\n  }\n\n  /**\n    * Function to pass props for the tooltips. Run without an argument to\n    * rerender the component\n    * @param {Object} props - Props that the tooltip will use\n    */\n  passProps (props = {}) {\n    this.callbackManager.run('pass_props', null, props)\n  }\n\n  /**\n   * Sets up the appropriate callbacks to show the input\n   * @param {object} map - map object\n   */\n  setUpMapCallbacks (map) {\n    this.placedDiv = PlacedDiv(this.div, map, undefined, false)\n\n    // connect callbacks to show tooltip\n    map.callback_manager.set('show_tooltip.tooltip_container', (type, d) => {\n      this.show(type, d)\n    })\n\n    // callback to hide / delay hide tooltip\n    map.callback_manager.set('hide_tooltip.tooltip_container', () => this.hide())\n    map.callback_manager.set('delay_hide_tooltip.tooltip_container', () => this.delayHide())\n\n    // Hides the tooltip when the canvas is touched\n    map.sel.selectAll('.canvas-group').on('touchend', () => this.hide())\n  }\n\n  setUpZoomCallbacks (zoomContainer) {\n    zoomContainer.callbackManager.set('zoom.tooltip_container', function () {\n      if (this.is_visible()) {\n        this.hide()\n      }\n    }.bind(this))\n    zoomContainer.callbackManager.set('go_to.tooltip_container', function () {\n      if (this.is_visible()) {\n        this.hide()\n      }\n    }.bind(this))\n  }\n\n  /**\n   * Return visibility of tooltip container.\n   * @return {Boolean} Whether tooltip is visible.\n   */\n  is_visible () { // eslint-disable-line camelcase\n    return this.placedDiv.is_visible()\n  }\n\n  /**\n   * Show and place the input.\n   * @param {string} type - 'reaction_label', 'node_label', or 'gene_label'\n   * @param {Object} d - D3 data for DOM element\n   */\n  show (type, d) {\n    // get rid of a lingering delayed hide\n    this.cancelHideTooltip()\n\n    if (_.contains([ 'reaction_label', 'node_label', 'gene_label', 'reaction_object', 'node_object' ], type)) {\n      // Use a default height if the ref hasn't been connected yet\n      const tooltipSize = (this.tooltipRef !== null && this.tooltipRef.get_size)\n                        ? this.tooltipRef.get_size()\n                        : { width: 270, height: 100 }\n      this.currentTooltip = { type, id: d[type.replace('_label', '_id').replace('_object', '_id')] }\n      const windowTranslate = this.zoomContainer.windowTranslate\n      const windowScale = this.zoomContainer.windowScale\n      const mapSize = this.map !== null ? this.map.get_size() : { width: 1000, height: 1000 }\n      const offset = {x: 0, y: 0}\n      const startPosX = type === 'reaction_object' ? d.xPos : d.label_x\n      const startPosY = type === 'reaction_object' ? d.yPos : d.label_y\n      const rightEdge = windowScale * startPosX + windowTranslate.x + tooltipSize.width\n      const bottomEdge = windowScale * startPosY + windowTranslate.y + tooltipSize.height\n      if (mapSize.width < 500) {\n        if (rightEdge > mapSize.width) {\n          offset.x = -(rightEdge - mapSize.width) / windowScale\n        }\n        if (bottomEdge > mapSize.height - 74) {\n          offset.y = -(bottomEdge - mapSize.height + 77) / windowScale\n        }\n      } else {\n        if (windowScale * startPosX + windowTranslate.x + 0.5 * tooltipSize.width > mapSize.width) {\n          offset.x = -tooltipSize.width / windowScale\n        } else if (rightEdge > mapSize.width) {\n          offset.x = -(rightEdge - mapSize.width) / windowScale\n        }\n        if (windowScale * startPosY + windowTranslate.y + 0.5 * tooltipSize.height > mapSize.height - 45) {\n          offset.y = -(tooltipSize.height) / windowScale\n        } else if (bottomEdge > mapSize.height - 45) {\n          offset.y = -(bottomEdge - mapSize.height + 47) / windowScale\n        }\n      }\n      const coords = { x: startPosX + offset.x, y: startPosY + 10 + offset.y }\n      this.placedDiv.place(coords)\n      this.passProps({\n        display: true,\n        biggId: d.bigg_id,\n        name: d.name,\n        loc: coords,\n        data: d.data_string,\n        type: type.replace('_label', '').replace('node', 'metabolite').replace('_object', '')\n      })\n    } else {\n      throw new Error('Tooltip not supported for object type ' + type)\n    }\n  }\n\n  /**\n   * Hide the input.\n   */\n  hide () {\n    this.placedDiv.hide()\n    this.currentTooltip = null\n  }\n\n  /**\n   * Hide the input after a short delay, so that mousing onto the tooltip does not\n   * cause it to hide.\n   */\n  delayHide () {\n    this.delayHideTimeout = setTimeout(() => this.hide(), 100)\n  }\n\n  cancelHideTooltip () {\n    if (this.delayHideTimeout !== null) {\n      clearTimeout(this.delayHideTimeout)\n    }\n  }\n}\n","/* global window */\n/** @jsx h */\n\n/**\n * Define a Tooltip component and interface with Preact.\n */\nimport { h, Component } from 'preact'\nimport './DefaultTooltip.css'\nimport * as utils from './utils'\n\nclass DefaultTooltip extends Component {\n  constructor () {\n    super()\n    this.openBigg = this.openBigg.bind(this)\n  }\n\n  decompartmentalizeCheck (id, type) {\n  // ID without compartment, if metabolite.\n    return type === 'metabolite'\n      ? utils.decompartmentalize(id)[0]\n      : id\n  }\n\n  openBigg () {\n    const type = this.props.type\n    const biggId = this.props.biggId\n    const pref = 'http://bigg.ucsd.edu/'\n    const url = type === 'gene'\n      ? `${pref}search?query=${biggId}`\n      : `${pref}universal/${type}s/${this.decompartmentalizeCheck(biggId, type)}`\n    window.open(url)\n  }\n\n  capitalizeFirstLetter (s) {\n    return typeof s === 'string'\n    ? s.charAt(0).toUpperCase() + s.slice(1)\n    : console.warn('capitalizeFirstLetter was passed something other than a string')\n  }\n\n  render () {\n    const decomp = this.decompartmentalizeCheck(this.props.biggId, this.props.type)\n    const biggButtonText = `Open ${decomp} in BiGG Models.`\n    return (\n      <div className='default-tooltip'>\n        <div className='id'>\n          {this.props.biggId}\n        </div>\n        <div className='name'>\n          name: {this.props.name}\n        </div>\n        <div className='data'>\n          data: {\n            this.props.data && this.props.data !== '(nd)' ? this.props.data : 'no data'\n          }\n        </div>\n        <button onClick={this.openBigg}>\n          {biggButtonText}\n        </button>\n        <div className='top-right'>\n          <div className='type-label'>\n            {this.capitalizeFirstLetter(this.props.type)}\n          </div>\n          <a onClick={this.props.disableTooltips}>\n            Disable Tooltips\n          </a>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default DefaultTooltip\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./DefaultTooltip.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./DefaultTooltip.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./DefaultTooltip.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".escher-container .default-tooltip {\\n  box-sizing: border-box;\\n  min-width: 300px;\\n  min-height: 100px;\\n  border-radius: 2px;\\n  border: 1px solid #b58787;\\n  padding: 7px;\\n  background-color: #fff;\\n  text-align: left;\\n  font-size: 16px;\\n  font-family: sans-serif;\\n  color: #111;\\n  box-shadow: 4px 6px 20px 0px rgba(0, 0, 0, 0.4);\\n}\\n\\n.escher-container .default-tooltip .id{\\n  font-size: 18px;\\n  font-weight: bold;\\n}\\n\\n.escher-container .default-tooltip button {\\n  border-radius: 3px;\\n  background-color: #eee;\\n  border: 1px solid #ddd;\\n  margin-top: 4px;\\n  font-size: 16px;\\n  padding: 3px 6px;\\n}\\n\\n.escher-container .default-tooltip .top-right {\\n  position: absolute;\\n  top: 4px;\\n  right: 4px;\\n}\\n\\n.escher-container .default-tooltip .top-right * {\\n  float: right;\\n  text-align: right;\\n}\\n\\n.escher-container .default-tooltip .top-right a {\\n  font-size: 11px;\\n  color: #999;\\n  cursor: pointer;\\n}\\n.escher-container .default-tooltip .top-right a:hover {\\n  color: #444;\\n  text-decoration: underline;\\n}\\n\\n.escher-container .default-tooltip .type-label {\\n  font-size: 15px;\\n  color: #d27066;\\n  background-color: #ffeded;\\n  border-radius: 2px;\\n  margin: 0 0 0 10px;\\n  padding: 0 5px;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./fontello.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!./fontello.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!./fontello.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../font/fontello.eot?9130959\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"../font/fontello.woff2?9130959\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = require(\"../font/fontello.woff?9130959\");\nvar ___CSS_LOADER_URL_IMPORT_3___ = require(\"../font/fontello.ttf?9130959\");\nvar ___CSS_LOADER_URL_IMPORT_4___ = require(\"../font/fontello.svg?9130959\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___, { hash: \"#iefix\" });\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___, { hash: \"#fontello\" });\n// Module\nexports.push([module.id, \"@font-face {\\n  font-family: 'fontello';\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") format('embedded-opentype'),\\n       url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \") format('woff2'),\\n       url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \") format('woff'),\\n       url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \") format('truetype'),\\n       url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \") format('svg');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\\n/*\\n@media screen and (-webkit-min-device-pixel-ratio:0) {\\n  @font-face {\\n    font-family: 'fontello';\\n    src: url('../font/fontello.svg?9130959#fontello') format('svg');\\n  }\\n}\\n*/\\n \\n [class^=\\\"icon-\\\"]:before, [class*=\\\" icon-\\\"]:before {\\n  font-family: \\\"fontello\\\";\\n  font-style: normal;\\n  font-weight: normal;\\n  speak: none;\\n \\n  display: inline-block;\\n  text-decoration: inherit;\\n  width: 1em;\\n  margin-right: .2em;\\n  text-align: center;\\n  /* opacity: .8; */\\n \\n  /* For safety - reset parent styles, that can break glyph codes*/\\n  font-variant: normal;\\n  text-transform: none;\\n \\n  /* fix buttons height, for twitter bootstrap */\\n  line-height: 1em;\\n \\n  /* Animation center compensation - margins should be symmetric */\\n  /* remove if not needed */\\n  margin-left: .2em;\\n \\n  /* you can be more comfortable with increased icons size */\\n  /* font-size: 120%; */\\n \\n  /* Font smoothing. That was taken from TWBS */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n \\n  /* Uncomment for 3D effect */\\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\\n}\\n \\n.icon-ok:before { content: '\\\\e800'; } /* '' */\\n.icon-cancel:before { content: '\\\\e801'; } /* '' */\\n.icon-plus:before { content: '\\\\e802'; } /* '' */\\n.icon-down-big:before { content: '\\\\e803'; } /* '' */\\n.icon-left-big:before { content: '\\\\e804'; } /* '' */\\n.icon-right-big:before { content: '\\\\e805'; } /* '' */\\n.icon-up-big:before { content: '\\\\e806'; } /* '' */\\n.icon-left-open:before { content: '\\\\e807'; } /* '' */\\n.icon-right-open:before { content: '\\\\e808'; } /* '' */\\n.icon-wrench:before { content: '\\\\e809'; } /* '' */\\n.icon-resize-full:before { content: '\\\\e80a'; } /* '' */\\n.icon-cw:before { content: '\\\\e80b'; } /* '' */\\n.icon-trash-empty:before { content: '\\\\e80e'; } /* '' */\\n.icon-font:before { content: '\\\\e80f'; } /* '' */\\n.icon-zoom-in:before { content: '\\\\e810'; } /* '' */\\n.icon-zoom-out:before { content: '\\\\e811'; } /* '' */\\n.icon-move:before { content: '\\\\f047'; } /* '' */\\n.icon-resize-full-alt:before { content: '\\\\f0b2'; } /* '' */\\n.icon-blank:before { content: '\\\\f0c8'; } /* '' */\\n.icon-sort-down:before { content: '\\\\f0dd'; } /* '' */\\n.icon-mouse-pointer:before { content: '\\\\f245'; } /* '' */\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","module.exports = \"data:application/vnd.ms-fontobject;base64,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\"","module.exports = \"data:application/font-woff2;base64,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\"","module.exports = \"data:application/font-woff;base64,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\"","module.exports = \"data:application/octet-stream;base64,AAEAAAAPAIAAAwBwR1NVQiCLJXoAAAD8AAAAVE9TLzI+I1MqAAABUAAAAFZjbWFwh1r3sAAAAagAAAK4Y3Z0IAbV/v4AABjcAAAAIGZwZ22KkZBZAAAY/AAAC3BnYXNwAAAAEAAAGNQAAAAIZ2x5ZhPQy/4AAARgAAAPmmhlYWQPoZfIAAAT/AAAADZoaGVhBzsDaAAAFDQAAAAkaG10eElc//wAABRYAAAAWGxvY2Ep+yYIAAAUsAAAAC5tYXhwASUMCgAAFOAAAAAgbmFtZcydHR8AABUAAAACzXBvc3Sd6TSHAAAX0AAAAQNwcmVw5UErvAAAJGwAAACGAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAEDVgGQAAUAAAJ6ArwAAACMAnoCvAAAAeAAMQECAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQOgA8kUDUv9qAFoDUgCZAAAAAQAAAAAAAAAAAAUAAAADAAAALAAAAAQAAAGsAAEAAAAAAKYAAwABAAAALAADAAoAAAGsAAQAegAAABAAEAADAADoC+gR8EfwsvDI8N3yRf//AADoAOgO8EfwsvDI8N3yRf//AAAAAAAAAAAAAAAAAAAAAQAQACYALAAsACwALAAsAAAAAQACAAMABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAAAEGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAQwAAAAAAAAAFQAA6AAAAOgAAAAAAQAA6AEAAOgBAAAAAgAA6AIAAOgCAAAAAwAA6AMAAOgDAAAABAAA6AQAAOgEAAAABQAA6AUAAOgFAAAABgAA6AYAAOgGAAAABwAA6AcAAOgHAAAACAAA6AgAAOgIAAAACQAA6AkAAOgJAAAACgAA6AoAAOgKAAAACwAA6AsAAOgLAAAADAAA6A4AAOgOAAAADQAA6A8AAOgPAAAADgAA6BAAAOgQAAAADwAA6BEAAOgRAAAAEAAA8EcAAPBHAAAAEQAA8LIAAPCyAAAAEgAA8MgAAPDIAAAAEwAA8N0AAPDdAAAAFAAA8kUAAPJFAAAAFQABAAAAAAOlApgAFQAdQBoPAQABAUcAAgECbwABAAFvAAAAZhQXFAMFFysBFAcBBiInASY0PwE2Mh8BATYyHwEWA6UQ/iAQLBD+6g8PTBAsEKQBbhAsEEwQAhYWEP4gDw8BFhAsEEwQEKUBbxAQTA8AAQAA/+8C1AKGACQAHkAbIhkQBwQAAgFHAwECAAJvAQEAAGYUHBQUBAUYKyUUDwEGIi8BBwYiLwEmND8BJyY0PwE2Mh8BNzYyHwEWFA8BFxYC1A9MECwQpKQQLBBMEBCkpBAQTBAsEKSkECwQTA8PpKQPcBYQTA8PpaUPD0wQLBCkpBAsEEwQEKSkEBBMDy4PpKQPAAEAAP/5AxIDCwAjAClAJgAEAwRvAAEAAXAFAQMAAANUBQEDAwBYAgEAAwBMIzMlIzMjBgUaKwEVFAYnIxUUBgcjIiY3NSMiJic1NDY3MzU0NjsBMhYXFTMyFgMSIBboIBZrFiAB6BceASAW6B4XaxceAegXHgG3axYgAekWHgEgFekeF2sXHgHoFiAgFuggAAEAAP/PA4MDCwAeACBAHRgPAgABAUcAAgECbwMBAQABbwAAAGYVNRcUBAUYKwEUBwEGIicBJjQ/ATYyHwERNDY3MzIWFRE3NjIfARYDgxX+lRY6Ff6VFRUpFjoVpCoeRx0qpRQ7FikVAYIeFP6UFRUBbBQ7FikVFaQBiR0qASwc/nekFRUpFgABAAD/iANZAu0AHQAkQCEAAgMCbwABAAFwAAMAAANUAAMDAFgAAAMATCYXFiMEBRgrARUUBiMhFxYUDwEGIicBJjQ3ATYyHwEWFA8BITIWA1kkHf53pBUVKhU7Ff6UFBQBbBU6FioVFaQBiR0kAV5HHiqkFDwUKxQUAWwVOhYBaxUVKRY6FqQoAAAAAAEAAP+IAzUC7QAeACRAIQADAgNvAAABAHAAAgEBAlQAAgIBWAABAgFMFiUmFAQFGCsBFAcBBiIvASY0PwEhIiY9ATQ2FyEnJjQ/ATYyFwEWAzUU/pUWOhUqFhaj/ncdJCQdAYmjFhYqFToWAWsUAToeFP6UFBQqFTwVoyoeRx4qAaUUPBQqFRX+lRQAAQAA/7EDgwLnAB4AIEAdEAcCAAMBRwADAANvAgEAAQBvAAEBZhcVNRQEBRgrARQPAQYiLwERFAYHIyImNREHBiIvASY0NwE2MhcBFgODFSkWOxSlKB9HHiqkFDwUKhUVAWsUPBUBaxUBNBwWKhUVpP53HSQBJhwBiaQVFSoVOxUBaxUV/pUWAAEAAP/AApgDRAAUAC21AQEAAQFHS7AkUFhACwAAAQBwAAEBDAFJG0AJAAEAAW8AAABmWbQXFwIFFisJAhYUDwEGIicBJjQ3ATYyHwEWFAKO/tcBKQoKXQscC/5iCwsBngoeCl0KAqr+2P7XCh4KXQoKAZ8KHgoBngsLXQoeAAAAAQAA/8ACdANEABQALbUJAQABAUdLsCRQWEALAAABAHAAAQEMAUkbQAkAAQABbwAAAGZZtBwSAgUWKwkBBiIvASY0NwkBJjQ/ATYyFwEWFAJq/mILHAtdCwsBKP7YCwtdCh4KAZ4KAWn+YQoKXQscCwEpASgLHAtdCwv+YgscAAADAAD/dgOgAwsACAAUAC4AWUAQJgEEAygnEgMCBAABAQADR0uwIVBYQBoAAwQDbwAEAgRvAAIAAm8AAAEAbwABAQ0BSRtAGAADBANvAAQCBG8AAgACbwAAAQBvAAEBZlm3HCMtGBIFBRkrNzQmDgIeATYlAQYiLwEmNDcBHgElFAcOASciJjQ2NzIWFxYUDwEVFzY/ATYyFtYUHhQCGBoYAWb+gxU6FjsVFQF8FlQBmQ0bgk9okpJoIEYZCQmjbAIqSyEPCh0OFgISIBIEGvb+gxQUPRQ7FgF8N1TdFiVLXgGS0JACFBAGEgdefTwCGS0UCgAAAgAA/7EDWgMLABgAMAAxQC4oHxkDAgQSDAMDAAECRwAEAgRvAAIDAm8AAwEDbwABAAFvAAAAZjoUFxo3BQUZKwEUDwEXFhQGByMiJic1ND4BHwE3NjIfARYBFRQOAS8BBwYiLwEmND8BJyY0NjczMhYBpQW5UAoUD/oPFAEWHAtQugUOBkAFAbQUIAlQuQYOBkAFBbpRChQP+g8WAQUHBrlRCh4UARYO+g8UAgxQuQYGPwYB2/oPFAIMULkGBkAFDga5UQoeFAEWAAAAAf/+/7EDWQMLADAAPUA6LQEBBQkBAAECRwAAAQMBAANtAAMCAQMCawAFAAEABQFgAAIEBAJUAAICBFgABAIETCcnEyckMwYFGisBFRQGKwEiJj8BJiMiDgIUHgIzMjY3PgEfAR4BBw4BByIuAj4DMzIWFzc2FgNZFBD6FxMRTVJwOmpMLi5MajpCdikEEQZMBQIGPK5fV6BwSARAeJhbUpg9SBEsAsP6DhYtEE1NLkxqdGpMLjo1BgEFTQQOBkpQAUR0nq6edEQ+OUgSEwAAAAYAAP+xAxIDCwAPAB8ALwA7AEMAZwBkQGFXRQIGCCkhGREJAQYAAQJHBQMCAQYABgEAbQQCAgAHBgAHawAOAAkIDglgDw0CCAwKAgYBCAZeAAcLCwdUAAcHC1gACwcLTGVkYV5bWVNST0xJR0E/FCQUJiYmJiYjEAUdKwERFAYrASImNRE0NjsBMhYXERQGKwEiJjURNDY7ATIWFxEUBisBIiY1ETQ2OwEyFhMRIREUHgEzITI+AQEzJyYnIwYHBRUUBisBERQGIyEiJicRIyImPQE0NjsBNz4BNzMyFh8BMzIWAR4KCCQICgoIJAgKjwoIJAgKCggkCAqOCgckCAoKCCQHCkj+DAgIAgHQAggI/on6GwQFsQYEAesKCDY0Jf4wJTQBNQgKCgisJwksFrIXKgknrQgKAbf+vwgKCggBQQgKCgj+vwgKCggBQQgKCgj+vwgKCggBQQgKCv5kAhH97wwUCgoUAmVBBQEBBVMkCAr97y5EQi4CEwoIJAgKXRUcAR4UXQoAAgAA/7EDoQMLAAcAUACzQAk+NiEJBAUDAUdLsApQWEAqAAEAAW8ABQMCAwUCbQACBAMCBGsHBgIEBG4AAAMDAFIAAAADVgADAANKG0uwC1BYQCoAAQABbwAFAwIDBQJtBAECBgMCBmsHAQYGbgAAAwMAUgAAAANWAAMAA0obQCoAAQABbwAFAwIDBQJtAAIEAwIEawcGAgQEbgAAAwMAUgAAAANWAAMAA0pZWUATCAgIUAhQTEtKSTs6KiMbUQgFFisBBxcWMzI3JgE3PgQ3GwEzFxMeARceARcWFx4BFxYVFAYXIiYHIgYjND8CNj8BNj8BNic0Ji8CDgEXFB4BHwEWNxYVFAciJiMiBicGAZVfTDofCxUw/jUBDSQcHBYGhJxIBnITUhYJMBALCAtMCQQCASOOJCqcFQJJBwYDEQQCBQMCIhcY+w46ARAgCyAVAgEBIYIgBRQCLQIa+wEBAY3+BiwEBgYKGBABWAGUDP70K8o0E3ohGgYJEAMWCgMKAgoBCBgTEAEBAQcCAgYEBAlaNjgBIJoODBIKAgUDAQsVBQsMBgEIAAP///9qA6EDDQAjACwARQBdQFofGAIDBBMSAQMAAw0GAgEAQwEHATIBCQcFRwAEBgMGBANtAAEABwABB20ACgAGBAoGYAUBAwIBAAEDAGAABwAJCAcJYAAICA0IST08NTMUExUUIyYUIyMLBR0rARUUBicjFRQGJyMiJjc1IyImJzU0NjsBNTQ2OwEyFhcVMzIWFzQuAQYUFj4BARQGIi8BBiMiLgI+BB4CFxQHFxYCOwoHfQwGJAcMAX0HCgEMBn0KCCQHCgF9BwpIktCSktCSAR4qPBS/ZHtQkmhAAjxsjqSObDwBRb8VAZQkBwwBfQcMAQoIfQoIJAcKfQgKCgh9ChlnkgKWypgGjP6aHSoVv0U+apCijm46BEJmlk17ZL8VAAAD////agOhAw0ADwAYADEAO0A4CQgBAwABLwEDAB4BBQMDRwAGAAIBBgJgAAEAAAMBAGAAAwAFBAMFYAAEBA0ESRcjFBMVJiMHBRsrARUUBichIiYnNTQ2MyEyFhc0LgEGFBY+AQEUBiIvAQYjIi4CPgQeAhcUBxcWAjsKB/6+BwoBDAYBQgcKSJLQkpLQkgEeKjwUv2R7UJJoQAI8bI6kjmw8AUW/FQGUJAcMAQoIJAcKChlnkgKWypgGjP6aHSoVv0U+apCijm46BEJmlk17ZL8VAAEAAP9qA+gDUgBEAFBATQsBCQoHCgkHbQ0BBwgKBwhrBgEAAQIBAAJtBAECAwECA2sMAQgFAQEACAFeAAoKDEgAAwMNA0lBQD08Ozk0My4sExcTESUVIRMUDgUdKwEUDwEGIiY9ASMVMzIWFA8BBiIvASY0NjsBNSMVFAYiLwEmND8BNjIWHQEzNSMiJjQ/ATYyHwEWFAYrARUzNTQ2Mh8BFgPoC44LHhTXSA4WC48KHgqPCxYOSNcUHgqPCwuPCh4U10gOFguPCxwLjwsWDkjXFB4LjgsBXg4LjwsWDkjXFB4KjwsLjwoeFNdIDhYLjwscC48LFg5I1xQeC44LC44LHhTXSA4WC48KAAABAAD/sQNaAwsARQAyQC8+NTMiBAIDNCEgGxIREAIBCQACAkcEAQMCA28FAQIAAm8BAQAAZiY6Nxs6OQYFGisBBxc3NhYdARQGKwEiJyY/AScHFxYHBisBIiYnNTQ2HwE3JwcGIyInJj0BNDY7ATIXFg8BFzcnJjc2OwEyFgcVFAcGIyInAszGxlARLBQQ+hcJChFRxsZQEQkKF/oPFAEsEVDGxlALDgcHFhYO+hcKCRFQxsZREQoJF/oPFgEWBwcOCwIkxsZQEhMY+g4WFxURUcbGUREVFxYO+hgTElDGxlALAwkY+g4WFxURUcbGUREVFxYO+hgJAwsAAAABAAD/sQNZAwsADwARQA4AAQABbwAAAGY1MwIFFisBERQGByEiJjURNDY3ITIWA1leQ/3pQ15eQwIXQ14Cav3oQl4BYEECGEJeAWAAAQAA/9UCPAEXAA4AF0AUAAEAAQFHAAEAAW8AAABmJhQCBRYrJRQPAQYiLwEmNDY3ITIWAjsK+gscC/oLFg4B9A4W8w8K+gsL+goeFAEWAAABAAD/ZwKKA1IAHAAhQB4OAQEAAUcAAAIBAgABbQABAW4AAgIMAkkoGyMDBRcrARYHBisBExYGDwEGJi8BBwYjIicmNRE0NzYzMhcCeBIKCRjVcAYMDWMOGgZrrgsOBwcWFgcHDwoBDBEVF/72DRwFKgYMDfyuCwMKFwNHGAkDCwAAAAABAAAAAQAA775IPF8PPPUACwPoAAAAANZOKhUAAAAA1k4qFf/+/2cD6ANSAAAACAACAAAAAAAAAAEAAANS/2oAAAPo//7//wPoAAEAAAAAAAAAAAAAAAAAAAAWA+gAAAPoAAADEQAAAxEAAAOgAAADWQAAA1kAAAOgAAACygAAAsoAAAOgAAADWQAAA1n//gMRAAADoAAAA6D//wOg//8D6AAAA1kAAANZAAACOwAAAsoAAAAAAAAAOACCAMoBDgFUAZoB3gIeAl4C2AM+A6YEagU+BdAGOgbABz4HZAeMB80AAAABAAAAFgBoAAYAAAAAAAIAIAAwAHMAAAB1C3AAAAAAAAAAEgDeAAEAAAAAAAAANQAAAAEAAAAAAAEACAA1AAEAAAAAAAIABwA9AAEAAAAAAAMACABEAAEAAAAAAAQACABMAAEAAAAAAAUACwBUAAEAAAAAAAYACABfAAEAAAAAAAoAKwBnAAEAAAAAAAsAEwCSAAMAAQQJAAAAagClAAMAAQQJAAEAEAEPAAMAAQQJAAIADgEfAAMAAQQJAAMAEAEtAAMAAQQJAAQAEAE9AAMAAQQJAAUAFgFNAAMAAQQJAAYAEAFjAAMAAQQJAAoAVgFzAAMAAQQJAAsAJgHJQ29weXJpZ2h0IChDKSAyMDE3IGJ5IG9yaWdpbmFsIGF1dGhvcnMgQCBmb250ZWxsby5jb21mb250ZWxsb1JlZ3VsYXJmb250ZWxsb2ZvbnRlbGxvVmVyc2lvbiAxLjBmb250ZWxsb0dlbmVyYXRlZCBieSBzdmcydHRmIGZyb20gRm9udGVsbG8gcHJvamVjdC5odHRwOi8vZm9udGVsbG8uY29tAEMAbwBwAHkAcgBpAGcAaAB0ACAAKABDACkAIAAyADAAMQA3ACAAYgB5ACAAbwByAGkAZwBpAG4AYQBsACAAYQB1AHQAaABvAHIAcwAgAEAAIABmAG8AbgB0AGUAbABsAG8ALgBjAG8AbQBmAG8AbgB0AGUAbABsAG8AUgBlAGcAdQBsAGEAcgBmAG8AbgB0AGUAbABsAG8AZgBvAG4AdABlAGwAbABvAFYAZQByAHMAaQBvAG4AIAAxAC4AMABmAG8AbgB0AGUAbABsAG8ARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFgECAQMBBAEFAQYBBwEIAQkBCgELAQwBDQEOAQ8BEAERARIBEwEUARUBFgEXAAJvawZjYW5jZWwEcGx1cwhkb3duLWJpZwhsZWZ0LWJpZwlyaWdodC1iaWcGdXAtYmlnCWxlZnQtb3BlbgpyaWdodC1vcGVuBndyZW5jaAtyZXNpemUtZnVsbAJjdwt0cmFzaC1lbXB0eQRmb250B3pvb20taW4Iem9vbS1vdXQEbW92ZQ9yZXNpemUtZnVsbC1hbHQFYmxhbmsJc29ydC1kb3duDW1vdXNlLXBvaW50ZXIAAAAAAQAB//8ADwAAAAAAAAAAAAAAAAAAAAAAGAAYABgAGANS/2cDUv9nsAAsILAAVVhFWSAgS7gADlFLsAZTWliwNBuwKFlgZiCKVViwAiVhuQgACABjYyNiGyEhsABZsABDI0SyAAEAQ2BCLbABLLAgYGYtsAIsIGQgsMBQsAQmWrIoAQpDRWNFUltYISMhG4pYILBQUFghsEBZGyCwOFBYIbA4WVkgsQEKQ0VjRWFksChQWCGxAQpDRWNFILAwUFghsDBZGyCwwFBYIGYgiophILAKUFhgGyCwIFBYIbAKYBsgsDZQWCGwNmAbYFlZWRuwAStZWSOwAFBYZVlZLbADLCBFILAEJWFkILAFQ1BYsAUjQrAGI0IbISFZsAFgLbAELCMhIyEgZLEFYkIgsAYjQrEBCkNFY7EBCkOwAWBFY7ADKiEgsAZDIIogirABK7EwBSWwBCZRWGBQG2FSWVgjWSEgsEBTWLABKxshsEBZI7AAUFhlWS2wBSywB0MrsgACAENgQi2wBiywByNCIyCwACNCYbACYmawAWOwAWCwBSotsAcsICBFILALQ2O4BABiILAAUFiwQGBZZrABY2BEsAFgLbAILLIHCwBDRUIqIbIAAQBDYEItsAkssABDI0SyAAEAQ2BCLbAKLCAgRSCwASsjsABDsAQlYCBFiiNhIGQgsCBQWCGwABuwMFBYsCAbsEBZWSOwAFBYZVmwAyUjYUREsAFgLbALLCAgRSCwASsjsABDsAQlYCBFiiNhIGSwJFBYsAAbsEBZI7AAUFhlWbADJSNhRESwAWAtsAwsILAAI0KyCwoDRVghGyMhWSohLbANLLECAkWwZGFELbAOLLABYCAgsAxDSrAAUFggsAwjQlmwDUNKsABSWCCwDSNCWS2wDywgsBBiZrABYyC4BABjiiNhsA5DYCCKYCCwDiNCIy2wECxLVFixBGREWSSwDWUjeC2wESxLUVhLU1ixBGREWRshWSSwE2UjeC2wEiyxAA9DVVixDw9DsAFhQrAPK1mwAEOwAiVCsQwCJUKxDQIlQrABFiMgsAMlUFixAQBDYLAEJUKKiiCKI2GwDiohI7ABYSCKI2GwDiohG7EBAENgsAIlQrACJWGwDiohWbAMQ0ewDUNHYLACYiCwAFBYsEBgWWawAWMgsAtDY7gEAGIgsABQWLBAYFlmsAFjYLEAABMjRLABQ7AAPrIBAQFDYEItsBMsALEAAkVUWLAPI0IgRbALI0KwCiOwAWBCIGCwAWG1EBABAA4AQkKKYLESBiuwcisbIlktsBQssQATKy2wFSyxARMrLbAWLLECEystsBcssQMTKy2wGCyxBBMrLbAZLLEFEystsBossQYTKy2wGyyxBxMrLbAcLLEIEystsB0ssQkTKy2wHiwAsA0rsQACRVRYsA8jQiBFsAsjQrAKI7ABYEIgYLABYbUQEAEADgBCQopgsRIGK7ByKxsiWS2wHyyxAB4rLbAgLLEBHistsCEssQIeKy2wIiyxAx4rLbAjLLEEHistsCQssQUeKy2wJSyxBh4rLbAmLLEHHistsCcssQgeKy2wKCyxCR4rLbApLCA8sAFgLbAqLCBgsBBgIEMjsAFgQ7ACJWGwAWCwKSohLbArLLAqK7AqKi2wLCwgIEcgILALQ2O4BABiILAAUFiwQGBZZrABY2AjYTgjIIpVWCBHICCwC0NjuAQAYiCwAFBYsEBgWWawAWNgI2E4GyFZLbAtLACxAAJFVFiwARawLCqwARUwGyJZLbAuLACwDSuxAAJFVFiwARawLCqwARUwGyJZLbAvLCA1sAFgLbAwLACwAUVjuAQAYiCwAFBYsEBgWWawAWOwASuwC0NjuAQAYiCwAFBYsEBgWWawAWOwASuwABa0AAAAAABEPiM4sS8BFSotsDEsIDwgRyCwC0NjuAQAYiCwAFBYsEBgWWawAWNgsABDYTgtsDIsLhc8LbAzLCA8IEcgsAtDY7gEAGIgsABQWLBAYFlmsAFjYLAAQ2GwAUNjOC2wNCyxAgAWJSAuIEewACNCsAIlSYqKRyNHI2EgWGIbIVmwASNCsjMBARUUKi2wNSywABawBCWwBCVHI0cjYbAJQytlii4jICA8ijgtsDYssAAWsAQlsAQlIC5HI0cjYSCwBCNCsAlDKyCwYFBYILBAUVizAiADIBuzAiYDGllCQiMgsAhDIIojRyNHI2EjRmCwBEOwAmIgsABQWLBAYFlmsAFjYCCwASsgiophILACQ2BkI7ADQ2FkUFiwAkNhG7ADQ2BZsAMlsAJiILAAUFiwQGBZZrABY2EjICCwBCYjRmE4GyOwCENGsAIlsAhDRyNHI2FgILAEQ7ACYiCwAFBYsEBgWWawAWNgIyCwASsjsARDYLABK7AFJWGwBSWwAmIgsABQWLBAYFlmsAFjsAQmYSCwBCVgZCOwAyVgZFBYIRsjIVkjICCwBCYjRmE4WS2wNyywABYgICCwBSYgLkcjRyNhIzw4LbA4LLAAFiCwCCNCICAgRiNHsAErI2E4LbA5LLAAFrADJbACJUcjRyNhsABUWC4gPCMhG7ACJbACJUcjRyNhILAFJbAEJUcjRyNhsAYlsAUlSbACJWG5CAAIAGNjIyBYYhshWWO4BABiILAAUFiwQGBZZrABY2AjLiMgIDyKOCMhWS2wOiywABYgsAhDIC5HI0cjYSBgsCBgZrACYiCwAFBYsEBgWWawAWMjICA8ijgtsDssIyAuRrACJUZSWCA8WS6xKwEUKy2wPCwjIC5GsAIlRlBYIDxZLrErARQrLbA9LCMgLkawAiVGUlggPFkjIC5GsAIlRlBYIDxZLrErARQrLbA+LLA1KyMgLkawAiVGUlggPFkusSsBFCstsD8ssDYriiAgPLAEI0KKOCMgLkawAiVGUlggPFkusSsBFCuwBEMusCsrLbBALLAAFrAEJbAEJiAuRyNHI2GwCUMrIyA8IC4jOLErARQrLbBBLLEIBCVCsAAWsAQlsAQlIC5HI0cjYSCwBCNCsAlDKyCwYFBYILBAUVizAiADIBuzAiYDGllCQiMgR7AEQ7ACYiCwAFBYsEBgWWawAWNgILABKyCKimEgsAJDYGQjsANDYWRQWLACQ2EbsANDYFmwAyWwAmIgsABQWLBAYFlmsAFjYbACJUZhOCMgPCM4GyEgIEYjR7ABKyNhOCFZsSsBFCstsEIssDUrLrErARQrLbBDLLA2KyEjICA8sAQjQiM4sSsBFCuwBEMusCsrLbBELLAAFSBHsAAjQrIAAQEVFBMusDEqLbBFLLAAFSBHsAAjQrIAAQEVFBMusDEqLbBGLLEAARQTsDIqLbBHLLA0Ki2wSCywABZFIyAuIEaKI2E4sSsBFCstsEkssAgjQrBIKy2wSiyyAABBKy2wSyyyAAFBKy2wTCyyAQBBKy2wTSyyAQFBKy2wTiyyAABCKy2wTyyyAAFCKy2wUCyyAQBCKy2wUSyyAQFCKy2wUiyyAAA+Ky2wUyyyAAE+Ky2wVCyyAQA+Ky2wVSyyAQE+Ky2wViyyAABAKy2wVyyyAAFAKy2wWCyyAQBAKy2wWSyyAQFAKy2wWiyyAABDKy2wWyyyAAFDKy2wXCyyAQBDKy2wXSyyAQFDKy2wXiyyAAA/Ky2wXyyyAAE/Ky2wYCyyAQA/Ky2wYSyyAQE/Ky2wYiywNysusSsBFCstsGMssDcrsDsrLbBkLLA3K7A8Ky2wZSywABawNyuwPSstsGYssDgrLrErARQrLbBnLLA4K7A7Ky2waCywOCuwPCstsGkssDgrsD0rLbBqLLA5Ky6xKwEUKy2wayywOSuwOystsGwssDkrsDwrLbBtLLA5K7A9Ky2wbiywOisusSsBFCstsG8ssDorsDsrLbBwLLA6K7A8Ky2wcSywOiuwPSstsHIsswkEAgNFWCEbIyFZQiuwCGWwAyRQeLABFTAtAEu4AMhSWLEBAY5ZsAG5CAAIAGNwsQAFQrIAAQAqsQAFQrMKAgEIKrEABUKzDgABCCqxAAZCugLAAAEACSqxAAdCugBAAAEACSqxAwBEsSQBiFFYsECIWLEDZESxJgGIUVi6CIAAAQRAiGNUWLEDAERZWVlZswwCAQwquAH/hbAEjbECAEQAAA==\"","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxtZXRhZGF0YT5Db3B5cmlnaHQgKEMpIDIwMTcgYnkgb3JpZ2luYWwgYXV0aG9ycyBAIGZvbnRlbGxvLmNvbTwvbWV0YWRhdGE+CjxkZWZzPgo8Zm9udCBpZD0iZm9udGVsbG8iIGhvcml6LWFkdi14PSIxMDAwIiA+Cjxmb250LWZhY2UgZm9udC1mYW1pbHk9ImZvbnRlbGxvIiBmb250LXdlaWdodD0iNDAwIiBmb250LXN0cmV0Y2g9Im5vcm1hbCIgdW5pdHMtcGVyLWVtPSIxMDAwIiBhc2NlbnQ9Ijg1MCIgZGVzY2VudD0iLTE1MCIgLz4KPG1pc3NpbmctZ2x5cGggaG9yaXotYWR2LXg9IjEwMDAiIC8+CjxnbHlwaCBnbHlwaC1uYW1lPSJvayIgdW5pY29kZT0iJiN4ZTgwMDsiIGQ9Ik05MzMgNTM0cTAtMjItMTYtMzhsLTQwNC00MDQtNzYtNzZxLTE2LTE1LTM4LTE1dC0zOCAxNWwtNzYgNzYtMjAyIDIwMnEtMTUgMTYtMTUgMzh0MTUgMzhsNzYgNzZxMTYgMTYgMzggMTZ0MzgtMTZsMTY0LTE2NSAzNjYgMzY3cTE2IDE2IDM4IDE2dDM4LTE2bDc2LTc2cTE2LTE1IDE2LTM4eiIgaG9yaXotYWR2LXg9IjEwMDAiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0iY2FuY2VsIiB1bmljb2RlPSImI3hlODAxOyIgZD0iTTcyNCAxMTJxMC0yMi0xNS0zOGwtNzYtNzZxLTE2LTE1LTM4LTE1dC0zOCAxNWwtMTY0IDE2NS0xNjQtMTY1cS0xNi0xNS0zOC0xNXQtMzggMTVsLTc2IDc2cS0xNiAxNi0xNiAzOHQxNiAzOGwxNjQgMTY0LTE2NCAxNjRxLTE2IDE2LTE2IDM4dDE2IDM4bDc2IDc2cTE2IDE2IDM4IDE2dDM4LTE2bDE2NC0xNjQgMTY0IDE2NHExNiAxNiAzOCAxNnQzOC0xNmw3Ni03NnExNS0xNSAxNS0zOHQtMTUtMzhsLTE2NC0xNjQgMTY0LTE2NHExNS0xNSAxNS0zOHoiIGhvcml6LWFkdi14PSI3ODUuNyIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJwbHVzIiB1bmljb2RlPSImI3hlODAyOyIgZD0iTTc4NiA0Mzl2LTEwN3EwLTIyLTE2LTM4dC0zOC0xNWgtMjMydi0yMzNxMC0yMi0xNi0zN3QtMzgtMTZoLTEwN3EtMjIgMC0zOCAxNnQtMTUgMzd2MjMzaC0yMzJxLTIzIDAtMzggMTV0LTE2IDM4djEwN3EwIDIzIDE2IDM4dDM4IDE2aDIzMnYyMzJxMCAyMiAxNSAzOHQzOCAxNmgxMDdxMjMgMCAzOC0xNnQxNi0zOHYtMjMyaDIzMnEyMyAwIDM4LTE2dDE2LTM4eiIgaG9yaXotYWR2LXg9Ijc4NS43IiAvPgoKPGdseXBoIGdseXBoLW5hbWU9ImRvd24tYmlnIiB1bmljb2RlPSImI3hlODAzOyIgZD0iTTg5OSAzODZxMC0zMC0yMS01MGwtMzYzLTM2NHEtMjItMjEtNTEtMjEtMjkgMC01MCAyMWwtMzYzIDM2NHEtMjEgMjAtMjEgNTAgMCAyOSAyMSA1MWw0MSA0MXEyMiAyMSA1MSAyMSAyOSAwIDUwLTIxbDE2NC0xNjR2MzkzcTAgMjkgMjEgNTB0NTEgMjJoNzFxMjkgMCA1MC0yMnQyMS01MHYtMzkzbDE2NSAxNjRxMjAgMjEgNTAgMjEgMjkgMCA1MS0yMWw0MS00MXEyMS0yMiAyMS01MXoiIGhvcml6LWFkdi14PSI5MjguNiIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJsZWZ0LWJpZyIgdW5pY29kZT0iJiN4ZTgwNDsiIGQ9Ik04NTcgMzUwdi03MXEwLTMwLTE4LTUxdC00Ny0yMWgtMzkzbDE2NC0xNjRxMjEtMjAgMjEtNTB0LTIxLTUwbC00Mi00M3EtMjEtMjAtNTEtMjAtMjkgMC01MCAyMGwtMzY0IDM2NHEtMjAgMjEtMjAgNTAgMCAyOSAyMCA1MWwzNjQgMzYzcTIxIDIxIDUwIDIxIDI5IDAgNTEtMjFsNDItNDFxMjEtMjIgMjEtNTF0LTIxLTUxbC0xNjQtMTY0aDM5M3EyOSAwIDQ3LTIwdDE4LTUxeiIgaG9yaXotYWR2LXg9Ijg1Ny4xIiAvPgoKPGdseXBoIGdseXBoLW5hbWU9InJpZ2h0LWJpZyIgdW5pY29kZT0iJiN4ZTgwNTsiIGQ9Ik04MjEgMzE0cTAtMzAtMjAtNTBsLTM2My0zNjRxLTIyLTIwLTUxLTIwLTI5IDAtNTAgMjBsLTQyIDQycS0yMiAyMS0yMiA1MXQyMiA1MWwxNjMgMTYzaC0zOTNxLTI5IDAtNDcgMjF0LTE4IDUxdjcxcTAgMzAgMTggNTF0NDcgMjBoMzkzbC0xNjMgMTY1cS0yMiAyMC0yMiA1MHQyMiA1MGw0MiA0MnEyMSAyMSA1MCAyMSAyOSAwIDUxLTIxbDM2My0zNjNxMjAtMjAgMjAtNTF6IiBob3Jpei1hZHYteD0iODU3LjEiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0idXAtYmlnIiB1bmljb2RlPSImI3hlODA2OyIgZD0iTTg5OSAzMDhxMC0yOC0yMS01MGwtNDEtNDJxLTIyLTIxLTUxLTIxLTMwIDAtNTAgMjFsLTE2NSAxNjR2LTM5M3EwLTI5LTIwLTQ3dC01MS0xOWgtNzFxLTMwIDAtNTEgMTl0LTIxIDQ3djM5M2wtMTY0LTE2NHEtMjAtMjEtNTAtMjF0LTUwIDIxbC00MiA0MnEtMjEgMjEtMjEgNTAgMCAzMCAyMSA1MWwzNjMgMzYzcTIwIDIxIDUwIDIxIDMwIDAgNTEtMjFsMzYzLTM2M3EyMS0yMiAyMS01MXoiIGhvcml6LWFkdi14PSI5MjguNiIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJsZWZ0LW9wZW4iIHVuaWNvZGU9IiYjeGU4MDc7IiBkPSJNNjU0IDY4MmwtMjk3LTI5NiAyOTctMjk3cTEwLTEwIDEwLTI1dC0xMC0yNWwtOTMtOTNxLTExLTEwLTI1LTEwdC0yNSAxMGwtNDE0IDQxNXEtMTEgMTAtMTEgMjV0MTEgMjVsNDE0IDQxNHExMCAxMSAyNSAxMXQyNS0xMWw5My05M3ExMC0xMCAxMC0yNXQtMTAtMjV6IiBob3Jpei1hZHYteD0iNzE0LjMiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0icmlnaHQtb3BlbiIgdW5pY29kZT0iJiN4ZTgwODsiIGQ9Ik02MTggMzYxbC00MTQtNDE1cS0xMS0xMC0yNS0xMHQtMjUgMTBsLTkzIDkzcS0xMSAxMS0xMSAyNXQxMSAyNWwyOTYgMjk3LTI5NiAyOTZxLTExIDExLTExIDI1dDExIDI1bDkzIDkzcTEwIDExIDI1IDExdDI1LTExbDQxNC00MTRxMTAtMTEgMTAtMjV0LTEwLTI1eiIgaG9yaXotYWR2LXg9IjcxNC4zIiAvPgoKPGdseXBoIGdseXBoLW5hbWU9IndyZW5jaCIgdW5pY29kZT0iJiN4ZTgwOTsiIGQ9Ik0yMTQgMjlxMCAxNC0xMCAyNXQtMjUgMTAtMjUtMTAtMTEtMjUgMTEtMjUgMjUtMTEgMjUgMTEgMTAgMjV6IG0zNjAgMjM0bC0zODEtMzgxcS0yMS0yMC01MC0yMC0yOSAwLTUxIDIwbC01OSA2MXEtMjEgMjAtMjEgNTAgMCAyOSAyMSA1MWwzODAgMzgwcTIyLTU1IDY0LTk3dDk3LTY0eiBtMzU0IDI0M3EwLTIyLTEzLTU5LTI3LTc1LTkyLTEyMnQtMTQ0LTQ2cS0xMDQgMC0xNzcgNzN0LTczIDE3NyA3MyAxNzYgMTc3IDc0cTMyIDAgNjctMTB0NjAtMjZxOS02IDktMTV0LTktMTZsLTE2My05NHYtMTI1bDEwOC02MHEyIDIgNDQgMjd0NzUgNDUgNDAgMjBxOCAwIDEzLTV0NS0xNHoiIGhvcml6LWFkdi14PSI5MjguNiIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJyZXNpemUtZnVsbCIgdW5pY29kZT0iJiN4ZTgwYTsiIGQ9Ik00MjEgMjYxcTAtNy01LTEzbC0xODUtMTg1IDgwLTgxcTEwLTEwIDEwLTI1dC0xMC0yNS0yNS0xMWgtMjUwcS0xNSAwLTI1IDExdC0xMSAyNXYyNTBxMCAxNSAxMSAyNXQyNSAxMSAyNS0xMWw4MC04MCAxODYgMTg1cTUgNiAxMiA2dDEzLTZsNjQtNjNxNS02IDUtMTN6IG00MzYgNDgydi0yNTBxMC0xNS0xMC0yNXQtMjYtMTEtMjUgMTFsLTgwIDgwLTE4NS0xODVxLTYtNi0xMy02dC0xMyA2bC02NCA2NHEtNSA1LTUgMTJ0NSAxM2wxODYgMTg1LTgxIDgxcS0xMCAxMC0xMCAyNXQxMCAyNSAyNSAxMWgyNTBxMTUgMCAyNi0xMXQxMC0yNXoiIGhvcml6LWFkdi14PSI4NTcuMSIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJjdyIgdW5pY29kZT0iJiN4ZTgwYjsiIGQ9Ik04NTcgNzA3di0yNTBxMC0xNC0xMC0yNXQtMjYtMTFoLTI1MHEtMjMgMC0zMiAyMy0xMCAyMiA3IDM4bDc3IDc3cS04MiA3Ny0xOTQgNzctNTggMC0xMTEtMjN0LTkxLTYxLTYxLTkxLTIzLTExMSAyMy0xMTEgNjEtOTEgOTEtNjEgMTExLTIzcTY2IDAgMTI1IDI5dDEwMCA4MnE0IDYgMTMgNyA4IDAgMTQtNWw3Ni03N3E1LTQgNi0xMXQtNS0xM3EtNjAtNzQtMTQ3LTExNHQtMTgyLTQxcS04NyAwLTE2NyAzNHQtMTM2IDkyLTkyIDEzNy0zNCAxNjYgMzQgMTY2IDkyIDEzNyAxMzYgOTIgMTY3IDM0cTgyIDAgMTU4LTMxdDEzNy04OGw3MiA3MnExNyAxOCAzOSA4IDIyLTkgMjItMzN6IiBob3Jpei1hZHYteD0iODU3LjEiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0idHJhc2gtZW1wdHkiIHVuaWNvZGU9IiYjeGU4MGU7IiBkPSJNMjg2IDQzOXYtMzIxcTAtOC01LTEzdC0xMy01aC0zNnEtOCAwLTEzIDV0LTUgMTN2MzIxcTAgOCA1IDEzdDEzIDVoMzZxOCAwIDEzLTV0NS0xM3ogbTE0MyAwdi0zMjFxMC04LTUtMTN0LTEzLTVoLTM2cS04IDAtMTMgNXQtNSAxM3YzMjFxMCA4IDUgMTN0MTMgNWgzNnE4IDAgMTMtNXQ1LTEzeiBtMTQyIDB2LTMyMXEwLTgtNS0xM3QtMTItNWgtMzZxLTggMC0xMyA1dC01IDEzdjMyMXEwIDggNSAxM3QxMyA1aDM2cTcgMCAxMi01dDUtMTN6IG03Mi00MDR2NTI5aC01MDB2LTUyOXEwLTEyIDQtMjJ0OC0xNSA2LTVoNDY0cTIgMCA2IDV0OCAxNSA0IDIyeiBtLTM3NSA2MDFoMjUwbC0yNyA2NXEtNCA1LTkgNmgtMTc3cS02LTEtMTAtNnogbTUxOC0xOHYtMzZxMC04LTUtMTN0LTEzLTVoLTU0di01MjlxMC00Ni0yNi04MHQtNjMtMzRoLTQ2NHEtMzcgMC02MyAzM3QtMjcgNzl2NTMxaC01M3EtOCAwLTEzIDV0LTUgMTN2MzZxMCA4IDUgMTN0MTMgNWgxNzJsMzkgOTNxOSAyMSAzMSAzNXQ0NCAxNWgxNzhxMjMgMCA0NC0xNXQzMC0zNWwzOS05M2gxNzNxOCAwIDEzLTV0NS0xM3oiIGhvcml6LWFkdi14PSI3ODUuNyIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJmb250IiB1bmljb2RlPSImI3hlODBmOyIgZD0iTTQwNSA1MzhsLTk1LTI1MXExOCAwIDc2LTF0ODktMXExMSAwIDMyIDEtNDggMTQxLTEwMiAyNTJ6IG0tNDA1LTYxN2wxIDQ0cTEzIDQgMzEgN3QzMiA2IDI4IDggMjUgMTcgMTcgMjhsMTMyIDM0NCAxNTYgNDA0aDcycTQtOCA2LTEybDExNC0yNjhxMTktNDMgNjAtMTQ0dDYzLTE1M3E5LTE5IDMzLTgwdDQwLTk0cTExLTI2IDE5LTMyIDExLTkgNDktMTd0NDctMTFxNC0yMiA0LTMyIDAtMy0xLTh0MC03cS0zNSAwLTEwNiA1dC0xMDcgNHEtNDIgMC0xMjAtNHQtOTktNHEwIDI0IDIgNDNsNzMgMTZxMSAwIDcgMXQ5IDIgOCAzIDkgNCA2IDQgNSA2IDEgOHEwIDktMTcgNTR0LTQwIDk5LTI0IDU2bC0yNTEgMXEtMTQtMzItNDMtMTA5dC0yOC05MXEwLTEyIDgtMjF0MjQtMTQgMjctNyAzMi01IDIzLTJxMS0xMSAxLTMyIDAtNS0xLTE2LTMzIDAtOTggNnQtOTcgNnEtNSAwLTE1LTN0LTEyLTJxLTQ1LTgtMTA1LTh6IiBob3Jpei1hZHYteD0iOTI4LjYiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0iem9vbS1pbiIgdW5pY29kZT0iJiN4ZTgxMDsiIGQ9Ik01NzEgNDA0di0zNnEwLTctNS0xM3QtMTItNWgtMTI1di0xMjVxMC03LTYtMTN0LTEyLTVoLTM2cS03IDAtMTMgNXQtNSAxM3YxMjVoLTEyNXEtNyAwLTEyIDV0LTYgMTN2MzZxMCA3IDYgMTJ0MTIgNWgxMjV2MTI1cTAgOCA1IDEzdDEzIDVoMzZxNyAwIDEyLTV0Ni0xM3YtMTI1aDEyNXE3IDAgMTItNXQ1LTEyeiBtNzItMThxMCAxMDMtNzMgMTc2dC0xNzcgNzQtMTc3LTc0LTczLTE3NiA3My0xNzcgMTc3LTczIDE3NyA3MyA3MyAxNzd6IG0yODYtNDY1cTAtMjktMjEtNTB0LTUxLTIxcS0zMCAwLTUwIDIxbC0xOTEgMTkxcS0xMDAtNjktMjIzLTY5LTgwIDAtMTUzIDMxdC0xMjUgODQtODQgMTI1LTMxIDE1MyAzMSAxNTIgODQgMTI2IDEyNSA4NCAxNTMgMzEgMTUzLTMxIDEyNS04NCA4NC0xMjYgMzEtMTUycTAtMTIzLTY5LTIyM2wxOTEtMTkxcTIxLTIxIDIxLTUxeiIgaG9yaXotYWR2LXg9IjkyOC42IiAvPgoKPGdseXBoIGdseXBoLW5hbWU9Inpvb20tb3V0IiB1bmljb2RlPSImI3hlODExOyIgZD0iTTU3MSA0MDR2LTM2cTAtNy01LTEzdC0xMi01aC0zMjJxLTcgMC0xMiA1dC02IDEzdjM2cTAgNyA2IDEydDEyIDVoMzIycTcgMCAxMi01dDUtMTJ6IG03Mi0xOHEwIDEwMy03MyAxNzZ0LTE3NyA3NC0xNzctNzQtNzMtMTc2IDczLTE3NyAxNzctNzMgMTc3IDczIDczIDE3N3ogbTI4Ni00NjVxMC0yOS0yMS01MHQtNTEtMjFxLTMwIDAtNTAgMjFsLTE5MSAxOTFxLTEwMC02OS0yMjMtNjktODAgMC0xNTMgMzF0LTEyNSA4NC04NCAxMjUtMzEgMTUzIDMxIDE1MiA4NCAxMjYgMTI1IDg0IDE1MyAzMSAxNTMtMzEgMTI1LTg0IDg0LTEyNiAzMS0xNTJxMC0xMjMtNjktMjIzbDE5MS0xOTFxMjEtMjEgMjEtNTF6IiBob3Jpei1hZHYteD0iOTI4LjYiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0ibW92ZSIgdW5pY29kZT0iJiN4ZjA0NzsiIGQ9Ik0xMDAwIDM1MHEwLTE0LTExLTI1bC0xNDItMTQzcS0xMS0xMS0yNi0xMXQtMjUgMTEtMTAgMjV2NzJoLTIxNXYtMjE1aDcycTE0IDAgMjUtMTB0MTEtMjUtMTEtMjVsLTE0My0xNDNxLTEwLTExLTI1LTExdC0yNSAxMWwtMTQzIDE0M3EtMTEgMTAtMTEgMjV0MTEgMjUgMjUgMTBoNzJ2MjE1aC0yMTV2LTcycTAtMTQtMTAtMjV0LTI1LTExLTI1IDExbC0xNDMgMTQzcS0xMSAxMS0xMSAyNXQxMSAyNWwxNDMgMTQzcTEwIDExIDI1IDExdDI1LTExIDEwLTI1di03MmgyMTV2MjE1aC03MnEtMTQgMC0yNSAxMHQtMTEgMjUgMTEgMjZsMTQzIDE0MnExMSAxMSAyNSAxMXQyNS0xMWwxNDMtMTQycTExLTExIDExLTI2dC0xMS0yNS0yNS0xMGgtNzJ2LTIxNWgyMTV2NzJxMCAxNCAxMCAyNXQyNSAxMSAyNi0xMWwxNDItMTQzcTExLTEwIDExLTI1eiIgaG9yaXotYWR2LXg9IjEwMDAiIC8+Cgo8Z2x5cGggZ2x5cGgtbmFtZT0icmVzaXplLWZ1bGwtYWx0IiB1bmljb2RlPSImI3hmMGIyOyIgZD0iTTcxNiA1NDhsLTE5OC0xOTggMTk4LTE5OCA4MCA4MHExNyAxOCAzOSA4IDIyLTkgMjItMzN2LTI1MHEwLTE0LTEwLTI1dC0yNi0xMWgtMjUwcS0yMyAwLTMyIDIzLTEwIDIxIDcgMzhsODEgODEtMTk4IDE5OC0xOTgtMTk4IDgwLTgxcTE3LTE3IDgtMzgtMTAtMjMtMzMtMjNoLTI1MHEtMTUgMC0yNSAxMXQtMTEgMjV2MjUwcTAgMjQgMjIgMzMgMjIgMTAgMzktOGw4MC04MCAxOTggMTk4LTE5OCAxOTgtODAtODBxLTExLTExLTI1LTExLTcgMC0xNCAzLTIyIDktMjIgMzN2MjUwcTAgMTQgMTEgMjV0MjUgMTFoMjUwcTIzIDAgMzMtMjMgOS0yMS04LTM4bC04MC04MSAxOTgtMTk4IDE5OCAxOTgtODEgODFxLTE3IDE3LTcgMzggOSAyMyAzMiAyM2gyNTBxMTUgMCAyNi0xMXQxMC0yNXYtMjUwcTAtMjQtMjItMzMtNy0zLTE0LTMtMTQgMC0yNSAxMXoiIGhvcml6LWFkdi14PSI4NTcuMSIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJibGFuayIgdW5pY29kZT0iJiN4ZjBjODsiIGQ9Ik04NTcgNjE4di01MzZxMC02Ni00Ny0xMTN0LTExNC00OGgtNTM1cS02NyAwLTExNCA0OHQtNDcgMTEzdjUzNnEwIDY2IDQ3IDExM3QxMTQgNDhoNTM1cTY3IDAgMTE0LTQ4dDQ3LTExM3oiIGhvcml6LWFkdi14PSI4NTcuMSIgLz4KCjxnbHlwaCBnbHlwaC1uYW1lPSJzb3J0LWRvd24iIHVuaWNvZGU9IiYjeGYwZGQ7IiBkPSJNNTcxIDI0M3EwLTE1LTEwLTI1bC0yNTAtMjUwcS0xMS0xMS0yNS0xMXQtMjUgMTFsLTI1MCAyNTBxLTExIDEwLTExIDI1dDExIDI1IDI1IDExaDUwMHExNCAwIDI1LTExdDEwLTI1eiIgaG9yaXotYWR2LXg9IjU3MS40IiAvPgoKPGdseXBoIGdseXBoLW5hbWU9Im1vdXNlLXBvaW50ZXIiIHVuaWNvZGU9IiYjeGYyNDU7IiBkPSJNNjMyIDI2OHExOC0xNyA4LTM4LTktMjMtMzMtMjNoLTIxM2wxMTItMjY2cTYtMTMgMC0yN3QtMTktMTlsLTk5LTQycS0xNC02LTI3IDB0LTE5IDE5bC0xMDcgMjUyLTE3NC0xNzRxLTExLTExLTI1LTExLTcgMC0xNCAzLTIyIDEwLTIyIDMzdjgzOXEwIDI0IDIyIDMzIDcgMyAxNCAzIDE1IDAgMjUtMTF6IiBob3Jpei1hZHYteD0iNzE0LjMiIC8+CjwvZm9udD4KPC9kZWZzPgo8L3N2Zz4=\"","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./Builder.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./Builder.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./Builder.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"/* Containers */\\n\\n/* The top level container for an Escher Builder */\\n.escher-container {\\n  font-family: \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif !important;\\n  background-color: #F3F3F3;\\n  text-align: center;\\n  position: relative;\\n  font-size: 14px;\\n  color: #333333;\\n}\\n\\n/* Applied to the body when Escher fills the screen. This stops browser from\\nshowing scroll-end animations. */\\nhtml.fill-screen {\\n  height: 100%;\\n  width: 100%;\\n}\\nbody.fill-screen {\\n  margin: 0;\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%;\\n}\\n\\n/* Applied to top level container (generally .escher-container) when Escher\\nfills the screen. These make sure Escher completely fills the screen, even after\\nresizes. */\\n.fill-screen-div {\\n  margin: 0;\\n  padding: 0;\\n  position: fixed;\\n  top: 0px;\\n  bottom: 0px;\\n  left: 0px;\\n  right: 0px;\\n  width: 100% !important;\\n  height: 100% !important;\\n  z-index: 1000;\\n}\\n\\n/* The zoom container classes. */\\n.escher-container .escher-zoom-container,\\n.escher-container .escher-3d-transform-container,\\n.escher-container svg.escher-svg {\\n  width: 100% !important;\\n  height: 100% !important;\\n  overflow: hidden;\\n}\\n\\n/* SVG text should not be selectable */\\n.escher-container svg text {\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n/* Status */\\n.escher-container #status {\\n  position:absolute;\\n  bottom:10px;\\n  left: 20px;\\n  color: red;\\n  background-color: white;\\n  font-size: 16px\\n}\\n\\n/* Search & Menu */\\n.escher-container .search-menu-container {\\n  position: absolute;\\n  width: 100%;\\n  top: 0px;\\n  left: 0px;\\n  margin: 0;\\n  text-align: center;\\n  pointer-events: none;\\n}\\n.escher-container .search-menu-container-inline {\\n  box-sizing: border-box;\\n  width: 320px;\\n  display: inline-block;\\n  text-align: left;\\n  pointer-events: auto;\\n}\\n@media (min-width: 550px) {\\n  .escher-container .search-menu-container-inline {\\n    width: 410px;\\n  }\\n}\\n\\n/* Reaction input */\\n.escher-container #rxn-input {\\n  z-index: 10;\\n  width: 200px;\\n}\\n.escher-container .input-close-button {\\n  position: absolute;\\n  right: 0px;\\n  width: 18px;\\n  bottom: 0px;\\n  padding: 0px;\\n  border-width: 0px;\\n  margin: 0px;\\n  background: none;\\n  font-size: 20px;\\n  font-weight: normal;\\n  top: -8px;\\n}\\n.escher-container .input-close-button:hover {\\n  color: #ff3333;\\n  font-weight: bold;\\n}\\n\\n/* text edit input */\\n.escher-container #text-edit-input input {\\n  width: 500px;\\n  border: 1px solid #cccccc;\\n  font-size: 22px;\\n}\\n\\n.escher-container #tooltip-container {\\n  -ms-touch-action: none;\\n  touch-action: none;\\n}\\n\\n/* Buttons */\\n.escher-container .btn {\\n  color: white!important;\\n  border: 1px solid #2E2F2F;\\n  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);\\n  background-color: white;\\n  cursor: pointer;\\n}\\n\\n.escher-container .btn:active {\\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export default \"svg.escher-svg #mouse-node {\\n  fill: none;\\n}\\nsvg.escher-svg #canvas {\\n  stroke: #ccc;\\n  stroke-width: 7px;\\n  fill: white;\\n}\\nsvg.escher-svg .resize-rect {\\n  fill: black;\\n  opacity: 0;\\n  stroke: none;\\n}\\nsvg.escher-svg .label {\\n  font-family: sans-serif;\\n  font-style: italic;\\n  font-weight: bold;\\n  font-size: 8px;\\n  fill: black;\\n  stroke: none;\\n  text-rendering: optimizelegibility;\\n  cursor: default;\\n}\\nsvg.escher-svg .reaction-label {\\n  font-size: 30px;\\n  fill: rgb(32, 32, 120);\\n  text-rendering: optimizelegibility;\\n}\\nsvg.escher-svg .node-label {\\n  font-size: 20px;\\n}\\nsvg.escher-svg .gene-label {\\n  font-size: 18px;\\n  fill: rgb(32, 32, 120);\\n  text-rendering: optimizelegibility;\\n  cursor: default;\\n}\\nsvg.escher-svg .text-label .label {\\n  font-size: 50px;\\n}\\nsvg.escher-svg .text-label-input {\\n  font-size: 50px;\\n}\\nsvg.escher-svg .node-circle {\\n  stroke-width: 2px;\\n}\\nsvg.escher-svg .midmarker-circle, svg.escher-svg .multimarker-circle {\\n  fill: white;\\n  fill-opacity: 0.2;\\n  stroke: rgb(50, 50, 50);\\n}\\nsvg.escher-svg g.selected .node-circle{\\n  stroke-width: 6px;\\n  stroke: rgb(20, 113, 199);\\n}\\nsvg.escher-svg g.selected .label {\\n  fill: rgb(20, 113, 199);\\n}\\n/* svg.escher-svg .metabolite-circle {\\n  stroke: rgb(162, 69, 16);\\n  fill: rgb(224, 134, 91);\\n} */\\nsvg.escher-svg .metabolite-circle {\\n  stroke: rgb(162, 69, 16);\\n  fill: rgb(224, 134, 91);\\n}\\n\\n\\n\\nsvg.escher-svg g.selected .metabolite-circle {\\n  stroke: rgb(5, 2, 0);\\n  fill: rgb(162, 26, 16)\\n}\\nsvg.escher-svg .segment {\\n  stroke: #334E75;\\n  stroke-width: 10px;\\n  fill: none;\\n}\\nsvg.escher-svg .arrowhead {\\n  fill: #334E75;\\n}\\nsvg.escher-svg .stoichiometry-label-rect {\\n  fill: white;\\n  opacity: 0.5;\\n}\\nsvg.escher-svg .stoichiometry-label {\\n  fill: #334E75;\\n  font-size: 17px;\\n}\\nsvg.escher-svg .membrane {\\n  fill: none;\\n  stroke: rgb(255, 187, 0);\\n}\\nsvg.escher-svg .brush .extent {\\n  fill-opacity: 0.1;\\n  fill: black;\\n  stroke: #fff;\\n  shape-rendering: crispEdges;\\n}\\nsvg.escher-svg #brush-container .background {\\n  fill: none;\\n}\\nsvg.escher-svg .bezier-circle {\\n  fill: rgb(255,255,255);\\n}\\nsvg.escher-svg .bezier-circle.b1 {\\n  stroke: red;\\n}\\nsvg.escher-svg .bezier-circle.b2 {\\n  stroke: blue;\\n}\\nsvg.escher-svg .connect-line{\\n  stroke: rgb(200,200,200);\\n}\\nsvg.escher-svg .direction-arrow {\\n  cursor: default;\\n  stroke: black;\\n  stroke-width: 1px;\\n  fill: white;\\n  opacity: 0.3;\\n}\\nsvg.escher-svg .start-reaction-target {\\n  stroke: rgb(100,100,100);\\n  fill: none;\\n  opacity: 0.5;\\n}\\nsvg.escher-svg .rotation-center-line {\\n  stroke: red;\\n  stroke-width: 5px;\\n}\\nsvg.escher-svg .highlight {\\n  fill: #D97000;\\n  text-decoration: underline;\\n}\\nsvg.escher-svg .node-to-combine {\\n  stroke-width: 12px !important;\\n}\\n\"","/** DataMenu */\n\nvar utils = require('./utils');\nvar d3_json = require('d3-request').json\n\nmodule.exports = function(options) {\n    var o = utils.set_options(options, {\n        selection: null,\n        getdatafiles: null,\n        datafiles: null,\n        update_callback: null,\n        target: null});\n\n    if (o.selection===null)\n        throw new Error('No selection provided for DataMenu');\n\n    // setup dropdown menu\n    // Append menu if it doesn't exist\n    var menu = o.selection.select('.data-menu');\n    if (menu.empty()) {\n        menu = o.selection.append('div')\n            .attr('class','data-menu');\n    }\n    var select_sel = menu.append('form')\n            .append('select').attr('class','dropdown-menu');\n\n    if (o.getdatafiles) {\n        if (o.datafiles) {\n            console.warn('DataMenu: getdatafiles option overrides datafiles');\n        }\n        d3_json(o.getdatafiles, function(error, d) {\n            // returns json object:  { data: [file0, file1, ...] }\n            if (error) {\n                return console.warn(error);\n            } else {\n                load_with_files(o.target, d.data, select_sel, o.update_callback, o.selection);\n            }\n            return null;\n        });\n    } else if (o.datafiles) {\n        load_with_files(o.target, o.datafiles, select_sel, o.update_callback, o.selection);\n    } else {\n        console.warn('DataMenu: No datafiles given');\n    }\n\n    return { update: update };\n\n    // definitions\n    function load_with_files(t, files, select_sel, update_callback, selection) {\n\n        //when it changes\n        select_sel.node().addEventListener(\"change\", function() {\n            load_datafile(t, this.value, selection, update_callback);\n        }, false);\n\n        var file = files[0];\n\n        update(files, select_sel);\n        load_datafile(t, file, selection, update_callback);\n    };\n    function load_datafile(t, this_file, selection, callback) {\n        utils.load_the_file(t, this_file, function(error, data) {\n            if (error) {\n                return console.warn(error);\n                selection.append('error loading');\n                o.data = null;\n            } else {\n                o.data = data;\n                if (callback) {\n                    callback(data);\n                }\n            }\n        });\n    };\n\n    function update(list, select_sel) {\n        // update select element with d3 selection /select_sel/ to have options\n        // given by /list/\n        // TODO remove paths from file list\n        select_sel.selectAll(\".menu-option\")\n            .data(list)\n            .enter()\n            .append('option')\n            .attr('value', function (d) { return d; } )\n            .text(function (d) { return d; } );\n        // TODO set value to default_filename_index\n        select_sel.node().focus();\n    };\n\n    function get_data() {\n        return o.data;\n    };\n};\n","/* global ESCHER_VERSION */\n\nimport { default as Builder } from './Builder'\nimport { select as d3Select } from 'd3-selection'\nimport _ from 'underscore'\n\n// These will be conditionally defined below\nexport let EscherMapView = null\nexport let EscherMapModel = null\n\n// @jupyter-widgets/base is optional, so only initialize if it's called\nlet base\ntry {\n  base = require('@jupyter-widgets/base')\n} catch (e) {\n}\nif (base) {\n  const version = ESCHER_VERSION\n\n  // These options can be set without explicitly redrawing the map. List is\n  // probably not complete.\n  const NO_DRAW_OPTIONS = [\n    'menu',\n    'scroll_behavior',\n    'use_3d_transform',\n    'enable_editing',\n    'enable_keys',\n    'full_screen_button',\n    // these already redraw\n    'reaction_data',\n    'metabolite_data',\n    'gene_data'\n  ]\n\n  const WITH_API_FUNCTIONS = {\n    reaction_data: 'set_reaction_data',\n    metabolite_data: 'set_metabolite_data',\n    gene_data: 'set_gene_data'\n  }\n\n  /**\n   * Jupyter widget implementation for the Escher Builder.\n   */\n  // eslint-disable-next-line no-unused-vars\n  class EscherMapViewRef extends base.DOMWidgetView {\n    render () {\n      if (!base) {\n        throw Error('@jupyter-widgets/base not installed. You must install it to ' +\n                    'use the jupyter widget')\n      }\n\n      const sel = d3Select(this.el).append('div')\n\n      // set height before loading map\n      this.setHeight(sel)\n\n      _.defer(() => {\n        this.builder = new Builder(\n          this.getMapData(),\n          this.getModelData(),\n          this.model.get('embedded_css'),\n          sel,\n          {\n            first_load_callback: builder => {\n              // reset map json in widget\n              builder.callback_manager.set('clear_map', () => {\n                this.model.set('_loaded_map_json', null)\n                this.model.save_changes()\n              })\n\n              // reset model json in widget\n              builder.callback_manager.set('clear_model', () => {\n                this.model.set('_loaded_model_json', null)\n                this.model.save_changes()\n              })\n\n              // update functions\n              this.model.on('change:height', () => {\n                this.setHeight(sel)\n              })\n              this.model.on('change:_loaded_map_json', () => {\n                builder.load_map(this.getMapData())\n              })\n              this.model.on('change:_loaded_model_json', () => {\n                builder.load_model(this.getModelData())\n              })\n\n              // sync changes from options (only after they have been accepted)\n              _.mapObject(builder.settings.acceptedStreams, (stream, key) => {\n                if (this.model.keys().includes(key)) {\n                  const val = this.model.get(key)\n                  if (val !== null) {\n                    // if set, use the value from Python\n                    if (key in WITH_API_FUNCTIONS) {\n                      builder[WITH_API_FUNCTIONS[key]](val)\n                    } else {\n                      builder.settings.set(key, val)\n                    }\n                  } else {\n                    // otherwise use the default from JavaScript\n                    this.model.set(key, builder.settings.get(key))\n                    this.model.save_changes()\n                  }\n\n                  // reactive updates\n                  this.model.on(`change:${key}`, () => {\n                    const val = this.model.get(key)\n                    // stop if hasn't changed\n                    if (!_.isEqual(val, builder.settings.get(key))) {\n                      if (key in WITH_API_FUNCTIONS) {\n                        builder[WITH_API_FUNCTIONS[key]](val)\n                      } else {\n                        builder.settings.set(key, val)\n                      }\n\n                      // default to drawing everything, unless it's a common\n                      // option where that's not necessary\n                      if (!NO_DRAW_OPTIONS.includes(key)) {\n                        builder.map.draw_everything()\n                      }\n                    }\n                  })\n                }\n\n                stream.onValue(val => {\n                  // avoid a loop with a deep comparison\n                  if (!_.isEqual(val, this.model.get(key))) {\n                    this.model.set(key, val)\n                    this.model.save_changes()\n                  }\n                })\n              })\n\n              // draw again to get settings visualized\n              builder.map.draw_everything()\n            }\n          }\n        )\n      })\n    }\n\n    setHeight (sel) {\n      sel.style('height', `${this.model.get('height')}px`)\n    }\n\n    getMapData () {\n      const json = this.model.get('_loaded_map_json')\n      return json ? JSON.parse(json) : null\n    }\n\n    getModelData () {\n      const json = this.model.get('_loaded_model_json')\n      return json ? JSON.parse(json) : null\n    }\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  class EscherMapModelRef extends base.DOMWidgetModel {\n    defaults () {\n      return _.extend(super.defaults(), {\n        _model_name: 'EscherMapModel',\n        _view_name: 'EscherMapView',\n        _model_module: 'escher',\n        _view_module: 'escher',\n        _model_module_version: version,\n        _view_module_version: version\n      })\n    }\n  }\n\n  // Trick for conditional exports\n  EscherMapView = EscherMapViewRef\n  EscherMapModel = EscherMapModelRef\n}\n","if(typeof @jupyter-widgets/base === 'undefined') {var e = new Error(\"Cannot find module '@jupyter-widgets/base'\"); e.code = 'MODULE_NOT_FOUND'; throw e;}\nmodule.exports = @jupyter-widgets/base;","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","import transpose from \"./transpose\";\n\nexport default function() {\n  return transpose(arguments);\n}\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal(range) {\n  var index = map(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band()\n        .domain(domain())\n        .range(range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return rescale();\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band().paddingInner(1));\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","import {map} from \"./array\";\nimport {linearish} from \"./linear\";\nimport number from \"./number\";\n\nexport default function identity() {\n  var domain = [0, 1];\n\n  function scale(x) {\n    return +x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = map.call(_, number), scale) : domain.slice();\n  };\n\n  scale.copy = function() {\n    return identity().domain(domain);\n  };\n\n  return linearish(scale);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport constant from \"./constant\";\nimport nice from \"./nice\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction deinterpolate(a, b) {\n  return (b = Math.log(b / a))\n      ? function(x) { return Math.log(x / a) / b; }\n      : constant(b);\n}\n\nfunction reinterpolate(a, b) {\n  return a < 0\n      ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n      : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport default function log() {\n  var scale = continuous(deinterpolate, reinterpolate).domain([1, 10]),\n      domain = scale.domain,\n      base = 10,\n      logs = logp(10),\n      pows = powp(10);\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  scale.copy = function() {\n    return copy(scale, log().base(base));\n  };\n\n  return scale;\n}\n","import constant from \"./constant\";\nimport {linearish} from \"./linear\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction raise(x, exponent) {\n  return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n}\n\nexport default function pow() {\n  var exponent = 1,\n      scale = continuous(deinterpolate, reinterpolate),\n      domain = scale.domain;\n\n  function deinterpolate(a, b) {\n    return (b = raise(b, exponent) - (a = raise(a, exponent)))\n        ? function(x) { return (raise(x, exponent) - a) / b; }\n        : constant(b);\n  }\n\n  function reinterpolate(a, b) {\n    b = raise(b, exponent) - (a = raise(a, exponent));\n    return function(t) { return raise(a + b * t, 1 / exponent); };\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n  };\n\n  scale.copy = function() {\n    return copy(scale, pow().exponent(exponent));\n  };\n\n  return linearish(scale);\n}\n\nexport function sqrt() {\n  return pow().exponent(0.5);\n}\n","import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [];\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    if (!isNaN(x = +x)) return range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {linearish} from \"./linear\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1];\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range);\n  };\n\n  return linearish(scale);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      n = 1;\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(deinterpolate, reinterpolate),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import {calendar} from \"./time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond} from \"d3-time\";\n\nexport default function() {\n  return calendar(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n}\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","import colors from \"./colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import {linearish} from \"./linear\";\n\nexport default function sequential(interpolator) {\n  var x0 = 0,\n      x1 = 1,\n      clamp = false;\n\n  function scale(x) {\n    var t = (x - x0) / (x1 - x0);\n    return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.copy = function() {\n    return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n  };\n\n  return linearish(scale);\n}\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0  u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function ZoomEvent(target, type, transform) {\n  this.target = target;\n  this.type = type;\n  this.transform = transform;\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta() {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n            .start()\n            .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n            .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p);\n  };\n\n  zoom.scaleTo = function(selection, k, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p);\n  };\n\n  zoom.translateBy = function(selection, x, y) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    });\n  };\n\n  zoom.translateTo = function(selection, x, y, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function wheeled() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = mouse(this);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent();\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments, true),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = mouse(this),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation();\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved() {\n      noevent();\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped() {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent();\n      g.end();\n    }\n  }\n\n  function dblclicked() {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = mouse(this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments), translateExtent);\n\n    noevent();\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0);\n    else select(this).call(zoom.transform, t1);\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, arguments, event.changedTouches.length === n),\n        started, i, t, p;\n\n    nopropagation();\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent();\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    g.taps = 0;\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation();\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        var p = select(this).on(\"dblclick.zoom\");\n        if (p) p.apply(this, arguments);\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  return zoom;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(target, type, selection) {\n  this.target = target;\n  this.type = type;\n  this.selection = selection;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {customEvent, event, mouse, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant\";\nimport BrushEvent from \"./event\";\nimport noevent, {nopropagation} from \"./noevent\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nvar X = {\n  name: \"x\",\n  handles: [\"e\", \"w\"].map(type),\n  input: function(x, e) { return x && [[x[0], e[0][1]], [x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y && [[e[0][0], y[0]], [e[1][0], y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"].map(type),\n  input: function(xy) { return xy; },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      listeners = dispatch(brush, \"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\")\n        .on(\"mousedown.brush touchstart.brush\", started);\n  }\n\n  brush.move = function(group, selection) {\n    if (group.selection) {\n      group\n          .on(\"start.brush\", function() { emitter(this, arguments).beforestart().start(); })\n          .on(\"interrupt.brush end.brush\", function() { emitter(this, arguments).end(); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && empty(selection1) ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 && selection1 ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 == null || empty(selection1) ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args) {\n    return that.__brush.emitter || new Emitter(that, args);\n  }\n\n  function Emitter(that, args) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function() {\n      if (this.starting) this.starting = false, this.emit(\"start\");\n      return this;\n    },\n    brush: function() {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function started() {\n    if (event.touches) { if (event.changedTouches.length < event.touches.length) return noevent(); }\n    else if (touchending) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx,\n        dy,\n        moving,\n        shifting = false, // ZK disable shift key\n        lockX,\n        lockY,\n        point0 = mouse(that),\n        point = point0,\n        emit = emitter(that, arguments).beforestart();\n\n    if (type === \"overlay\") {\n      state.selection = selection = [\n        [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n        [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n      ];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      group\n          .on(\"touchmove.brush\", moved, true)\n          .on(\"touchend.brush touchcancel.brush\", ended, true);\n    } else {\n      var view = select(event.view)\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n\n      dragDisable(event.view);\n    }\n\n    nopropagation();\n    interrupt(that);\n    redraw.call(that);\n    emit.start();\n\n    function moved() {\n      var point1 = mouse(that);\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;\n        else lockX = true;\n      }\n      point = point1;\n      moving = true;\n      noevent();\n      move();\n    }\n\n    function move() {\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n          else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n          if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n          else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n          if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n\n    function ended() {\n      nopropagation();\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n        group.on(\"touchmove.brush touchend.brush touchcancel.brush\", null);\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n\n    function keydowned() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n\n    function keyupped() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = extent.apply(this, arguments);\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n"],"sourceRoot":""}